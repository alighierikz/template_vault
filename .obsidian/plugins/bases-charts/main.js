/*
-------------------------------------------
Bases Charts - Release Build
-------------------------------------------
By: Moritz Jung (https://moritzjung.dev/)
Time: Wed, 17 Dec 2025 20:36:00 GMT
Version: 0.0.11
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (c) 2025 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";const jn=require("obsidian");function wi(t){return t==null?"":typeof t=="number"?t.toLocaleString(void 0,{notation:"compact",roundingPriority:"auto",maximumSignificantDigits:4}):typeof t=="boolean"?t?"Yes":"No":typeof t=="symbol"?Symbol.keyFor(t)??"":t instanceof Date?t.toLocaleDateString():typeof t=="object"?"object":t}const oc=["var(--color-blue)","var(--color-orange)","var(--color-red)","var(--color-cyan)","var(--color-green)","var(--color-yellow)","var(--color-purple)","var(--color-pink)"],ru=t=>"var(--bases-charts-accent)";function rg(t){if(!t)return null;if(t instanceof jn.NumberValue)return t.data;if(t instanceof jn.StringValue){const e=parseFloat(t.data);return isNaN(e)?null:e}return null}function ig(t){if(!t)return null;if(t instanceof jn.NumberValue)return t.data;if(t instanceof jn.StringValue){const e=parseFloat(t.data);return isNaN(e)?t.data:e}return t instanceof jn.DateValue?new Date(t.toString()):null}class iu{view;data;groupBySet;yDomain;constructor(e,n,r){this.view=e,this.data=n,this.groupBySet=r,this.yDomain=this.getYDomain()}getChartGroupIdentifier(){return this.hasMultipleGroups()?e=>this.getColorFromGroupIndex(e.groupIndex):ru}getColorFromGroupIndex(e){return oc[e%oc.length]}hasMultipleGroups(){return this.getGroupIdentifiers().length>1}hasMultipleCharts(){return this.getChartIdentifiers().length>1}getFlat(e,n=!1){const r=this.data.filter(i=>i.chartIndex===e);return n?og(r):r}getStacked(e){const n=new Map,r=[];for(const i of this.data){if(i.chartIndex!==e)continue;const s=(n.get(i.x)??0)+i.y;r.push({...i,y:s}),n.set(i.x,s)}return r}getYDomainForChart(e){const n=this.yDomain,r=n.min??this.getChartYMin(e),i=n.max??this.getChartYMax(e);return[r??0,i??0]}getYDomain(){const e=this.view.getYDomainOverrides();return e.synced&&(e.min??=this.getGlobalYMin(),e.max??=this.getGlobalYMax()),e}getGlobalYMin(){let e=null;for(let n=0;n<this.getChartIdentifiers().length;n++){const r=this.getFlat(n);for(const i of r)(e===null||i.y<e)&&(e=i.y)}return e}getGlobalYMax(){let e=null;for(let n=0;n<this.getChartIdentifiers().length;n++){const r=this.getFlat(n);for(const i of r)(e===null||i.y>e)&&(e=i.y)}return e}getChartYMin(e){let n=null;const r=this.getFlat(e);for(const i of r)(n===null||i.y<n)&&(n=i.y);return n}getChartYMax(e){let n=null;const r=this.getFlat(e);for(const i of r)(n===null||i.y>n)&&(n=i.y);return n}}class au extends iu{getChartIdentifiers(){return this.groupBySet.length===0?["No group"]:this.groupBySet}getGroupIdentifiers(){return this.view.data.properties}getChartName(e){return this.getChartIdentifiers()[e]??`Chart ${e+1}`}getGroupName(e){const n=this.getGroupIdentifiers()[e];return this.view.config.getDisplayName(n)??`Group ${e+1}`}}class ag extends iu{getChartIdentifiers(){return this.view.data.properties}getGroupIdentifiers(){return this.groupBySet}getChartName(e){const n=this.getChartIdentifiers()[e];return this.view.config.getDisplayName(n)??`Chart ${e+1}`}getGroupName(e){return this.getGroupIdentifiers()[e]??`Group ${e+1}`}}function sc(t){return new au(t,[],[])}function og(t){return t.sort((e,n)=>e.groupIndex!=null&&n.groupIndex!=null?e.groupIndex-n.groupIndex:0)}const sg="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(sg);const fg=1,cg=2,ou=4,lg=8,ug=16,dg=1,hg=4,gg=8,pg=16,su=1,vg=2,ne=Symbol(),mg="http://www.w3.org/1999/xhtml",bg="http://www.w3.org/2000/svg",fu="@attach",ss=!1;var sf=Array.isArray,yg=Array.prototype.indexOf,Qa=Array.from,cu=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,_g=Object.getOwnPropertyDescriptors,xg=Object.prototype,wg=Array.prototype,lu=Object.getPrototypeOf,fc=Object.isExtensible;function $r(t){return typeof t=="function"}const Ht=()=>{};function Sg(t){for(var e=0;e<t.length;e++)t[e]()}function uu(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function Ct(t,e,n=!1){return t===void 0?n?e():e:t}function va(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const ie=2,ff=4,Ja=8,du=1<<24,Dn=16,In=32,br=64,to=128,Xe=512,oe=1024,we=2048,un=4096,Ne=8192,En=16384,cf=32768,Gn=65536,cc=1<<17,hu=1<<18,Ur=1<<19,gu=1<<20,Sn=1<<25,sr=32768,fs=1<<21,lf=1<<22,Wn=1<<23,Bn=Symbol("$state"),pu=Symbol("legacy props"),kg=Symbol(""),Ar=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function vu(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Mg(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Tg(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Eg(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ag(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ng(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Cg(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Pg(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fg(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Lg(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Rg(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Dg(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Ig(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function mu(t){return t===this.v}function bu(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function yu(t){return!bu(t,this.v)}let Og=!1,se=null;function Lr(t){se=t}function Et(t){return uf().get(t)}function ma(t,e){return uf().set(t,e),e}function lc(t){return uf().has(t)}function pt(t,e=!1,n){se={p:se,i:!1,c:null,e:null,s:t,x:null,l:null}}function vt(t){var e=se,n=e.e;if(n!==null){e.e=null;for(var r of n)Ou(r)}return t!==void 0&&(e.x=t),e.i=!0,se=e.p,t??{}}function _u(){return!0}function uf(t){return se===null&&vu(),se.c??=new Map(Yg(se)||void 0)}function Yg(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let Nr=[];function zg(){var t=Nr;Nr=[],Sg(t)}function yr(t){if(Nr.length===0){var e=Nr;queueMicrotask(()=>{e===Nr&&zg()})}Nr.push(t)}function xu(t){var e=St;if(e===null)return bt.f|=Wn,t;if((e.f&cf)===0){if((e.f&to)===0)throw t;e.b.error(t)}else Rr(t,e)}function Rr(t,e){for(;e!==null;){if((e.f&to)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Qi=new Set;let It=null,Ie=null,Je=[],df=null,cs=!1;class rn{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#a=null;#i=new Set;#o=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(e){Je=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#l(),this.is_deferred()?(this.#f(n.effects),this.#f(n.render_effects)):(It=null,uc(n.render_effects),uc(n.effects),this.#a?.resolve()),Ie=null}#s(e,n){e.f^=oe;for(var r=e.first;r!==null;){var i=r.f,o=(i&(In|br))!==0,s=o&&(i&oe)!==0,f=s||(i&Ne)!==0||this.skipped_effects.has(r);if((r.f&to)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!f&&r.fn!==null){o?r.f^=oe:(i&ff)!==0?n.effects.push(r):Wi(r)&&((r.f&Dn)!==0&&this.#i.add(r),Mi(r));var c=r.first;if(c!==null){r=c;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)l===n.effect&&(this.#f(n.effects),this.#f(n.render_effects),n=n.parent),r=l.next,l=l.parent}}#f(e){for(const n of e)(n.f&we)!==0?this.#i.add(n):(n.f&un)!==0&&this.#o.add(n),this.#c(n.deps),fe(n,oe)}#c(e){if(e!==null)for(const n of e)(n.f&ie)===0||(n.f&sr)===0||(n.f^=sr,this.#c(n.deps))}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&Wn)===0&&(this.current.set(e,e.v),Ie?.set(e,e.v))}activate(){It=this,this.apply()}deactivate(){It===this&&(It=null,Ie=null)}flush(){if(this.activate(),Je.length>0){if(qg(),It!==null&&It!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#e)e(this);this.#e.clear()}#l(){if(this.#r===0){for(const e of this.#t)e();this.#t.clear()}this.#n===0&&this.#u()}#u(){if(Qi.size>1){this.previous.clear();var e=Ie,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const o of Qi){if(o===this){n=!1;continue}const s=[];for(const[c,l]of this.current){if(o.current.has(c))if(n&&l!==o.current.get(c))o.current.set(c,l);else continue;s.push(c)}if(s.length===0)continue;const f=[...o.current.keys()].filter(c=>!this.current.has(c));if(f.length>0){var i=Je;Je=[];const c=new Set,l=new Map;for(const u of s)wu(u,f,c,l);if(Je.length>0){It=o,o.apply();for(const u of Je)o.#s(u,r);o.deactivate()}Je=i}}It=null,Ie=e}this.committed=!0,Qi.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#i)this.#o.delete(e),fe(e,we),fr(e);for(const e of this.#o)fe(e,un),fr(e);this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#a??=uu()).promise}static ensure(){if(It===null){const e=It=new rn;Qi.add(It),rn.enqueue(()=>{It===e&&e.flush()})}return It}static enqueue(e){yr(e)}apply(){}}function qg(){var t=ir;cs=!0;var e=null;try{var n=0;for(ya(!0);Je.length>0;){var r=rn.ensure();if(n++>1e3){var i,o;jg()}r.process(Je),Hn.clear()}}finally{cs=!1,ya(t),df=null}}function jg(){try{Ng()}catch(t){Rr(t,df)}}let xn=null;function uc(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(En|Ne))===0&&Wi(r)&&(xn=new Set,Mi(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Wu(r):r.fn=null),xn?.size>0)){Hn.clear();for(const i of xn){if((i.f&(En|Ne))!==0)continue;const o=[i];let s=i.parent;for(;s!==null;)xn.has(s)&&(xn.delete(s),o.push(s)),s=s.parent;for(let f=o.length-1;f>=0;f--){const c=o[f];(c.f&(En|Ne))===0&&Mi(c)}}xn.clear()}}xn=null}}function wu(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const o=i.f;(o&ie)!==0?wu(i,e,n,r):(o&(lf|Dn))!==0&&(o&we)===0&&Su(i,e,r)&&(fe(i,we),fr(i))}}function Su(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&ie)!==0&&Su(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function fr(t){for(var e=df=t;e.parent!==null;){e=e.parent;var n=e.f;if(cs&&e===St&&(n&Dn)!==0&&(n&hu)===0)return;if((n&(br|In))!==0){if((n&oe)===0)return;e.f^=oe}}Je.push(e)}function ku(t){let e=0,n=Fn(0),r;return()=>{Si()&&(a(n),Yu(()=>(e===0&&(r=ge(()=>t(()=>tn(n)))),e+=1,()=>{yr(()=>{e-=1,e===0&&(r?.(),r=void 0,tn(n))})})))}}var Ug=Gn|Ur|to;function ls(t,e,n){new Wg(t,e,n)}class Wg{parent;#t=!1;#e;#n=null;#r;#a;#i;#o=null;#s=null;#f=null;#c=null;#l=null;#u=0;#d=0;#g=!1;#h=null;#y=ku(()=>(this.#h=Fn(this.#u),()=>{this.#h=null}));constructor(e,n,r){this.#e=e,this.#r=n,this.#a=r,this.parent=St.b,this.#t=!!this.#r.pending,this.#i=Wr(()=>{St.b=this;{var i=this.#m();try{this.#o=be(()=>r(i))}catch(o){this.error(o)}this.#d>0?this.#v():this.#t=!1}return()=>{this.#l?.remove()}},Ug)}#_(){try{this.#o=be(()=>this.#a(this.#e))}catch(e){this.error(e)}this.#t=!1}#x(){const e=this.#r.pending;e&&(this.#s=be(()=>e(this.#e)),rn.enqueue(()=>{var n=this.#m();this.#o=this.#p(()=>(rn.ensure(),be(()=>this.#a(n)))),this.#d>0?this.#v():(rr(this.#s,()=>{this.#s=null}),this.#t=!1)}))}#m(){var e=this.#e;return this.#t&&(this.#l=fn(),this.#e.before(this.#l),e=this.#l),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#p(e){var n=St,r=bt,i=se;dn(this.#i),xe(this.#i),Lr(this.#i.ctx);try{return e()}catch(o){return xu(o),null}finally{dn(n),xe(r),Lr(i)}}#v(){const e=this.#r.pending;this.#o!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#l),Gu(this.#o,this.#c)),this.#s===null&&(this.#s=be(()=>e(this.#e)))}#b(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(e);return}this.#d+=e,this.#d===0&&(this.#t=!1,this.#s&&rr(this.#s,()=>{this.#s=null}),this.#c&&(this.#e.before(this.#c),this.#c=null))}update_pending_count(e){this.#b(e),this.#u+=e,this.#h&&Dr(this.#h,this.#u)}get_effect_pending(){return this.#y(),a(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#g||!n&&!r)throw e;this.#o&&(re(this.#o),this.#o=null),this.#s&&(re(this.#s),this.#s=null),this.#f&&(re(this.#f),this.#f=null);var i=!1,o=!1;const s=()=>{if(i){Ig();return}i=!0,o&&Rg(),rn.ensure(),this.#u=0,this.#f!==null&&rr(this.#f,()=>{this.#f=null}),this.#t=this.has_pending_snippet(),this.#o=this.#p(()=>(this.#g=!1,be(()=>this.#a(this.#e)))),this.#d>0?this.#v():this.#t=!1};var f=bt;try{xe(null),o=!0,n?.(e,s),o=!1}catch(c){Rr(c,this.#i&&this.#i.parent)}finally{xe(f)}r&&yr(()=>{this.#f=this.#p(()=>{rn.ensure(),this.#g=!0;try{return be(()=>{r(this.#e,()=>e,()=>s)})}catch(c){return Rr(c,this.#i.parent),null}finally{this.#g=!1}})})}}function Mu(t,e,n,r){const i=eo;if(n.length===0&&t.length===0){r(e.map(i));return}var o=It,s=St,f=Bg();function c(){Promise.all(n.map(l=>Hg(l))).then(l=>{f();try{r([...e.map(i),...l])}catch(u){(s.f&En)===0&&Rr(u,s)}o?.deactivate(),ba()}).catch(l=>{Rr(l,s)})}t.length>0?Promise.all(t).then(()=>{f();try{return c()}finally{o?.deactivate(),ba()}}):c()}function Bg(){var t=St,e=bt,n=se,r=It;return function(o=!0){dn(t),xe(e),Lr(n),o&&r?.activate()}}function ba(){dn(null),xe(null),Lr(null)}function eo(t){var e=ie|we,n=bt!==null&&(bt.f&ie)!==0?bt:null;return St!==null&&(St.f|=Ur),{ctx:se,deps:null,effects:null,equals:mu,f:e,fn:t,reactions:null,rv:0,v:ne,wv:0,parent:n??St,ac:null}}function Hg(t,e){let n=St;n===null&&Mg();var r=n.b,i=void 0,o=Fn(ne),s=!bt,f=new Map;return ep(()=>{var c=uu();i=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(()=>{l===It&&l.committed&&l.deactivate(),ba()})}catch(d){c.reject(d),ba()}var l=It;if(s){var u=!r.is_pending();r.update_pending_count(1),l.increment(u),f.get(l)?.reject(Ar),f.delete(l),f.set(l,c)}const h=(d,g=void 0)=>{if(l.activate(),g)g!==Ar&&(o.f|=Wn,Dr(o,g));else{(o.f&Wn)!==0&&(o.f^=Wn),Dr(o,d);for(const[m,y]of f){if(f.delete(m),m===l)break;y.reject(Ar)}}s&&(r.update_pending_count(-1),l.decrement(u))};c.promise.then(h,d=>h(null,d||"unknown"))}),no(()=>{for(const c of f.values())c.reject(Ar)}),new Promise(c=>{function l(u){function h(){u===i?c(o):l(i)}u.then(h,h)}l(i)})}function v(t){const e=eo(t);return Xu(e),e}function Tu(t){const e=eo(t);return e.equals=yu,e}function Eu(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)re(e[n])}}function Gg(t){for(var e=t.parent;e!==null;){if((e.f&ie)===0)return(e.f&En)===0?e:null;e=e.parent}return null}function hf(t){var e,n=St;dn(Gg(t));try{t.f&=~sr,Eu(t),e=$u(t)}finally{dn(n)}return e}function Au(t){var e=hf(t);if(t.equals(e)||(It?.is_fork||(t.v=e),t.wv=Zu()),!_r)if(Ie!==null)(Si()||It?.is_fork)&&Ie.set(t,e);else{var n=(t.f&Xe)===0?un:oe;fe(t,n)}}let us=new Set;const Hn=new Map;let Nu=!1;function Fn(t,e){var n={f:0,v:t,reactions:null,equals:mu,rv:0,wv:0};return n}function wt(t,e){const n=Fn(t);return Xu(n),n}function Cu(t,e=!1,n=!0){const r=Fn(t);return e||(r.equals=yu),r}function gt(t,e,n=!1){bt!==null&&(!an||(bt.f&cc)!==0)&&_u()&&(bt.f&(ie|Dn|lf|cc))!==0&&!An?.includes(t)&&Lg();let r=n?Ae(e):e;return Dr(t,r)}function Dr(t,e){if(!t.equals(e)){var n=t.v;_r?Hn.set(t,e):Hn.set(t,n),t.v=e;var r=rn.ensure();r.capture(t,n),(t.f&ie)!==0&&((t.f&we)!==0&&hf(t),fe(t,(t.f&Xe)!==0?oe:un)),t.wv=Zu(),Pu(t,we),St!==null&&(St.f&oe)!==0&&(St.f&(In|br))===0&&(De===null?rp([t]):De.push(t)),!r.is_fork&&us.size>0&&!Nu&&Xg()}return e}function Xg(){Nu=!1;var t=ir;ya(!0);const e=Array.from(us);try{for(const n of e)(n.f&oe)!==0&&fe(n,un),Wi(n)&&Mi(n)}finally{ya(t)}us.clear()}function tn(t){gt(t,t.v+1)}function Pu(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i],s=o.f,f=(s&we)===0;if(f&&fe(o,e),(s&ie)!==0){var c=o;Ie?.delete(c),(s&sr)===0&&(s&Xe&&(o.f|=sr),Pu(c,un))}else f&&((s&Dn)!==0&&xn!==null&&xn.add(o),fr(o))}}function Ae(t){if(typeof t!="object"||t===null||Bn in t)return t;const e=lu(t);if(e!==xg&&e!==wg)return t;var n=new Map,r=sf(t),i=wt(0),o=Nn,s=f=>{if(Nn===o)return f();var c=bt,l=Nn;xe(null),pc(o);var u=f();return xe(c),pc(l),u};return r&&n.set("length",wt(t.length)),new Proxy(t,{defineProperty(f,c,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Pg();var u=n.get(c);return u===void 0?u=s(()=>{var h=wt(l.value);return n.set(c,h),h}):gt(u,l.value,!0),!0},deleteProperty(f,c){var l=n.get(c);if(l===void 0){if(c in f){const u=s(()=>wt(ne));n.set(c,u),tn(i)}}else gt(l,ne),tn(i);return!0},get(f,c,l){if(c===Bn)return t;var u=n.get(c),h=c in f;if(u===void 0&&(!h||Un(f,c)?.writable)&&(u=s(()=>{var g=Ae(h?f[c]:ne),m=wt(g);return m}),n.set(c,u)),u!==void 0){var d=a(u);return d===ne?void 0:d}return Reflect.get(f,c,l)},getOwnPropertyDescriptor(f,c){var l=Reflect.getOwnPropertyDescriptor(f,c);if(l&&"value"in l){var u=n.get(c);u&&(l.value=a(u))}else if(l===void 0){var h=n.get(c),d=h?.v;if(h!==void 0&&d!==ne)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return l},has(f,c){if(c===Bn)return!0;var l=n.get(c),u=l!==void 0&&l.v!==ne||Reflect.has(f,c);if(l!==void 0||St!==null&&(!u||Un(f,c)?.writable)){l===void 0&&(l=s(()=>{var d=u?Ae(f[c]):ne,g=wt(d);return g}),n.set(c,l));var h=a(l);if(h===ne)return!1}return u},set(f,c,l,u){var h=n.get(c),d=c in f;if(r&&c==="length")for(var g=l;g<h.v;g+=1){var m=n.get(g+"");m!==void 0?gt(m,ne):g in f&&(m=s(()=>wt(ne)),n.set(g+"",m))}if(h===void 0)(!d||Un(f,c)?.writable)&&(h=s(()=>wt(void 0)),gt(h,Ae(l)),n.set(c,h));else{d=h.v!==ne;var y=s(()=>Ae(l));gt(h,y)}var b=Reflect.getOwnPropertyDescriptor(f,c);if(b?.set&&b.set.call(u,l),!d){if(r&&typeof c=="string"){var _=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=_.v&&gt(_,k+1)}tn(i)}return!0},ownKeys(f){a(i);var c=Reflect.ownKeys(f).filter(h=>{var d=n.get(h);return d===void 0||d.v!==ne});for(var[l,u]of n)u.v!==ne&&!(l in f)&&c.push(l);return c},setPrototypeOf(){Fg()}})}function dc(t){try{if(t!==null&&typeof t=="object"&&Bn in t)return t[Bn]}catch{}return t}function Vg(t,e){return Object.is(dc(t),dc(e))}var hc,Fu,Lu,Ru;function Zg(){if(hc===void 0){hc=window,Fu=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Lu=Un(e,"firstChild").get,Ru=Un(e,"nextSibling").get,fc(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),fc(n)&&(n.__t=void 0)}}function fn(t=""){return document.createTextNode(t)}function Ee(t){return Lu.call(t)}function Ui(t){return Ru.call(t)}function et(t,e){return Ee(t)}function Z(t,e=!1){{var n=Ee(t);return n instanceof Comment&&n.data===""?Ui(n):n}}function $(t,e=1,n=!1){let r=t;for(;e--;)r=Ui(r);return r}function Kg(t){t.textContent=""}function Du(){return!1}function $g(t,e){if(e){const n=document.body;t.autofocus=!0,yr(()=>{document.activeElement===n&&t.focus()})}}function gf(t){var e=bt,n=St;xe(null),dn(null);try{return t()}finally{xe(e),dn(n)}}function Iu(t){St===null&&(bt===null&&Ag(),Eg()),_r&&Tg()}function Qg(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Ze(t,e,n){var r=St;r!==null&&(r.f&Ne)!==0&&(t|=Ne);var i={ctx:se,deps:null,nodes:null,f:t|we|Xe,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Mi(i),i.f|=cf}catch(f){throw re(i),f}else e!==null&&fr(i);var o=i;if(n&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&(o.f&Ur)===0&&(o=o.first,(t&Dn)!==0&&(t&Gn)!==0&&o!==null&&(o.f|=Gn)),o!==null&&(o.parent=r,r!==null&&Qg(o,r),bt!==null&&(bt.f&ie)!==0&&(t&br)===0)){var s=bt;(s.effects??=[]).push(o)}return i}function Si(){return bt!==null&&!an}function no(t){const e=Ze(Ja,null,!1);return fe(e,oe),e.teardown=t,e}function ae(t){Iu();var e=St.f,n=!bt&&(e&In)!==0&&(e&cf)===0;if(n){var r=se;(r.e??=[]).push(t)}else return Ou(t)}function Ou(t){return Ze(ff|gu,t,!1)}function Jg(t){return Iu(),Ze(Ja|gu,t,!0)}function tp(t){rn.ensure();const e=Ze(br|Ur,t,!0);return(n={})=>new Promise(r=>{n.outro?rr(e,()=>{re(e),r(void 0)}):(re(e),r(void 0))})}function ro(t){return Ze(ff,t,!1)}function ep(t){return Ze(lf|Ur,t,!0)}function Yu(t,e=0){return Ze(Ja|e,t,!0)}function it(t,e=[],n=[],r=[]){Mu(r,e,n,i=>{Ze(Ja,()=>t(...i.map(a)),!0)})}function Wr(t,e=0){var n=Ze(Dn|e,t,!0);return n}function zu(t,e=0){var n=Ze(du|e,t,!0);return n}function be(t){return Ze(In|Ur,t,!0)}function qu(t){var e=t.teardown;if(e!==null){const n=_r,r=bt;gc(!0),xe(null);try{e.call(null)}finally{gc(n),xe(r)}}}function ju(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&gf(()=>{i.abort(Ar)});var r=n.next;(n.f&br)!==0?n.parent=null:re(n,e),n=r}}function np(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&In)===0&&re(e),e=n}}function re(t,e=!0){var n=!1;(e||(t.f&hu)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Uu(t.nodes.start,t.nodes.end),n=!0),ju(t,e&&!n),_a(t,0),fe(t,En);var r=t.nodes&&t.nodes.t;if(r!==null)for(const o of r)o.stop();qu(t);var i=t.parent;i!==null&&i.first!==null&&Wu(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Uu(t,e){for(;t!==null;){var n=t===e?null:Ui(t);t.remove(),t=n}}function Wu(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function rr(t,e,n=!0){var r=[];Bu(t,r,!0);var i=()=>{n&&re(t),e&&e()},o=r.length;if(o>0){var s=()=>--o||i();for(var f of r)f.out(s)}else i()}function Bu(t,e,n){if((t.f&Ne)===0){t.f^=Ne;var r=t.nodes&&t.nodes.t;if(r!==null)for(const f of r)(f.is_global||n)&&e.push(f);for(var i=t.first;i!==null;){var o=i.next,s=(i.f&Gn)!==0||(i.f&In)!==0&&(t.f&Dn)!==0;Bu(i,e,s?n:!1),i=o}}}function pf(t){Hu(t,!0)}function Hu(t,e){if((t.f&Ne)!==0){t.f^=Ne,(t.f&oe)===0&&(fe(t,we),fr(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Gn)!==0||(n.f&In)!==0;Hu(n,i?e:!1),n=r}var o=t.nodes&&t.nodes.t;if(o!==null)for(const s of o)(s.is_global||e)&&s.in()}}function Gu(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;n!==null;){var i=n===r?null:Ui(n);e.append(n),n=i}}let ir=!1;function ya(t){ir=t}let _r=!1;function gc(t){_r=t}let bt=null,an=!1;function xe(t){bt=t}let St=null;function dn(t){St=t}let An=null;function Xu(t){bt!==null&&(An===null?An=[t]:An.push(t))}let de=null,ke=0,De=null;function rp(t){De=t}let Vu=1,ki=0,Nn=ki;function pc(t){Nn=t}function Zu(){return++Vu}function Wi(t){var e=t.f;if((e&we)!==0)return!0;if(e&ie&&(t.f&=~sr),(e&un)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i];if(Wi(o)&&Au(o),o.wv>t.wv)return!0}(e&Xe)!==0&&Ie===null&&fe(t,oe)}return!1}function Ku(t,e,n=!0){var r=t.reactions;if(r!==null&&!An?.includes(t))for(var i=0;i<r.length;i++){var o=r[i];(o.f&ie)!==0?Ku(o,e,!1):e===o&&(n?fe(o,we):(o.f&oe)!==0&&fe(o,un),fr(o))}}function $u(t){var e=de,n=ke,r=De,i=bt,o=An,s=se,f=an,c=Nn,l=t.f;de=null,ke=0,De=null,bt=(l&(In|br))===0?t:null,An=null,Lr(t.ctx),an=!1,Nn=++ki,t.ac!==null&&(gf(()=>{t.ac.abort(Ar)}),t.ac=null);try{t.f|=fs;var u=t.fn,h=u(),d=t.deps;if(de!==null){var g;if(_a(t,ke),d!==null&&ke>0)for(d.length=ke+de.length,g=0;g<de.length;g++)d[ke+g]=de[g];else t.deps=d=de;if(Si()&&(t.f&Xe)!==0)for(g=ke;g<d.length;g++)(d[g].reactions??=[]).push(t)}else d!==null&&ke<d.length&&(_a(t,ke),d.length=ke);if(_u()&&De!==null&&!an&&d!==null&&(t.f&(ie|un|we))===0)for(g=0;g<De.length;g++)Ku(De[g],t);return i!==null&&i!==t&&(ki++,De!==null&&(r===null?r=De:r.push(...De))),(t.f&Wn)!==0&&(t.f^=Wn),h}catch(m){return xu(m)}finally{t.f^=fs,de=e,ke=n,De=r,bt=i,An=o,Lr(s),an=f,Nn=c}}function ip(t,e){let n=e.reactions;if(n!==null){var r=yg.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&ie)!==0&&(de===null||!de.includes(e))&&(fe(e,un),(e.f&Xe)!==0&&(e.f^=Xe,e.f&=~sr),Eu(e),_a(e,0))}function _a(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ip(t,n[r])}function Mi(t){var e=t.f;if((e&En)===0){fe(t,oe);var n=St,r=ir;St=t,ir=!0;try{(e&(Dn|du))!==0?np(t):ju(t),qu(t);var i=$u(t);t.teardown=typeof i=="function"?i:null,t.wv=Vu;var o;ss&&Og&&(t.f&we)!==0&&t.deps}finally{ir=r,St=n}}}function a(t){var e=t.f,n=(e&ie)!==0;if(bt!==null&&!an){var r=St!==null&&(St.f&En)!==0;if(!r&&!An?.includes(t)){var i=bt.deps;if((bt.f&fs)!==0)t.rv<ki&&(t.rv=ki,de===null&&i!==null&&i[ke]===t?ke++:de===null?de=[t]:de.includes(t)||de.push(t));else{(bt.deps??=[]).push(t);var o=t.reactions;o===null?t.reactions=[bt]:o.includes(bt)||o.push(bt)}}}if(_r){if(Hn.has(t))return Hn.get(t);if(n){var s=t,f=s.v;return((s.f&oe)===0&&s.reactions!==null||Ju(s))&&(f=hf(s)),Hn.set(s,f),f}}else n&&(!Ie?.has(t)||It?.is_fork&&!Si())&&(s=t,Wi(s)&&Au(s),ir&&Si()&&(s.f&Xe)===0&&Qu(s));if(Ie?.has(t))return Ie.get(t);if((t.f&Wn)!==0)throw t.v;return t.v}function Qu(t){if(t.deps!==null){t.f^=Xe;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ie)!==0&&(e.f&Xe)===0&&Qu(e)}}function Ju(t){if(t.v===ne)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Hn.has(e)||(e.f&ie)!==0&&Ju(e))return!0;return!1}function ge(t){var e=an;try{return an=!0,t()}finally{an=e}}const ap=-7169;function fe(t,e){t.f=t.f&ap|e}function Ke(t,e){var n={};for(var r in t)e.includes(r)||(n[r]=t[r]);for(var i of Object.getOwnPropertySymbols(t))Object.propertyIsEnumerable.call(t,i)&&!e.includes(i)&&(n[i]=t[i]);return n}const td=new Set,ds=new Set;function ed(t,e,n,r={}){function i(o){if(r.capture||ii.call(e,o),!o.cancelBubble)return gf(()=>n?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?yr(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function nd(t,e,n,r={}){var i=ed(e,t,n,r);return()=>{t.removeEventListener(e,i,r)}}function rd(t){for(var e=0;e<t.length;e++)td.add(t[e]);for(var n of ds)n(t)}let vc=null;function ii(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],o=i[0]||t.target;vc=t;var s=0,f=vc===t&&t.__root;if(f){var c=i.indexOf(f);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;c<=l&&(s=c)}if(o=i[s]||t.target,o!==e){cu(t,"currentTarget",{configurable:!0,get(){return o||n}});var u=bt,h=St;xe(null),dn(null);try{for(var d,g=[];o!==null;){var m=o.assignedSlot||o.parentNode||o.host||null;try{var y=o["__"+r];y!=null&&(!o.disabled||t.target===o)&&y.call(o,t)}catch(b){d?g.push(b):d=b}if(t.cancelBubble||m===e||m===null)break;o=m}if(d){for(let b of g)queueMicrotask(()=>{throw b});throw d}}finally{t.__root=e,delete t.currentTarget,xe(u),dn(h)}}}function vf(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Xn(t,e){var n=St;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function kt(t,e){var n=(e&su)!==0,r=(e&vg)!==0,i,o=!t.startsWith("<!>");return()=>{i===void 0&&(i=vf(o?t:"<!>"+t),n||(i=Ee(i)));var s=r||Fu?document.importNode(i,!0):i.cloneNode(!0);if(n){var f=Ee(s),c=s.lastChild;Xn(f,c)}else Xn(s,s);return s}}function op(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&su)!==0,o=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var f=vf(o),c=Ee(f);if(i)for(s=document.createDocumentFragment();Ee(c);)s.appendChild(Ee(c));else s=Ee(c)}var l=s.cloneNode(!0);if(i){var u=Ee(l),h=l.lastChild;Xn(u,h)}else Xn(l,l);return l}}function rt(t,e){return op(t,e,"svg")}function sp(t=""){{var e=fn(t+"");return Xn(e,e),e}}function at(){var t=document.createDocumentFragment(),e=document.createComment(""),n=fn();return t.append(e,n),Xn(e,n),t}function F(t,e){t!==null&&t.before(e)}function fp(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const cp=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function lp(t){return cp.includes(t)}const up={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function dp(t){return t=t.toLowerCase(),up[t]??t}const hp=["touchstart","touchmove"];function gp(t){return hp.includes(t)}function Xt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Fo(t,e){return pp(t,e)}const kr=new Map;function pp(t,{target:e,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Zg();var f=new Set,c=h=>{for(var d=0;d<h.length;d++){var g=h[d];if(!f.has(g)){f.add(g);var m=gp(g);e.addEventListener(g,ii,{passive:m});var y=kr.get(g);y===void 0?(document.addEventListener(g,ii,{passive:m}),kr.set(g,1)):kr.set(g,y+1)}}};c(Qa(td)),ds.add(c);var l=void 0,u=tp(()=>{var h=n??e.appendChild(fn());return ls(h,{pending:()=>{}},d=>{if(o){pt({});var g=se;g.c=o}i&&(r.$$events=i),l=t(d,r)||{},o&&vt()}),()=>{for(var d of f){e.removeEventListener(d,ii);var g=kr.get(d);--g===0?(document.removeEventListener(d,ii),kr.delete(d)):kr.set(d,g)}ds.delete(c),h!==n&&h.parentNode?.removeChild(h)}});return hs.set(l,u),l}let hs=new WeakMap;function vp(t,e){const n=hs.get(t);return n?(hs.delete(t),n(e)):Promise.resolve()}class io{anchor;#t=new Map;#e=new Map;#n=new Map;#r=new Set;#a=!0;constructor(e,n=!0){this.anchor=e,this.#a=n}#i=()=>{var e=It;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#e.get(n);if(r)pf(r),this.#r.delete(n);else{var i=this.#n.get(n);i&&(this.#e.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of this.#t){if(this.#t.delete(o),o===e)break;const f=this.#n.get(s);f&&(re(f.effect),this.#n.delete(s))}for(const[o,s]of this.#e){if(o===n||this.#r.has(o))continue;const f=()=>{if(Array.from(this.#t.values()).includes(o)){var l=document.createDocumentFragment();Gu(s,l),l.append(fn()),this.#n.set(o,{effect:s,fragment:l})}else re(s);this.#r.delete(o),this.#e.delete(o)};this.#a||!r?(this.#r.add(o),rr(s,f,!1)):f()}}};#o=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,i]of this.#n)n.includes(r)||(re(i.effect),this.#n.delete(r))};ensure(e,n){var r=It,i=Du();if(n&&!this.#e.has(e)&&!this.#n.has(e))if(i){var o=document.createDocumentFragment(),s=fn();o.append(s),this.#n.set(e,{effect:be(()=>n(s)),fragment:o})}else this.#e.set(e,be(()=>n(this.anchor)));if(this.#t.set(r,e),i){for(const[f,c]of this.#e)f===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[f,c]of this.#n)f===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.oncommit(this.#i),r.ondiscard(this.#o)}else this.#i()}}function Gt(t,e,...n){var r=new io(t);Wr(()=>{const i=e()??null;r.ensure(i,i&&(o=>i(o,...n)))},Gn)}function id(t){se===null&&vu(),ae(()=>{const e=ge(t);if(typeof e=="function")return e})}function ad(){return Symbol(fu)}function V(t,e,n=!1){var r=new io(t),i=n?Gn:0;function o(s,f){r.ensure(s,f)}Wr(()=>{var s=!1;e((f,c=!0)=>{s=!0,o(c,f)}),s||o(!1,null)},i)}function mp(t,e,n){var r=new io(t);Wr(()=>{var i=e();r.ensure(i,n)})}function ce(t,e){return e}function bp(t,e,n){for(var r=[],i=e.length,o,s=e.length,f=0;f<i;f++){let h=e[f];rr(h,()=>{if(o){if(o.pending.delete(h),o.done.add(h),o.pending.size===0){var d=t.outrogroups;gs(Qa(o.done)),d.delete(o),d.size===0&&(t.outrogroups=null)}}else s-=1},!1)}if(s===0){var c=r.length===0&&n!==null;if(c){var l=n,u=l.parentNode;Kg(u),u.append(l),t.items.clear()}gs(e,!c)}else o={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(o)}function gs(t,e=!0){for(var n=0;n<t.length;n++)re(t[n],e)}var mc;function jt(t,e,n,r,i,o=null){var s=t,f=new Map,c=(e&ou)!==0;if(c){var l=t;s=l.appendChild(fn())}var u=null,h=Tu(()=>{var _=n();return sf(_)?_:_==null?[]:Qa(_)}),d,g=!0;function m(){b.fallback=u,yp(b,d,s,e,r),u!==null&&(d.length===0?(u.f&Sn)===0?pf(u):(u.f^=Sn,ai(u,null,s)):rr(u,()=>{u=null}))}var y=Wr(()=>{d=a(h);for(var _=d.length,k=new Set,A=It,p=Du(),S=0;S<_;S+=1){var w=d[S],x=r(w,S),E=g?null:f.get(x);E?(E.v&&Dr(E.v,w),E.i&&Dr(E.i,S),p&&A.skipped_effects.delete(E.e)):(E=_p(f,g?s:mc??=fn(),w,x,S,i,e,n),g||(E.e.f|=Sn),f.set(x,E)),k.add(x)}if(_===0&&o&&!u&&(g?u=be(()=>o(s)):(u=be(()=>o(mc??=fn())),u.f|=Sn)),!g)if(p){for(const[M,T]of f)k.has(M)||A.skipped_effects.add(T.e);A.oncommit(m),A.ondiscard(()=>{})}else m();a(h)}),b={effect:y,items:f,outrogroups:null,fallback:u};g=!1}function yp(t,e,n,r,i){var o=(r&lg)!==0,s=e.length,f=t.items,c=t.effect.first,l,u=null,h,d=[],g=[],m,y,b,_;if(o)for(_=0;_<s;_+=1)m=e[_],y=i(m,_),b=f.get(y).e,(b.f&Sn)===0&&(b.nodes?.a?.measure(),(h??=new Set).add(b));for(_=0;_<s;_+=1){if(m=e[_],y=i(m,_),b=f.get(y).e,t.outrogroups!==null)for(const T of t.outrogroups)T.pending.delete(b),T.done.delete(b);if((b.f&Sn)!==0)if(b.f^=Sn,b===c)ai(b,null,n);else{var k=u?u.next:c;b===t.effect.last&&(t.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),Yn(t,u,b),Yn(t,b,k),ai(b,k,n),u=b,d=[],g=[],c=u.next;continue}if((b.f&Ne)!==0&&(pf(b),o&&(b.nodes?.a?.unfix(),(h??=new Set).delete(b))),b!==c){if(l!==void 0&&l.has(b)){if(d.length<g.length){var A=g[0],p;u=A.prev;var S=d[0],w=d[d.length-1];for(p=0;p<d.length;p+=1)ai(d[p],A,n);for(p=0;p<g.length;p+=1)l.delete(g[p]);Yn(t,S.prev,w.next),Yn(t,u,S),Yn(t,w,A),c=A,u=w,_-=1,d=[],g=[]}else l.delete(b),ai(b,c,n),Yn(t,b.prev,b.next),Yn(t,b,u===null?t.effect.first:u.next),Yn(t,u,b),u=b;continue}for(d=[],g=[];c!==null&&c!==b;)(l??=new Set).add(c),g.push(c),c=c.next;if(c===null)continue}(b.f&Sn)===0&&d.push(b),u=b,c=b.next}if(t.outrogroups!==null){for(const T of t.outrogroups)T.pending.size===0&&(gs(Qa(T.done)),t.outrogroups?.delete(T));t.outrogroups.size===0&&(t.outrogroups=null)}if(c!==null||l!==void 0){var x=[];if(l!==void 0)for(b of l)(b.f&Ne)===0&&x.push(b);for(;c!==null;)(c.f&Ne)===0&&c!==t.fallback&&x.push(c),c=c.next;var E=x.length;if(E>0){var M=(r&ou)!==0&&s===0?n:null;if(o){for(_=0;_<E;_+=1)x[_].nodes?.a?.measure();for(_=0;_<E;_+=1)x[_].nodes?.a?.fix()}bp(t,x,M)}}o&&yr(()=>{if(h!==void 0)for(b of h)b.nodes?.a?.apply()})}function _p(t,e,n,r,i,o,s,f){var c=(s&fg)!==0?(s&ug)===0?Cu(n,!1,!1):Fn(n):null,l=(s&cg)!==0?Fn(i):null;return{v:c,i:l,e:be(()=>(o(e,c??n,l??i,f),()=>{t.delete(r)}))}}function ai(t,e,n){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end,o=e&&(e.f&Sn)===0?e.nodes.start:n;r!==null;){var s=Ui(r);if(o.before(r),r===i)return;r=s}}function Yn(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}function xp(t,e,n=!1,r=!1,i=!1){var o=t,s="";it(()=>{var f=St;if(s!==(s=e()??"")&&(f.nodes!==null&&(Uu(f.nodes.start,f.nodes.end),f.nodes=null),s!=="")){var c=s+"";n?c=`<svg>${c}</svg>`:r&&(c=`<math>${c}</math>`);var l=vf(c);if((n||r)&&(l=Ee(l)),Xn(Ee(l),l.lastChild),n||r)for(;Ee(l);)o.before(Ee(l));else o.before(l)}})}function wp(t,e,n,r,i,o){var s=null,f=t,c=new io(f,!1);Wr(()=>{const l=e()||null;var u=bg;if(l===null){c.ensure(null,null);return}return c.ensure(l,h=>{if(l){if(s=document.createElementNS(u,l),Xn(s,s),r){var d=s.appendChild(fn());r(s,d)}St.nodes.end=s,h.before(s)}}),()=>{}},Gn),no(()=>{})}function cr(t,e){var n=void 0,r;zu(()=>{n!==(n=e())&&(r&&(re(r),r=null),n&&(r=be(()=>{ro(()=>n(t))})))})}function od(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=od(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sp(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=od(t))&&(r&&(r+=" "),r+=e);return r}function Jt(t){return typeof t=="object"?Sp(t):t??""}const bc=[...` 	
\r\fÂ \v\uFEFF`];function kp(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var f=s+o;(s===0||bc.includes(r[s-1]))&&(f===r.length||bc.includes(r[f]))?r=(s===0?"":r.substring(0,s))+r.substring(f+1):s=f}}return r===""?null:r}function yc(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var o=t[i];o!=null&&o!==""&&(r+=" "+i+": "+o+n)}return r}function Lo(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Mp(t,e){if(e){var n="",r,i;if(Array.isArray(e)?(r=e[0],i=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,s=0,f=!1,c=[];r&&c.push(...Object.keys(r).map(Lo)),i&&c.push(...Object.keys(i).map(Lo));var l=0,u=-1;const y=t.length;for(var h=0;h<y;h++){var d=t[h];if(f?d==="/"&&t[h-1]==="*"&&(f=!1):o?o===d&&(o=!1):d==="/"&&t[h+1]==="*"?f=!0:d==='"'||d==="'"?o=d:d==="("?s++:d===")"&&s--,!f&&o===!1&&s===0){if(d===":"&&u===-1)u=h;else if(d===";"||h===y-1){if(u!==-1){var g=Lo(t.substring(l,u).trim());if(!c.includes(g)){d!==";"&&h++;var m=t.substring(l,h).trim();n+=" "+m+";"}}l=h+1,u=-1}}}}return r&&(n+=yc(r)),i&&(n+=yc(i,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function Ot(t,e,n,r,i,o){var s=t.__className;if(s!==n||s===void 0){var f=kp(n,r,o);f==null?t.removeAttribute("class"):e?t.className=f:t.setAttribute("class",f),t.__className=n}else if(o&&i!==o)for(var c in o){var l=!!o[c];(i==null||l!==!!i[c])&&t.classList.toggle(c,l)}return o}function Ro(t,e={},n,r){for(var i in n){var o=n[i];e[i]!==o&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,o,r))}}function Lt(t,e,n,r){var i=t.__style;if(i!==e){var o=Mp(e,r);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}else r&&(Array.isArray(r)?(Ro(t,n?.[0],r[0]),Ro(t,n?.[1],r[1],"important")):Ro(t,n,r));return r}function ps(t,e,n=!1){if(t.multiple){if(e==null)return;if(!sf(e))return Dg();for(var r of t.options)r.selected=e.includes(_c(r));return}for(r of t.options){var i=_c(r);if(Vg(i,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Tp(t){var e=new MutationObserver(()=>{ps(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),no(()=>{e.disconnect()})}function _c(t){return"__value"in t?t.__value:t.value}const Qr=Symbol("class"),Jr=Symbol("style"),sd=Symbol("is custom element"),fd=Symbol("is html");function Ep(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function U(t,e,n,r){var i=cd(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[kg]=n),n==null?t.removeAttribute(e):typeof n!="string"&&ld(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Ap(t,e,n,r,i=!1,o=!1){var s=cd(t),f=s[sd],c=!s[fd],l=e||{},u=t.tagName==="OPTION";for(var h in e)h in n||(n[h]=null);n.class?n.class=Jt(n.class):(r||n[Qr])&&(n.class=null),n[Jr]&&(n.style??=null);var d=ld(t);for(const A in n){let p=n[A];if(u&&A==="value"&&p==null){t.value=t.__value="",l[A]=p;continue}if(A==="class"){var g=t.namespaceURI==="http://www.w3.org/1999/xhtml";Ot(t,g,p,r,e?.[Qr],n[Qr]),l[A]=p,l[Qr]=n[Qr];continue}if(A==="style"){Lt(t,p,e?.[Jr],n[Jr]),l[A]=p,l[Jr]=n[Jr];continue}var m=l[A];if(!(p===m&&!(p===void 0&&t.hasAttribute(A)))){l[A]=p;var y=A[0]+A[1];if(y!=="$$")if(y==="on"){const S={},w="$$"+A;let x=A.slice(2);var b=lp(x);if(fp(x)&&(x=x.slice(0,-7),S.capture=!0),!b&&m){if(p!=null)continue;t.removeEventListener(x,l[w],S),l[w]=null}if(p!=null)if(b)t[`__${x}`]=p,rd([x]);else{let E=function(M){l[A].call(this,M)};l[w]=ed(x,t,E,S)}else b&&(t[`__${x}`]=void 0)}else if(A==="style")U(t,A,p);else if(A==="autofocus")$g(t,!!p);else if(!f&&(A==="__value"||A==="value"&&p!=null))t.value=t.__value=p;else if(A==="selected"&&u)Ep(t,p);else{var _=A;c||(_=dp(_));var k=_==="defaultValue"||_==="defaultChecked";if(p==null&&!f&&!k)if(s[A]=null,_==="value"||_==="checked"){let S=t;const w=e===void 0;if(_==="value"){let x=S.defaultValue;S.removeAttribute(_),S.defaultValue=x,S.value=S.__value=w?x:null}else{let x=S.defaultChecked;S.removeAttribute(_),S.defaultChecked=x,S.checked=w?x:!1}}else t.removeAttribute(A);else k||d.includes(_)&&(f||typeof p!="string")?(t[_]=p,_ in s&&(s[_]=ne)):typeof p!="function"&&U(t,_,p)}}}return l}function ao(t,e,n=[],r=[],i=[],o,s=!1,f=!1){Mu(i,n,r,c=>{var l=void 0,u={},h=t.nodeName==="SELECT",d=!1;if(zu(()=>{var m=e(...c.map(a)),y=Ap(t,l,m,o,s,f);d&&h&&"value"in m&&ps(t,m.value);for(let _ of Object.getOwnPropertySymbols(u))m[_]||re(u[_]);for(let _ of Object.getOwnPropertySymbols(m)){var b=m[_];_.description===fu&&(!l||b!==l[_])&&(u[_]&&re(u[_]),u[_]=be(()=>cr(t,()=>b))),y[_]=b}l=y}),h){var g=t;ro(()=>{ps(g,l.value,!0),Tp(g)})}d=!0})}function cd(t){return t.__attributes??={[sd]:t.nodeName.includes("-"),[fd]:t.namespaceURI===mg}}var xc=new Map;function ld(t){var e=t.getAttribute("is")||t.nodeName,n=xc.get(e);if(n)return n;xc.set(e,n=[]);for(var r,i=t,o=Element.prototype;o!==i;){r=_g(i);for(var s in r)r[s].set&&n.push(s);i=lu(i)}return n}class mf{#t=new WeakMap;#e;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,n){var r=this.#t.get(e)||new Set;return r.add(n),this.#t.set(e,r),this.#r().observe(e,this.#n),()=>{var i=this.#t.get(e);i.delete(n),i.size===0&&(this.#t.delete(e),this.#e.unobserve(e))}}#r(){return this.#e??(this.#e=new ResizeObserver(e=>{for(var n of e){mf.entries.set(n.target,n);for(var r of this.#t.get(n.target)||[])r(n)}}))}}var Np=new mf({box:"border-box"});function vs(t,e,n){var r=Np.observe(t,()=>n(t[e]));ro(()=>(ge(()=>n(t[e])),r))}function wc(t,e){return t===e||t?.[Bn]===e}function oo(t={},e,n,r){return ro(()=>{var i,o;return Yu(()=>{i=o,o=r?.()||[],ge(()=>{t!==n(...o)&&(e(t,...o),i&&wc(n(...i),t)&&e(null,...i))})}),()=>{yr(()=>{o&&wc(n(...o),t)&&e(null,...o)})}}),t}function ud(t,e,n){if(t==null)return e(void 0),Ht;const r=ge(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const Mr=[];function Ji(t,e=Ht){let n=null;const r=new Set;function i(f){if(bu(t,f)&&(t=f,n)){const c=!Mr.length;for(const l of r)l[1](),Mr.push(l,t);if(c){for(let l=0;l<Mr.length;l+=2)Mr[l][0](Mr[l+1]);Mr.length=0}}}function o(f){i(f(t))}function s(f,c=Ht){const l=[f,c];return r.add(l),r.size===1&&(n=e(i,o)||Ht),f(t),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:s}}function Cp(t){let e;return ud(t,n=>e=n)(),e}let ta=!1,ms=Symbol();function Ge(t,e,n){const r=n[e]??={store:null,source:Cu(void 0),unsubscribe:Ht};if(r.store!==t&&!(ms in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=Ht;else{var i=!0;r.unsubscribe=ud(t,o=>{i?r.source.v=o:gt(r.source,o)}),i=!1}return t&&ms in n?Cp(t):a(r.source)}function bf(){const t={};function e(){no(()=>{for(var n in t)t[n].unsubscribe();cu(t,ms,{enumerable:!1,value:!0})})}return[t,e]}function Pp(t){var e=ta;try{return ta=!1,[t(),ta]}finally{ta=e}}const Fp={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function le(t,e,n){return new Proxy({props:t,exclude:e},Fp)}const Lp={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if($r(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let i=t.props[r];$r(i)&&(i=i());const o=Un(i,e);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if($r(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=Un(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===Bn||e===pu)return!1;for(let n of t.props)if($r(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if($r(n)&&(n=n()),!!n){for(const r in n)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(n))e.includes(r)||e.push(r)}return e}};function je(...t){return new Proxy({props:t},Lp)}function Vt(t,e,n,r){var i=(n&gg)!==0,o=(n&pg)!==0,s=r,f=!0,c=()=>(f&&(f=!1,s=o?ge(r):r),s),l;if(i){var u=Bn in t||pu in t;l=Un(t,e)?.set??(u&&e in t?k=>t[e]=k:void 0)}var h,d=!1;i?[h,d]=Pp(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=c(),l&&(Cg(),l(h)));var g;if(g=()=>{var k=t[e];return k===void 0?c():(f=!0,k)},(n&hg)===0)return g;if(l){var m=t.$$legacy;return(function(k,A){return arguments.length>0?((!A||m||d)&&l(A?g():k),k):g()})}var y=!1,b=((n&dg)!==0?eo:Tu)(()=>(y=!1,g()));i&&a(b);var _=St;return(function(k,A){if(arguments.length>0){const p=A?a(b):i?Ae(k):k;return gt(b,p),y=!0,s!==void 0&&(s=p),k}return _r&&y||(_.f&En)!==0?b.v:a(b)})}class ea extends Map{#t=new Map;#e=wt(0);#n=wt(0);#r=Nn||-1;constructor(e){if(super(),e){for(var[n,r]of e)super.set(n,r);this.#n.v=super.size}}#a(e){return Nn===this.#r?wt(e):Fn(e)}has(e){var n=this.#t,r=n.get(e);if(r===void 0){var i=super.get(e);if(i!==void 0)r=this.#a(0),n.set(e,r);else return a(this.#e),!1}return a(r),!0}forEach(e,n){this.#i(),super.forEach(e,n)}get(e){var n=this.#t,r=n.get(e);if(r===void 0){var i=super.get(e);if(i!==void 0)r=this.#a(0),n.set(e,r);else{a(this.#e);return}}return a(r),super.get(e)}set(e,n){var r=this.#t,i=r.get(e),o=super.get(e),s=super.set(e,n),f=this.#e;if(i===void 0)i=this.#a(0),r.set(e,i),gt(this.#n,super.size),tn(f);else if(o!==n){tn(i);var c=f.reactions===null?null:new Set(f.reactions),l=c===null||!i.reactions?.every(u=>c.has(u));l&&tn(f)}return s}delete(e){var n=this.#t,r=n.get(e),i=super.delete(e);return r!==void 0&&(n.delete(e),gt(this.#n,super.size),gt(r,-1),tn(this.#e)),i}clear(){if(super.size!==0){super.clear();var e=this.#t;gt(this.#n,0);for(var n of e.values())gt(n,-1);tn(this.#e),e.clear()}}#i(){a(this.#e);var e=this.#t;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var r=this.#a(0);e.set(n,r)}}for([,r]of this.#t)a(r)}keys(){return a(this.#e),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return a(this.#n),super.size}}class Rp{#t;#e;constructor(e,n){this.#t=e,this.#e=ku(n)}get current(){return this.#e(),this.#t()}}const Dp=/\(.+\)/,Ip=new Set(["all","print","screen","and","or","not","only"]);class Op extends Rp{constructor(e,n){let r=Dp.test(e)||e.split(/[\s,]+/).some(o=>Ip.has(o.trim()))?e:`(${e})`;const i=window.matchMedia(r);super(()=>i.matches,o=>nd(i,"change",o))}}function Cn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yp(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yf(t){let e,n,r;t.length!==2?(e=Cn,n=(f,c)=>Cn(t(f),c),r=(f,c)=>t(f)-c):(e=t===Cn||t===Yp?t:zp,n=t,r=t);function i(f,c,l=0,u=f.length){if(l<u){if(e(c,c)!==0)return u;do{const h=l+u>>>1;n(f[h],c)<0?l=h+1:u=h}while(l<u)}return l}function o(f,c,l=0,u=f.length){if(l<u){if(e(c,c)!==0)return u;do{const h=l+u>>>1;n(f[h],c)<=0?l=h+1:u=h}while(l<u)}return l}function s(f,c,l=0,u=f.length){const h=i(f,c,l,u-1);return h>l&&r(f[h-1],c)>-r(f[h],c)?h-1:h}return{left:i,center:s,right:o}}function zp(){return 0}function dd(t){return t===null?NaN:+t}function*qp(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const jp=yf(Cn),Bi=jp.right;yf(dd).center;function hd(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let s of t)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let f of t)(f=e(f,++s,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function Up(t,e){const n=hd(t,e);return n&&Math.sqrt(n)}function Vn(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class lr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=e+o,f=Math.abs(e)<Math.abs(o)?e-(s-o):o-(s-e);f&&(n[r++]=f),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class xa extends Map{constructor(e,n=Hp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Sc(this,e))}has(e){return super.has(Sc(this,e))}set(e,n){return super.set(Wp(this,e),n)}delete(e){return super.delete(Bp(this,e))}}function Sc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wp({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Bp({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Hp(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gp(t){return t}function bs(t,...e){return Xp(t,Array.from,Gp,e)}function Xp(t,e,n,r){return(function i(o,s){if(s>=r.length)return n(o);const f=new xa,c=r[s++];let l=-1;for(const u of o){const h=c(u,++l,o),d=f.get(h);d?d.push(u):f.set(h,[u])}for(const[u,h]of f)f.set(u,i(h,s));return e(f)})(t,0)}function Vp(t=Cn){if(t===Cn)return gd;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gd(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zp=Math.sqrt(50),Kp=Math.sqrt(10),$p=Math.sqrt(2);function wa(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Zp?10:o>=Kp?5:o>=$p?2:1;let f,c,l;return i<0?(l=Math.pow(10,-i)/s,f=Math.round(t*l),c=Math.round(e*l),f/l<t&&++f,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*s,f=Math.round(t/l),c=Math.round(e/l),f*l<t&&++f,c*l>e&&--c),c<f&&.5<=n&&n<2?wa(t,e,n*2):[f,c,l]}function Ti(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?wa(e,t,n):wa(t,e,n);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(s<0)for(let l=0;l<f;++l)c[l]=(o-l)/-s;else for(let l=0;l<f;++l)c[l]=(o-l)*s;else if(s<0)for(let l=0;l<f;++l)c[l]=(i+l)/-s;else for(let l=0;l<f;++l)c[l]=(i+l)*s;return c}function ys(t,e,n){return e=+e,t=+t,n=+n,wa(t,e,n)[2]}function _s(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ys(e,t,n):ys(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ei(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function xs(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function pd(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gd:Vp(i);r>n;){if(r-n>600){const c=r-n+1,l=e-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*h*(c-h)/c)*(l-c/2<0?-1:1),g=Math.max(n,Math.floor(e-l*h/c+d)),m=Math.min(r,Math.floor(e+(c-l)*h/c+d));pd(t,e,g,m,i)}const o=t[e];let s=n,f=r;for(ti(t,n,e),i(t[r],o)>0&&ti(t,n,r);s<f;){for(ti(t,s,f),++s,--f;i(t[s],o)<0;)++s;for(;i(t[f],o)>0;)--f}i(t[n],o)===0?ti(t,n,f):(++f,ti(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function ti(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _f(t,e,n){if(t=Float64Array.from(qp(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xs(t);if(e>=1)return Ei(t);var r,i=(r-1)*e,o=Math.floor(i),s=Ei(pd(t,o).subarray(0,o+1)),f=xs(t.subarray(o+1));return s+(f-s)*(i-o)}}function Qp(t,e,n=dd){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),f=+n(t[o+1],o+1,t);return s+(f-s)*(i-o)}}function Jp(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function tv(t,e){return _f(t,.5,e)}function*ev(t){for(const e of t)yield*e}function vd(t){return Array.from(ev(t))}function nv(t,e){const n=new xa;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[o,s]of n)s>i&&(i=s,r=o);return r}function Pn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function md(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function pn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function On(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kc=Symbol("implicit");function so(){var t=new xa,e=[],n=[],r=kc;function i(o){let s=t.get(o);if(s===void 0){if(r!==kc)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new xa;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return so(e,n).unknown(r)},pn.apply(i,arguments),i}function ur(){var t=so().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,f=!1,c=0,l=0,u=.5;delete t.unknown;function h(){var d=e().length,g=i<r,m=g?i:r,y=g?r:i;o=(y-m)/Math.max(1,d-c+l*2),f&&(o=Math.floor(o)),m+=(y-m-o*(d-c))*u,s=o*(1-c),f&&(m=Math.round(m),s=Math.round(s));var b=Pn(d).map(function(_){return m+o*_});return n(g?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(f=!!d,h()):f},t.padding=function(d){return arguments.length?(c=Math.min(1,l=+d),h()):c},t.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),h()):c},t.paddingOuter=function(d){return arguments.length?(l=+d,h()):l},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),h()):u},t.copy=function(){return ur(e(),[r,i]).round(f).paddingInner(c).paddingOuter(l).align(u)},pn.apply(h(),arguments)}function bd(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return bd(e())},t}function rv(){return bd(ur.apply(null,arguments).paddingInner(1))}function Br(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $n(){}var dr=.7,Ir=1/dr,Pr="\\s*([+-]?\\d+)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iv=/^#([0-9a-f]{3,8})$/,av=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),ov=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),sv=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Ai}\\)$`),fv=new RegExp(`^rgba\\(${cn},${cn},${cn},${Ai}\\)$`),cv=new RegExp(`^hsl\\(${Ai},${cn},${cn}\\)$`),lv=new RegExp(`^hsla\\(${Ai},${cn},${cn},${Ai}\\)$`),Mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br($n,Or,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Tc,formatHex:Tc,formatHex8:uv,formatHsl:dv,formatRgb:Ec,toString:Ec});function Tc(){return this.rgb().formatHex()}function uv(){return this.rgb().formatHex8()}function dv(){return yd(this).formatHsl()}function Ec(){return this.rgb().formatRgb()}function Or(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iv.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ac(e):n===3?new Qt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?na(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?na(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=av.exec(t))?new Qt(e[1],e[2],e[3],1):(e=ov.exec(t))?new Qt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sv.exec(t))?na(e[1],e[2],e[3],e[4]):(e=fv.exec(t))?na(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cv.exec(t))?Pc(e[1],e[2]/100,e[3]/100,1):(e=lv.exec(t))?Pc(e[1],e[2]/100,e[3]/100,e[4]):Mc.hasOwnProperty(t)?Ac(Mc[t]):t==="transparent"?new Qt(NaN,NaN,NaN,0):null}function Ac(t){return new Qt(t>>16&255,t>>8&255,t&255,1)}function na(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qt(t,e,n,r)}function xf(t){return t instanceof $n||(t=Or(t)),t?(t=t.rgb(),new Qt(t.r,t.g,t.b,t.opacity)):new Qt}function Ni(t,e,n,r){return arguments.length===1?xf(t):new Qt(t,e,n,r??1)}function Qt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Br(Qt,Ni,Hi($n,{brighter(t){return t=t==null?Ir:Math.pow(Ir,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dr:Math.pow(dr,t),new Qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qt(ar(this.r),ar(this.g),ar(this.b),Sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nc,formatHex:Nc,formatHex8:hv,formatRgb:Cc,toString:Cc}));function Nc(){return`#${nr(this.r)}${nr(this.g)}${nr(this.b)}`}function hv(){return`#${nr(this.r)}${nr(this.g)}${nr(this.b)}${nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cc(){const t=Sa(this.opacity);return`${t===1?"rgb(":"rgba("}${ar(this.r)}, ${ar(this.g)}, ${ar(this.b)}${t===1?")":`, ${t})`}`}function Sa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ar(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nr(t){return t=ar(t),(t<16?"0":"")+t.toString(16)}function Pc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new He(t,e,n,r)}function yd(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);if(t instanceof $n||(t=Or(t)),!t)return new He;if(t instanceof He)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,f=o-i,c=(o+i)/2;return f?(e===o?s=(n-r)/f+(n<r)*6:n===o?s=(r-e)/f+2:s=(e-n)/f+4,f/=c<.5?o+i:2-o-i,s*=60):f=c>0&&c<1?0:s,new He(s,f,c,t.opacity)}function gv(t,e,n,r){return arguments.length===1?yd(t):new He(t,e,n,r??1)}function He(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Br(He,gv,Hi($n,{brighter(t){return t=t==null?Ir:Math.pow(Ir,t),new He(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dr:Math.pow(dr,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qt(Do(t>=240?t-240:t+120,i,r),Do(t,i,r),Do(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new He(Fc(this.h),ra(this.s),ra(this.l),Sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sa(this.opacity);return`${t===1?"hsl(":"hsla("}${Fc(this.h)}, ${ra(this.s)*100}%, ${ra(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fc(t){return t=(t||0)%360,t<0?t+360:t}function ra(t){return Math.max(0,Math.min(1,t||0))}function Do(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _d=Math.PI/180,xd=180/Math.PI,ka=18,wd=.96422,Sd=1,kd=.82521,Md=4/29,Fr=6/29,Td=3*Fr*Fr,pv=Fr*Fr*Fr;function Ed(t){if(t instanceof ln)return new ln(t.l,t.a,t.b,t.opacity);if(t instanceof kn)return Ad(t);t instanceof Qt||(t=xf(t));var e=zo(t.r),n=zo(t.g),r=zo(t.b),i=Io((.2225045*e+.7168786*n+.0606169*r)/Sd),o,s;return e===n&&n===r?o=s=i:(o=Io((.4360747*e+.3850649*n+.1430804*r)/wd),s=Io((.0139322*e+.0971045*n+.7141733*r)/kd)),new ln(116*i-16,500*(o-i),200*(i-s),t.opacity)}function ws(t,e,n,r){return arguments.length===1?Ed(t):new ln(t,e,n,r??1)}function ln(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Br(ln,ws,Hi($n,{brighter(t){return new ln(this.l+ka*(t??1),this.a,this.b,this.opacity)},darker(t){return new ln(this.l-ka*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=wd*Oo(e),t=Sd*Oo(t),n=kd*Oo(n),new Qt(Yo(3.1338561*e-1.6168667*t-.4906146*n),Yo(-.9787684*e+1.9161415*t+.033454*n),Yo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Io(t){return t>pv?Math.pow(t,1/3):t/Td+Md}function Oo(t){return t>Fr?t*t*t:Td*(t-Md)}function Yo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function zo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vv(t){if(t instanceof kn)return new kn(t.h,t.c,t.l,t.opacity);if(t instanceof ln||(t=Ed(t)),t.a===0&&t.b===0)return new kn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*xd;return new kn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mv(t,e,n,r){return arguments.length===1?vv(t):new kn(t,e,n,r??1)}function kn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ad(t){if(isNaN(t.h))return new ln(t.l,0,0,t.opacity);var e=t.h*_d;return new ln(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Br(kn,mv,Hi($n,{brighter(t){return new kn(this.h,this.c,this.l+ka*(t??1),this.opacity)},darker(t){return new kn(this.h,this.c,this.l-ka*(t??1),this.opacity)},rgb(){return Ad(this).rgb()}}));var Nd=-.14861,wf=1.78277,Sf=-.29227,fo=-.90649,Ci=1.97294,Lc=Ci*fo,Rc=Ci*wf,Dc=wf*Sf-fo*Nd;function bv(t){if(t instanceof or)return new or(t.h,t.s,t.l,t.opacity);t instanceof Qt||(t=xf(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Dc*r+Lc*e-Rc*n)/(Dc+Lc-Rc),o=r-i,s=(Ci*(n-i)-Sf*o)/fo,f=Math.sqrt(s*s+o*o)/(Ci*i*(1-i)),c=f?Math.atan2(s,o)*xd-120:NaN;return new or(c<0?c+360:c,f,i,t.opacity)}function hn(t,e,n,r){return arguments.length===1?bv(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Br(or,hn,Hi($n,{brighter(t){return t=t==null?Ir:Math.pow(Ir,t),new or(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dr:Math.pow(dr,t),new or(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*_d,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Qt(255*(e+n*(Nd*r+wf*i)),255*(e+n*(Sf*r+fo*i)),255*(e+n*(Ci*r)),this.opacity)}}));function yv(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function _v(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,f=r<e-1?t[r+2]:2*o-i;return yv((n-r/e)*e,s,i,o,f)}}const co=t=>()=>t;function Cd(t,e){return function(n){return t+n*e}}function xv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wv(t,e){var n=e-t;return n?Cd(t,n>180||n<-180?n-360*Math.round(n/360):n):co(isNaN(t)?e:t)}function Sv(t){return(t=+t)==1?on:function(e,n){return n-e?xv(e,n,t):co(isNaN(e)?n:e)}}function on(t,e){var n=e-t;return n?Cd(t,n):co(isNaN(t)?e:t)}const Ic=(function t(e){var n=Sv(e);function r(i,o){var s=n((i=Ni(i)).r,(o=Ni(o)).r),f=n(i.g,o.g),c=n(i.b,o.b),l=on(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=f(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r})(1);function kv(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),s,f;for(s=0;s<n;++s)f=Ni(e[s]),r[s]=f.r||0,i[s]=f.g||0,o[s]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var Mv=kv(_v);function Tv(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ev(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Av(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Hr(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(f){for(s=0;s<r;++s)o[s]=i[s](f);return o}}function Nv(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ma(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cv(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hr(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ss=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qo=new RegExp(Ss.source,"g");function Pv(t){return function(){return t}}function Fv(t){return function(e){return t(e)+""}}function Lv(t,e){var n=Ss.lastIndex=qo.lastIndex=0,r,i,o,s=-1,f=[],c=[];for(t=t+"",e=e+"";(r=Ss.exec(t))&&(i=qo.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),f[s]?f[s]+=o:f[++s]=o),(r=r[0])===(i=i[0])?f[s]?f[s]+=i:f[++s]=i:(f[++s]=null,c.push({i:s,x:Ma(r,i)})),n=qo.lastIndex;return n<e.length&&(o=e.slice(n),f[s]?f[s]+=o:f[++s]=o),f.length<2?c[0]?Fv(c[0].x):Pv(e):(e=c.length,function(l){for(var u=0,h;u<e;++u)f[(h=c[u]).i]=h.x(l);return f.join("")})}function Hr(t,e){var n=typeof e,r;return e==null||n==="boolean"?co(e):(n==="number"?Ma:n==="string"?(r=Or(e))?(e=r,Ic):Lv:e instanceof Or?Ic:e instanceof Date?Nv:Ev(e)?Tv:Array.isArray(e)?Av:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cv:Ma)(t,e)}function lo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Oc(t,e){var n=on((t=ws(t)).l,(e=ws(e)).l),r=on(t.a,e.a),i=on(t.b,e.b),o=on(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=o(s),t+""}}function Pd(t){return(function e(n){n=+n;function r(i,o){var s=t((i=hn(i)).h,(o=hn(o)).h),f=on(i.s,o.s),c=on(i.l,o.l),l=on(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=e,r})(1)}Pd(wv);var kf=Pd(on);function Rv(t,e){e===void 0&&(e=t,t=Hr);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[f](s-f)}}function Gi(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Dv(t){return function(){return t}}function Iv(t){return+t}var Yc=[0,1];function pe(t){return t}function ks(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Dv(isNaN(e)?NaN:.5)}function Ov(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Yv(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=ks(i,r),o=n(s,o)):(r=ks(r,i),o=n(o,s)),function(f){return o(r(f))}}function zv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ks(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(f){var c=Bi(t,f,1,r)-1;return o[c](i[c](f))}}function Xi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uo(){var t=Yc,e=Yc,n=Hr,r,i,o,s=pe,f,c,l;function u(){var d=Math.min(t.length,e.length);return s!==pe&&(s=Ov(t[0],t[d-1])),f=d>2?zv:Yv,c=l=null,h}function h(d){return d==null||isNaN(d=+d)?o:(c||(c=f(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((l||(l=f(e,t.map(r),Ma)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Iv),u()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=lo,u()},h.clamp=function(d){return arguments.length?(s=d?!0:pe,u()):s!==pe},h.interpolate=function(d){return arguments.length?(n=d,u()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,g){return r=d,i=g,u()}}function Fd(){return uo()(pe,pe)}function qv(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ta(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yr(t){return t=Ta(Math.abs(t)),t?t[1]:NaN}function jv(t,e){return function(n,r){for(var i=n.length,o=[],s=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Uv(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pi(t){if(!(e=Wv.exec(t)))throw new Error("invalid format: "+t);var e;return new Mf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pi.prototype=Mf.prototype;function Mf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bv(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ld;function Hv(t,e){var n=Ta(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ld=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ta(t,Math.max(0,e+o-1))[0]}function zc(t,e){var n=Ta(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qv,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zc(t*100,e),r:zc,s:Hv,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jc(t){return t}var Uc=Array.prototype.map,Wc=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Gv(t){var e=t.grouping===void 0||t.thousands===void 0?jc:jv(Uc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?jc:Uv(Uc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"â":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Pi(h);var d=h.fill,g=h.align,m=h.sign,y=h.symbol,b=h.zero,_=h.width,k=h.comma,A=h.precision,p=h.trim,S=h.type;S==="n"?(k=!0,S="g"):qc[S]||(A===void 0&&(A=12),p=!0,S="g"),(b||d==="0"&&g==="=")&&(b=!0,d="0",g="=");var w=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",x=y==="$"?r:/[%p]/.test(S)?s:"",E=qc[S],M=/[defgprs%]/.test(S);A=A===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function T(C){var R=w,P=x,I,N,L;if(S==="c")P=E(C)+P,C="";else{C=+C;var z=C<0||1/C<0;if(C=isNaN(C)?c:E(Math.abs(C),A),p&&(C=Bv(C)),z&&+C==0&&m!=="+"&&(z=!1),R=(z?m==="("?m:f:m==="-"||m==="("?"":m)+R,P=(S==="s"?Wc[8+Ld/3]:"")+P+(z&&m==="("?")":""),M){for(I=-1,N=C.length;++I<N;)if(L=C.charCodeAt(I),48>L||L>57){P=(L===46?i+C.slice(I+1):C.slice(I))+P,C=C.slice(0,I);break}}}k&&!b&&(C=e(C,1/0));var W=R.length+C.length+P.length,j=W<_?new Array(_-W+1).join(d):"";switch(k&&b&&(C=e(j+C,j.length?_-P.length:1/0),j=""),g){case"<":C=R+C+P+j;break;case"=":C=R+j+C+P;break;case"^":C=j.slice(0,W=j.length>>1)+R+C+P+j.slice(W);break;default:C=j+R+C+P;break}return o(C)}return T.toString=function(){return h+""},T}function u(h,d){var g=l((h=Pi(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Yr(d)/3)))*3,y=Math.pow(10,-m),b=Wc[8+m/3];return function(_){return g(y*_)+b}}return{format:l,formatPrefix:u}}var ia,Tf,Rd;Xv({thousands:",",grouping:[3],currency:["$",""]});function Xv(t){return ia=Gv(t),Tf=ia.format,Rd=ia.formatPrefix,ia}function Vv(t){return Math.max(0,-Yr(Math.abs(t)))}function Zv(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yr(e)/3)))*3-Yr(Math.abs(t)))}function Kv(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yr(e)-Yr(t))+1}function $v(t,e,n,r){var i=_s(t,e,n),o;switch(r=Pi(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Zv(i,s))&&(r.precision=o),Rd(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Kv(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Vv(i))&&(r.precision=o-(r.type==="%")*2);break}}return Tf(r)}function Gr(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ti(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return $v(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],f=r[o],c,l,u=10;for(f<s&&(l=s,s=f,f=l,l=i,i=o,o=l);u-- >0;){if(l=ys(s,f,n),l===c)return r[i]=s,r[o]=f,e(r);if(l>0)s=Math.floor(s/l)*l,f=Math.ceil(f/l)*l;else if(l<0)s=Math.ceil(s*l)/l,f=Math.floor(f*l)/l;else break;c=l}return t},t}function Ea(){var t=Fd();return t.copy=function(){return Xi(t,Ea())},pn.apply(t,arguments),Gr(t)}function Dd(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Bc(t){return Math.log(t)}function Hc(t){return Math.exp(t)}function Qv(t){return-Math.log(-t)}function Jv(t){return-Math.exp(-t)}function tm(t){return isFinite(t)?+("1e"+t):t<0?0:t}function em(t){return t===10?tm:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nm(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Gc(t){return(e,n)=>-t(-e,n)}function Ef(t){const e=t(Bc,Hc),n=e.domain;let r=10,i,o;function s(){return i=nm(r),o=em(r),n()[0]<0?(i=Gc(i),o=Gc(o),t(Qv,Jv)):t(Bc,Hc),e}return e.base=function(f){return arguments.length?(r=+f,s()):r},e.domain=function(f){return arguments.length?(n(f),s()):n()},e.ticks=f=>{const c=n();let l=c[0],u=c[c.length-1];const h=u<l;h&&([l,u]=[u,l]);let d=i(l),g=i(u),m,y;const b=f==null?10:+f;let _=[];if(!(r%1)&&g-d<b){if(d=Math.floor(d),g=Math.ceil(g),l>0){for(;d<=g;++d)for(m=1;m<r;++m)if(y=d<0?m/o(-d):m*o(d),!(y<l)){if(y>u)break;_.push(y)}}else for(;d<=g;++d)for(m=r-1;m>=1;--m)if(y=d>0?m/o(-d):m*o(d),!(y<l)){if(y>u)break;_.push(y)}_.length*2<b&&(_=Ti(l,u,b))}else _=Ti(d,g,Math.min(g-d,b)).map(o);return h?_.reverse():_},e.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Pi(c)).precision==null&&(c.trim=!0),c=Tf(c)),f===1/0)return c;const l=Math.max(1,r*f/e.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=l?c(u):""}},e.nice=()=>n(Dd(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),e}function Af(){const t=Ef(uo()).domain([1,10]);return t.copy=()=>Xi(t,Af()).base(t.base()),pn.apply(t,arguments),t}function Xc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Vc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Nf(t){var e=1,n=t(Xc(e),Vc(e));return n.constant=function(r){return arguments.length?t(Xc(e=+r),Vc(e)):e},Gr(n)}function Id(){var t=Nf(uo());return t.copy=function(){return Xi(t,Id()).constant(t.constant())},pn.apply(t,arguments)}function Zc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rm(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function im(t){return t<0?-t*t:t*t}function Cf(t){var e=t(pe,pe),n=1;function r(){return n===1?t(pe,pe):n===.5?t(rm,im):t(Zc(n),Zc(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Gr(e)}function Pf(){var t=Cf(uo());return t.copy=function(){return Xi(t,Pf()).exponent(t.exponent())},pn.apply(t,arguments),t}function am(){return Pf.apply(null,arguments).exponent(.5)}function Od(){var t=[],e=[],n=[],r;function i(){var s=0,f=Math.max(1,e.length);for(n=new Array(f-1);++s<f;)n[s-1]=Qp(t,s/f);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Bi(n,s)]}return o.invertExtent=function(s){var f=e.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let f of s)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Cn),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Od().domain(t).range(e).unknown(r)},pn.apply(o,arguments)}function Yd(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Bi(r,c,0,n)]:o}function f(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,f()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,f()):i.slice()},s.invertExtent=function(c){var l=i.indexOf(c);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Yd().domain([t,e]).range(i).unknown(o)},pn.apply(Gr(s),arguments)}function zd(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Bi(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return zd().domain(t).range(e).unknown(n)},pn.apply(i,arguments)}const jo=new Date,Uo=new Date;function Zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),f=i.ceil(o);return o-s<f-o?s:f},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<s)||!(f>0))return c;let l;do c.push(l=new Date(+o)),e(o,f),t(o);while(l<o&&o<s);return c},i.filter=o=>Zt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;e(s,-1),!o(s););else for(;--f>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(jo.setTime(+o),Uo.setTime(+s),t(jo),t(Uo),Math.floor(n(jo,Uo))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Aa=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Aa.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Aa);Aa.range;const Mn=1e3,Ye=Mn*60,Tn=Ye*60,Ln=Tn*24,Ff=Ln*7,Kc=Ln*30,Wo=Ln*365,qn=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getUTCSeconds());qn.range;const ho=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mn)},(t,e)=>{t.setTime(+t+e*Ye)},(t,e)=>(e-t)/Ye,t=>t.getMinutes());ho.range;const qd=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ye)},(t,e)=>(e-t)/Ye,t=>t.getUTCMinutes());qd.range;const go=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mn-t.getMinutes()*Ye)},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getHours());go.range;const jd=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Tn)},(t,e)=>(e-t)/Tn,t=>t.getUTCHours());jd.range;const Xr=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ye)/Ln,t=>t.getDate()-1);Xr.range;const Lf=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ln,t=>t.getUTCDate()-1);Lf.range;const Ud=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ln,t=>Math.floor(t/Ln));Ud.range;function xr(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ye)/Ff)}const zr=xr(0),Fi=xr(1),Wd=xr(2),Bd=xr(3),hr=xr(4),Hd=xr(5),Gd=xr(6);zr.range;Fi.range;Wd.range;Bd.range;hr.range;Hd.range;Gd.range;function wr(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ff)}const Na=wr(0),Li=wr(1),Xd=wr(2),Vd=wr(3),gr=wr(4),Zd=wr(5),Kd=wr(6);Na.range;Li.range;Xd.range;Vd.range;gr.range;Zd.range;Kd.range;const po=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());po.range;const $d=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$d.range;const gn=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});gn.range;const Zn=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Zn.range;function om(t,e,n,r,i,o){const s=[[qn,1,Mn],[qn,5,5*Mn],[qn,15,15*Mn],[qn,30,30*Mn],[o,1,Ye],[o,5,5*Ye],[o,15,15*Ye],[o,30,30*Ye],[i,1,Tn],[i,3,3*Tn],[i,6,6*Tn],[i,12,12*Tn],[r,1,Ln],[r,2,2*Ln],[n,1,Ff],[e,1,Kc],[e,3,3*Kc],[t,1,Wo]];function f(l,u,h){const d=u<l;d&&([l,u]=[u,l]);const g=h&&typeof h.range=="function"?h:c(l,u,h),m=g?g.range(l,+u+1):[];return d?m.reverse():m}function c(l,u,h){const d=Math.abs(u-l)/h,g=yf(([,,b])=>b).right(s,d);if(g===s.length)return t.every(_s(l/Wo,u/Wo,h));if(g===0)return Aa.every(Math.max(_s(l,u,h),1));const[m,y]=s[d/s[g-1][2]<s[g][2]/d?g-1:g];return m.every(y)}return[f,c]}const[sm,fm]=om(gn,po,zr,Xr,go,ho);function Bo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ho(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ei(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function cm(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,f=t.months,c=t.shortMonths,l=ni(i),u=ri(i),h=ni(o),d=ri(o),g=ni(s),m=ri(s),y=ni(f),b=ri(f),_=ni(c),k=ri(c),A={a:z,A:W,b:j,B:H,c:null,d:nl,e:nl,f:Fm,g:Um,G:Bm,H:Nm,I:Cm,j:Pm,L:Qd,m:Lm,M:Rm,p:O,q:Y,Q:al,s:ol,S:Dm,u:Im,U:Om,V:Ym,w:zm,W:qm,x:null,X:null,y:jm,Y:Wm,Z:Hm,"%":il},p={a:G,A:Q,b:J,B:K,c:null,d:rl,e:rl,f:Zm,g:ab,G:sb,H:Gm,I:Xm,j:Vm,L:th,m:Km,M:$m,p:ot,q:Ft,Q:al,s:ol,S:Qm,u:Jm,U:tb,V:eb,w:nb,W:rb,x:null,X:null,y:ib,Y:ob,Z:fb,"%":il},S={a:T,A:C,b:R,B:P,c:I,d:tl,e:tl,f:Mm,g:Jc,G:Qc,H:el,I:el,j:xm,L:km,m:_m,M:wm,p:M,q:ym,Q:Em,s:Am,S:Sm,u:gm,U:pm,V:vm,w:hm,W:mm,x:N,X:L,y:Jc,Y:Qc,Z:bm,"%":Tm};A.x=w(n,A),A.X=w(r,A),A.c=w(e,A),p.x=w(n,p),p.X=w(r,p),p.c=w(e,p);function w(q,B){return function(tt){var D=[],mt=-1,st=0,At=q.length,Mt,_t,xt;for(tt instanceof Date||(tt=new Date(+tt));++mt<At;)q.charCodeAt(mt)===37&&(D.push(q.slice(st,mt)),(_t=$c[Mt=q.charAt(++mt)])!=null?Mt=q.charAt(++mt):_t=Mt==="e"?" ":"0",(xt=B[Mt])&&(Mt=xt(tt,_t)),D.push(Mt),st=mt+1);return D.push(q.slice(st,mt)),D.join("")}}function x(q,B){return function(tt){var D=ei(1900,void 0,1),mt=E(D,q,tt+="",0),st,At;if(mt!=tt.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(B&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(st=Ho(ei(D.y,0,1)),At=st.getUTCDay(),st=At>4||At===0?Li.ceil(st):Li(st),st=Lf.offset(st,(D.V-1)*7),D.y=st.getUTCFullYear(),D.m=st.getUTCMonth(),D.d=st.getUTCDate()+(D.w+6)%7):(st=Bo(ei(D.y,0,1)),At=st.getDay(),st=At>4||At===0?Fi.ceil(st):Fi(st),st=Xr.offset(st,(D.V-1)*7),D.y=st.getFullYear(),D.m=st.getMonth(),D.d=st.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),At="Z"in D?Ho(ei(D.y,0,1)).getUTCDay():Bo(ei(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(At+5)%7:D.w+D.U*7-(At+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Ho(D)):Bo(D)}}function E(q,B,tt,D){for(var mt=0,st=B.length,At=tt.length,Mt,_t;mt<st;){if(D>=At)return-1;if(Mt=B.charCodeAt(mt++),Mt===37){if(Mt=B.charAt(mt++),_t=S[Mt in $c?B.charAt(mt++):Mt],!_t||(D=_t(q,tt,D))<0)return-1}else if(Mt!=tt.charCodeAt(D++))return-1}return D}function M(q,B,tt){var D=l.exec(B.slice(tt));return D?(q.p=u.get(D[0].toLowerCase()),tt+D[0].length):-1}function T(q,B,tt){var D=g.exec(B.slice(tt));return D?(q.w=m.get(D[0].toLowerCase()),tt+D[0].length):-1}function C(q,B,tt){var D=h.exec(B.slice(tt));return D?(q.w=d.get(D[0].toLowerCase()),tt+D[0].length):-1}function R(q,B,tt){var D=_.exec(B.slice(tt));return D?(q.m=k.get(D[0].toLowerCase()),tt+D[0].length):-1}function P(q,B,tt){var D=y.exec(B.slice(tt));return D?(q.m=b.get(D[0].toLowerCase()),tt+D[0].length):-1}function I(q,B,tt){return E(q,e,B,tt)}function N(q,B,tt){return E(q,n,B,tt)}function L(q,B,tt){return E(q,r,B,tt)}function z(q){return s[q.getDay()]}function W(q){return o[q.getDay()]}function j(q){return c[q.getMonth()]}function H(q){return f[q.getMonth()]}function O(q){return i[+(q.getHours()>=12)]}function Y(q){return 1+~~(q.getMonth()/3)}function G(q){return s[q.getUTCDay()]}function Q(q){return o[q.getUTCDay()]}function J(q){return c[q.getUTCMonth()]}function K(q){return f[q.getUTCMonth()]}function ot(q){return i[+(q.getUTCHours()>=12)]}function Ft(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var B=w(q+="",A);return B.toString=function(){return q},B},parse:function(q){var B=x(q+="",!1);return B.toString=function(){return q},B},utcFormat:function(q){var B=w(q+="",p);return B.toString=function(){return q},B},utcParse:function(q){var B=x(q+="",!0);return B.toString=function(){return q},B}}}var $c={"-":"",_:" ",0:"0"},te=/^\s*\d+/,lm=/^%/,um=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dm(t){return t.replace(um,"\\$&")}function ni(t){return new RegExp("^(?:"+t.map(dm).join("|")+")","i")}function ri(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hm(t,e,n){var r=te.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function gm(t,e,n){var r=te.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function pm(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vm(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mm(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=te.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Jc(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bm(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ym(t,e,n){var r=te.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _m(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tl(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xm(t,e,n){var r=te.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function el(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wm(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sm(t,e,n){var r=te.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function km(t,e,n){var r=te.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mm(t,e,n){var r=te.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tm(t,e,n){var r=lm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Em(t,e,n){var r=te.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Am(t,e,n){var r=te.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nl(t,e){return yt(t.getDate(),e,2)}function Nm(t,e){return yt(t.getHours(),e,2)}function Cm(t,e){return yt(t.getHours()%12||12,e,2)}function Pm(t,e){return yt(1+Xr.count(gn(t),t),e,3)}function Qd(t,e){return yt(t.getMilliseconds(),e,3)}function Fm(t,e){return Qd(t,e)+"000"}function Lm(t,e){return yt(t.getMonth()+1,e,2)}function Rm(t,e){return yt(t.getMinutes(),e,2)}function Dm(t,e){return yt(t.getSeconds(),e,2)}function Im(t){var e=t.getDay();return e===0?7:e}function Om(t,e){return yt(zr.count(gn(t)-1,t),e,2)}function Jd(t){var e=t.getDay();return e>=4||e===0?hr(t):hr.ceil(t)}function Ym(t,e){return t=Jd(t),yt(hr.count(gn(t),t)+(gn(t).getDay()===4),e,2)}function zm(t){return t.getDay()}function qm(t,e){return yt(Fi.count(gn(t)-1,t),e,2)}function jm(t,e){return yt(t.getFullYear()%100,e,2)}function Um(t,e){return t=Jd(t),yt(t.getFullYear()%100,e,2)}function Wm(t,e){return yt(t.getFullYear()%1e4,e,4)}function Bm(t,e){var n=t.getDay();return t=n>=4||n===0?hr(t):hr.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Hm(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function rl(t,e){return yt(t.getUTCDate(),e,2)}function Gm(t,e){return yt(t.getUTCHours(),e,2)}function Xm(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Vm(t,e){return yt(1+Lf.count(Zn(t),t),e,3)}function th(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Zm(t,e){return th(t,e)+"000"}function Km(t,e){return yt(t.getUTCMonth()+1,e,2)}function $m(t,e){return yt(t.getUTCMinutes(),e,2)}function Qm(t,e){return yt(t.getUTCSeconds(),e,2)}function Jm(t){var e=t.getUTCDay();return e===0?7:e}function tb(t,e){return yt(Na.count(Zn(t)-1,t),e,2)}function eh(t){var e=t.getUTCDay();return e>=4||e===0?gr(t):gr.ceil(t)}function eb(t,e){return t=eh(t),yt(gr.count(Zn(t),t)+(Zn(t).getUTCDay()===4),e,2)}function nb(t){return t.getUTCDay()}function rb(t,e){return yt(Li.count(Zn(t)-1,t),e,2)}function ib(t,e){return yt(t.getUTCFullYear()%100,e,2)}function ab(t,e){return t=eh(t),yt(t.getUTCFullYear()%100,e,2)}function ob(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function sb(t,e){var n=t.getUTCDay();return t=n>=4||n===0?gr(t):gr.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function fb(){return"+0000"}function il(){return"%"}function al(t){return+t}function ol(t){return Math.floor(+t/1e3)}var Tr,nh;cb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cb(t){return Tr=cm(t),nh=Tr.format,Tr.parse,Tr.utcFormat,Tr.utcParse,Tr}function lb(t){return new Date(t)}function ub(t){return t instanceof Date?+t:+new Date(+t)}function rh(t,e,n,r,i,o,s,f,c,l){var u=Fd(),h=u.invert,d=u.domain,g=l(".%L"),m=l(":%S"),y=l("%I:%M"),b=l("%I %p"),_=l("%a %d"),k=l("%b %d"),A=l("%B"),p=l("%Y");function S(w){return(c(w)<w?g:f(w)<w?m:s(w)<w?y:o(w)<w?b:r(w)<w?i(w)<w?_:k:n(w)<w?A:p)(w)}return u.invert=function(w){return new Date(h(w))},u.domain=function(w){return arguments.length?d(Array.from(w,ub)):d().map(lb)},u.ticks=function(w){var x=d();return t(x[0],x[x.length-1],w??10)},u.tickFormat=function(w,x){return x==null?S:l(x)},u.nice=function(w){var x=d();return(!w||typeof w.range!="function")&&(w=e(x[0],x[x.length-1],w??10)),w?d(Dd(x,w)):u},u.copy=function(){return Xi(u,rh(t,e,n,r,i,o,s,f,c,l))},u}function db(){return pn.apply(rh(sm,fm,gn,po,zr,Xr,go,ho,qn,nh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vo(){var t=0,e=1,n,r,i,o,s=pe,f=!1,c;function l(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(o(h)-n)*i,f?Math.max(0,Math.min(1,h)):h))}l.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(h){return arguments.length?(f=!!h,l):f},l.interpolator=function(h){return arguments.length?(s=h,l):s};function u(h){return function(d){var g,m;return arguments.length?([g,m]=d,s=h(g,m),l):[s(0),s(1)]}}return l.range=u(Hr),l.rangeRound=u(lo),l.unknown=function(h){return arguments.length?(c=h,l):c},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),l}}function Qn(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Rf(){var t=Gr(vo()(pe));return t.copy=function(){return Qn(t,Rf())},On.apply(t,arguments)}function ih(){var t=Ef(vo()).domain([1,10]);return t.copy=function(){return Qn(t,ih()).base(t.base())},On.apply(t,arguments)}function ah(){var t=Nf(vo());return t.copy=function(){return Qn(t,ah()).constant(t.constant())},On.apply(t,arguments)}function Df(){var t=Cf(vo());return t.copy=function(){return Qn(t,Df()).exponent(t.exponent())},On.apply(t,arguments)}function hb(){return Df.apply(null,arguments).exponent(.5)}function oh(){var t=[],e=pe;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bi(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Cn),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>_f(t,o/r))},n.copy=function(){return oh(e).domain(t)},On.apply(n,arguments)}function mo(){var t=0,e=.5,n=1,r=1,i,o,s,f,c,l=pe,u,h=!1,d;function g(y){return isNaN(y=+y)?d:(y=.5+((y=+u(y))-o)*(r*y<r*o?f:c),l(h?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),o=u(e=+e),s=u(n=+n),f=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(h=!!y,g):h},g.interpolator=function(y){return arguments.length?(l=y,g):l};function m(y){return function(b){var _,k,A;return arguments.length?([_,k,A]=b,l=Rv(y,[_,k,A]),g):[l(0),l(.5),l(1)]}}return g.range=m(Hr),g.rangeRound=m(lo),g.unknown=function(y){return arguments.length?(d=y,g):d},function(y){return u=y,i=y(t),o=y(e),s=y(n),f=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function If(){var t=Gr(mo()(pe));return t.copy=function(){return Qn(t,If())},On.apply(t,arguments)}function sh(){var t=Ef(mo()).domain([.1,1,10]);return t.copy=function(){return Qn(t,sh()).base(t.base())},On.apply(t,arguments)}function fh(){var t=Nf(mo());return t.copy=function(){return Qn(t,fh()).constant(t.constant())},On.apply(t,arguments)}function Of(){var t=Cf(mo());return t.copy=function(){return Qn(t,Of()).exponent(t.exponent())},On.apply(t,arguments)}function gb(){return Of.apply(null,arguments).exponent(.5)}const di={x:Symbol("origName_x"),x1:Symbol("origName_x1"),x2:Symbol("origName_x2"),y:Symbol("origName_y"),y1:Symbol("origName_y1"),y2:Symbol("origName_y2"),fill:Symbol("origName_color"),stroke:Symbol("origName_color"),opacity:Symbol("origName_opacity"),symbol:Symbol("origName_symbol"),r:Symbol("origName_r"),z:Symbol("origName_z"),sort:Symbol("origName_sort"),filter:Symbol("origName_filter"),interval:Symbol("origName_interval"),length:Symbol("origName_length"),fx:Symbol("origName_fx"),fy:Symbol("origName_fy"),fillOpacity:Symbol("origName_opacity"),strokeOpacity:Symbol("origName_opacity")},pb=["x","y","color","opacity","symbol","r","length","fx","fy","projection"],Go={color:new Set(["linear","categorical","ordinal","diverging","quantile","quantize","quantile-cont","threshold","log","symlog","pow","sqrt","diverging-log","diverging-pow","diverging-sqrt","diverging-symlog"]),x:new Set(["linear","log","symlog","time","ordinal","band","point","quantile","quantize","threshold"]),y:new Set(["linear","log","symlog","time","ordinal","band","point","quantile","quantize","threshold"])},_e={x:"x",x1:"x",x2:"x",y:"y",y1:"y",y2:"y",r:"r",length:"length",fx:"fx",fy:"fy",symbol:"symbol",fill:"color",stroke:"color",opacity:"opacity",fillOpacity:"opacity",strokeOpacity:"opacity"},Ca=/^var\(--([a-z-0-9,\s]+)\)$/,vb=/^color\(/,mb=/^color-mix\(/,bb=/^color-contrast\(/,yb=/^rgba\(/,ch=/^url\(#/,zt=Symbol("index");function Ve(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);if(e===null)return!0;const n=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Function.prototype.call(n)===Function.prototype.call(t)}function ye(t){return function(){return t}}const lh=Math.cos,Yf=Math.min,Pa=Math.sin,Kt=Math.sqrt,sl=1e-12,Fa=Math.PI,bo=2*Fa,Ms=Math.PI,Ts=2*Ms,er=1e-6,_b=Ts-er;function uh(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xb(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uh;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class wb{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uh:xb(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,f=this._y1,c=r-e,l=i-n,u=s-e,h=f-n,d=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>er)if(!(Math.abs(h*c-l*u)>er)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,m=i-f,y=c*c+l*l,b=g*g+m*m,_=Math.sqrt(y),k=Math.sqrt(d),A=o*Math.tan((Ms-Math.acos((y+d-b)/(2*_*k)))/2),p=A/k,S=A/_;Math.abs(p-1)>er&&this._append`L${e+p*u},${n+p*h}`,this._append`A${o},${o},0,0,${+(h*g>u*m)},${this._x1=e+S*c},${this._y1=n+S*l}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),l=e+f,u=n+c,h=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>er||Math.abs(this._y1-u)>er)&&this._append`L${l},${u}`,r&&(d<0&&(d=d%Ts+Ts),d>_b?this._append`A${r},${r},0,1,${h},${e-f},${n-c}A${r},${r},0,1,${h},${this._x1=l},${this._y1=u}`:d>er&&this._append`A${r},${r},0,${+(d>=Ms)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dh(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wb(e)}function hh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gh(t){this._context=t}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zf(t){return new gh(t)}function Sb(t){return t[0]}function kb(t){return t[1]}function Mb(t,e){var n=ye(!0),r=null,i=zf,o=null,s=dh(f);t=typeof t=="function"?t:t===void 0?Sb:ye(t),e=typeof e=="function"?e:e===void 0?kb:ye(e);function f(c){var l,u=(c=hh(c)).length,h,d=!1,g;for(r==null&&(o=i(g=s())),l=0;l<=u;++l)!(l<u&&n(h=c[l],l,c))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,l,c),+e(h,l,c));if(g)return o=null,g+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:ye(+c),f):t},f.y=function(c){return arguments.length?(e=typeof c=="function"?c:ye(+c),f):e},f.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ye(!!c),f):n},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}class ph{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Tb(t){return new ph(t,!0)}function Eb(t){return new ph(t,!1)}const Ab=Kt(3),Nb={draw(t,e){const n=Kt(e+Yf(e/28,.75))*.59436,r=n/2,i=r*Ab;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},vh={draw(t,e){const n=Kt(e/Fa);t.moveTo(n,0),t.arc(0,0,n,0,bo)}},Cb={draw(t,e){const n=Kt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mh=Kt(1/3),Pb=mh*2,Fb={draw(t,e){const n=Kt(e/Pb),r=n*mh;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Lb={draw(t,e){const n=Kt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Rb={draw(t,e){const n=Kt(e-Yf(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Db={draw(t,e){const n=Kt(e),r=-n/2;t.rect(r,r,n,n)}},Ib={draw(t,e){const n=Kt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},Ob=.8908130915292852,bh=Pa(Fa/10)/Pa(7*Fa/10),Yb=Pa(bo/10)*bh,zb=-lh(bo/10)*bh,qb={draw(t,e){const n=Kt(e*Ob),r=Yb*n,i=zb*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=bo*o/5,f=lh(s),c=Pa(s);t.lineTo(c*n,-f*n),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},Xo=Kt(3),jb={draw(t,e){const n=-Kt(e/(Xo*3));t.moveTo(0,n*2),t.lineTo(-Xo*n,-n),t.lineTo(Xo*n,-n),t.closePath()}},Ub=Kt(3),Wb={draw(t,e){const n=Kt(e)*.6824,r=n/2,i=n*Ub/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Le=-.5,Re=Kt(3)/2,Es=1/Kt(12),Bb=(Es/2+1)*3,Hb={draw(t,e){const n=Kt(e/Bb),r=n/2,i=n*Es,o=r,s=n*Es+n,f=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(f,c),t.lineTo(Le*r-Re*i,Re*r+Le*i),t.lineTo(Le*o-Re*s,Re*o+Le*s),t.lineTo(Le*f-Re*c,Re*f+Le*c),t.lineTo(Le*r+Re*i,Le*i-Re*r),t.lineTo(Le*o+Re*s,Le*s-Re*o),t.lineTo(Le*f+Re*c,Le*c-Re*f),t.closePath()}},Gb={draw(t,e){const n=Kt(e-Yf(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};function yo(t,e){let n=null,r=dh(i);t=typeof t=="function"?t:ye(t||vh),e=typeof e=="function"?e:ye(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ye(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ye(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Kn(){}function La(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _o(t){this._context=t}_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:La(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:La(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xb(t){return new _o(t)}function yh(t){this._context=t}yh.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:La(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vb(t){return new yh(t)}function _h(t){this._context=t}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:La(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zb(t){return new _h(t)}function xh(t,e){this._basis=new _o(t),this._beta=e}xh.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,s=e[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*e[f]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Kb=(function t(e){function n(r){return e===1?new _o(r):new xh(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function Ra(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function qf(t,e){this._context=t,this._k=(1-e)/6}qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ra(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ra(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $b=(function t(e){function n(r){return new qf(r,e)}return n.tension=function(r){return t(+r)},n})(0);function jf(t,e){this._context=t,this._k=(1-e)/6}jf.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ra(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Qb=(function t(e){function n(r){return new jf(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Uf(t,e){this._context=t,this._k=(1-e)/6}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ra(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Jb=(function t(e){function n(r){return new Uf(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Wf(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>sl){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>sl){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function wh(t,e){this._context=t,this._alpha=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Wf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ty=(function t(e){function n(r){return e?new wh(r,e):new qf(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function Sh(t,e){this._context=t,this._alpha=e}Sh.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Wf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ey=(function t(e){function n(r){return e?new Sh(r,e):new jf(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function kh(t,e){this._context=t,this._alpha=e}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ny=(function t(e){function n(r){return e?new kh(r,e):new Uf(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function Mh(t){this._context=t}Mh.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ry(t){return new Mh(t)}function fl(t){return t<0?-1:1}function cl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),f=(o*i+s*r)/(r+i);return(fl(o)+fl(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(f))||0}function ll(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vo(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*e,o-f,s-f*n,o,s)}function Da(t){this._context=t}Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vo(this,this._t0,ll(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vo(this,ll(this,n=cl(this,t,e)),n);break;default:Vo(this,this._t0,n=cl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Th(t){this._context=new Eh(t)}(Th.prototype=Object.create(Da.prototype)).point=function(t,e){Da.prototype.point.call(this,e,t)};function Eh(t){this._context=t}Eh.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function iy(t){return new Da(t)}function ay(t){return new Th(t)}function Ah(t){this._context=t}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ul(t),i=ul(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ul(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function oy(t){return new Ah(t)}function xo(t,e){this._context=t,this._t=e}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sy(t){return new xo(t,.5)}function fy(t){return new xo(t,0)}function cy(t){return new xo(t,1)}function Ri(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,f=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<f;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Di(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ly(t,e){return t[e]}function uy(t){const e=[];return e.key=t,e}function dy(){var t=ye([]),e=Di,n=Ri,r=ly;function i(o){var s=Array.from(t.apply(this,arguments),uy),f,c=s.length,l=-1,u;for(const h of o)for(f=0,++l;f<c;++f)(s[f][l]=[0,+r(h,s[f].key,l,o)]).data=h;for(f=0,u=hh(e(s));f<c;++f)s[u[f]].index=f;return n(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ye(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ye(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Di:typeof o=="function"?o:ye(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ri,i):n},i}function hy(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ri(t,e)}}function gy(t,e){if((c=t.length)>0)for(var n,r=0,i,o,s,f,c,l=t[e[0]].length;r<l;++r)for(s=f=0,n=0;n<c;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=f,i[0]=f+=o):(i[0]=0,i[1]=o)}function py(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,f=0;s<i;++s)f+=t[s][n][1]||0;r[n][1]+=r[n][0]=-f/2}Ri(t,e)}}function vy(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var f=0,c=0,l=0;f<s;++f){for(var u=t[e[f]],h=u[r][1]||0,d=u[r-1][1]||0,g=(h-d)/2,m=0;m<f;++m){var y=t[e[m]],b=y[r][1]||0,_=y[r-1][1]||0;g+=b-_}c+=h,l+=g*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=l/c)}i[r-1][1]+=i[r-1][0]=n,Ri(t,e)}}function Nh(t){var e=t.map(my);return Di(t).sort(function(n,r){return e[n]-e[r]})}function my(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function by(t){var e=t.map(Ch);return Di(t).sort(function(n,r){return e[n]-e[r]})}function Ch(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function yy(t){var e=t.length,n,r,i=t.map(Ch),o=Nh(t),s=0,f=0,c=[],l=[];for(n=0;n<e;++n)r=o[n],s<f?(s+=i[r],c.push(r)):(f+=i[r],l.push(r));return l.reverse().concat(c)}const _y=Math.sqrt(3),xy=2/_y,wy={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*xy,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Ph=new Map([["asterisk",Nb],["circle",vh],["cross",Cb],["diamond",Fb],["diamond2",Lb],["hexagon",wy],["plus",Rb],["square",Db],["square2",Ib],["star",qb],["times",Gb],["triangle",jb],["triangle2",Wb],["wye",Hb]]);function Fh(t){return typeof t=="string"?!1:t&&typeof t.draw=="function"}function Sy(t){return Fh(t)?!0:typeof t!="string"?!1:Ph.has(t.toLowerCase())}function wo(t){if(t==null||Fh(t))return t;const e=Ph.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Vi(t){return t instanceof Date&&!isNaN(t.getTime())}function dl(t){return t==null||Vi(t)}function ky(t){return t==null||Number.isFinite(t)||typeof t=="string"&&!Number.isNaN(+t)}function My(t){return t==null||Number.isFinite(t)||Number.isNaN(t)||typeof t=="string"&&!Number.isNaN(+t)}function hl(t){return t==null||typeof t=="string"}function Ty(t){return t==null||(typeof t=="string"||typeof t=="object")&&Sy(t)}function Ey(t){return t==null?!0:typeof t=="string"?(t=`${t}`.toLowerCase(),t==="currentcolor"||Ca.test(t)||vb.test(t)||mb.test(t)||bb.test(t)||yb.test(t)||ch.test(t)||Or(t)!==null):!1}function As(t){const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e==="object"||Vi(t)||e===null}function Zo(...t){for(const e of t)if(e!=null)return e;return null}function pr(t,e){return e.filter==null||nt(e.filter,t)}function Bf(){return Math.ceil(1e9+Math.random()*1e9).toString(36)}function Ay(t){return typeof t=="function"&&t.length===1}function Me(t){return t!=null&&!Number.isNaN(t)&&(typeof t!="number"||Number.isFinite(t))}function Ns(t){return typeof t=="object"&&!Vi(t)&&!Array.isArray(t)&&t!==null}const Ny=/^[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i;function hi(t){return typeof t=="number"&&Number.isFinite(t)?t:typeof t=="string"&&Ny.test(t.trim())?parseFloat(t):null}const Hf=t=>()=>t,Cy={strokeWidth:"stroke-width",strokeDasharray:"stroke-dasharray",strokeLinejoin:"stroke-linejoin",strokeLinecap:"stroke-linecap",blend:"mix-blend-mode",clipPath:"clip-path",mask:"mask",fontFamily:"font-family",fontSize:"font-size",fontStyle:"font-style",fontWeight:"font-weight",textAnchor:"text-anchor",fontVariant:"font-variant",letterSpacing:"letter-spacing",textDecoration:"text-decoration",textTransform:"text-transform",wordSpacing:"word-spacing",cursor:"cursor",pointerEvents:"pointer-events"},Py={fontWeight:"normal"};function Lh(t,e){return Object.fromEntries(Object.entries(Cy).filter(([n,r])=>r&&e[n]!=null).map(([n,r])=>[r,Fy(r,nt(e[n],t,Py[n]||null))]))}function Fy(t,e){return(t==="font-size"||t==="stroke-width")&&typeof e=="number"?`${e}px`:e}function gl(t){return typeof t=="string"&&t.endsWith("px")?+t.slice(0,-2):t}function Ly(t,e=16){return typeof t=="string"&&t.endsWith("rem")?+t.slice(0,-3)*e:t}const pl=Symbol("x"),vl=Symbol("y"),Rt=Symbol("originalValue");function Zi(t){return t.map((e,n)=>({...e,[zt]:n}))}function Ry({data:t,...e},{withIndex:n}={withIndex:!0}){if(!Ve(t[0])&&!Array.isArray(t[0])&&e.x==null){const{x:i,x1:o,x2:s,...f}=e;return{data:t.map((c,l)=>({[Rt]:c,[zt]:l})),...f,x:Rt,...n?{y:zt}:{}}}return{data:Zi(t),...e}}function Dy({data:t,...e},{withIndex:n}={withIndex:!0}){if(!t)return{data:t,...e};if(!Ve(t[0])&&!Array.isArray(t[0])&&e.y==null){const{y:i,y1:o,y2:s,...f}=e;return{data:Array.from(t).map((c,l)=>({[zt]:l,[Rt]:c})),...f,...n?{x:zt}:{},y:Rt}}return{data:Zi(t),...e}}function Rh({data:t,...e}){return t?!Ve(t[0])&&Array.isArray(t[0])&&e.x===void 0&&e.y===void 0?{data:t.map(([n,r,...i],o)=>({[Rt]:[n,r,...i],[zt]:o,[pl]:n,[vl]:r})),...e,x:pl,y:vl}:{data:t,...e}:{data:t,...e}}function nt(t,e,n=null){return typeof t=="function"?e==null?t():t(e.hasOwnProperty(Rt)?e[Rt]:e,e[zt]):(typeof t=="string"||typeof t=="symbol")&&e&&e[t]!==void 0?e[t]:As(t)?t:n}function Dh(t,e){const n=_e[t]==="x"||_e[t]==="y",r=_e[t]==="opacity";return Ve(e)?e:{value:e,scale:!n&&!r&&typeof e=="number"||typeof e>"u"?null:_e[t],channel:null}}function Ut(t,e,n){const r=_e[t],i=t==="z"?n.z||n.fill||n.stroke:n[t],o=Dh(t,i);return o.channel?Ut(o.channel,e,n):Iy(e,o.value,t,r)}function Iy(t,e,n,r){return Ve(t)?typeof e=="function"?e(t[Rt]!=null?t[Rt]:t,t?.[zt]):(typeof e=="string"||typeof e=="symbol")&&t[e]!==void 0?t[e]:e===null&&t[n]!==void 0?t[n]:As(e)?e:null:Array.isArray(t)&&(typeof e=="string"||typeof e=="number")&&t[e]!=null?t[e]:typeof e=="function"?e(t,t?.[zt]):e!==null&&As(e)?e:!Array.isArray(t)&&(r==="x"||r==="y")?t:null}const Ih={fill:"fill",stroke:"stroke",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",opacity:"opacity"},Cs={fill:"stroke",stroke:"fill"};function Oh(t,e,n,r,i=null){return{...Lh(t,e),fill:"none",stroke:"none",...i&&e[Cs[i]]==null?{[i]:"currentColor"}:{},...Object.fromEntries(Object.entries(Ih).filter(([o])=>e[o]!=null).map(([o,s])=>[o,s,Ut(o,t,e)]).filter(([o,,s])=>Me(s)||o==="fill"||o==="stroke").map(([o,s,f])=>n[o]?f==null&&(o==="fill"||o==="stroke")&&r.options.color.unknown?[s,r.options.color.unknown]:[s,r.scales[_e[o]].fn(f)]:[s,f]))}}function Yh(t,e,n,r,i=null){return`${Ps(Oh(t,e,n,r,i))};${e.style||""}`}function Ps(t){return`${Object.entries(t).map(([e,n])=>`${e}: ${n}`).join(";")}`}function Ce(t,e,n,r=null,i,o=!1){const s={...Lh(e?.datum,n),fill:"none",stroke:"none",...r&&(n[Cs[r]]==null||n[Cs[r]]==="none")?{[r]:"currentColor"}:{},...Object.fromEntries(Object.entries(Ih).filter(([f])=>n[f]!=null).map(([f,c])=>[f,c,o?Ut(f,e?.datum,n):e?.[f]]).filter(([f,,c])=>Me(c)||f==="fill"||f==="stroke").map(([f,c,l])=>{if(i[f]){if(l==null&&(f==="fill"||f==="stroke")&&t.options.color.unknown)return[c,t.options.color.unknown]}else if((f==="fill"||f==="stroke")&&l===!0)return[c,"currentColor"];return[c,l]}))};return t.css?[null,t.css(`${Ps(s)};${n.style??""}`)]:[`${Ps(s)};${n.style??""}`,null]}function Oy(t,e){pt(e,!0),ma("svelteplot/facet",{getTestFacet(){return(i,o)=>(o.fx==null||Ut("fx",i,o)===e.fx)&&(o.fy==null||Ut("fy",i,o)===e.fy)},getFacetState(){return{fx:e.fx,fy:e.fy,left:e.left,top:e.top,right:e.right,bottom:e.bottom,topEmpty:e.topEmpty,bottomEmpty:e.bottomEmpty,leftEmpty:e.leftEmpty,rightEmpty:e.rightEmpty}}});var n=at(),r=Z(n);Gt(r,()=>e.children??Ht),F(t,n),vt()}function Yy(t,e,n){const i=t.filter(s=>s.options.__firstFacet&&s.data.length>0&&!s.options.automatic&&(e.length===1||s.options.fx!=null)&&(n.length===1||s.options.fy!=null)).map(s=>s.data.map(f=>{const c=Ut("fx",f,s.options),l=Ut("fy",f,s.options);return{fx:c,fy:l}})).flat(1),o=new Map;for(const s of e){o.set(s,new Map);for(const f of n){let c=e.length===1||n.length===1;for(const l of i)if(l.fx===s&&l.fy===f){c=!0;break}o.get(s)?.set(f,!c)}}return o}var zy=rt('<g class="facet" fill="currentColor"><rect fill="transparent" pointer-events="all"></rect><!></g>');function qy(t,e){pt(e,!0);const{getPlotState:n,updateDimensions:r}=Et("svelteplot"),i=v(n),o=v(()=>a(i).scales.fx.domain.length>0),s=v(()=>a(i).scales.fy.domain.length>0),f=v(()=>a(o)?a(i).scales.fx.domain:[!0]),c=v(()=>a(s)?a(i).scales.fy.domain:[!0]),l=v(()=>Yy(e.marks,a(f),a(c))),u=v(()=>ur().paddingInner(a(f).length>1?.1:0).domain(a(f)).rangeRound([0,a(i).plotWidth])),h=v(()=>ur().paddingInner(a(c).length>1?.1:0).domain(a(c)).rangeRound([0,a(i).plotHeight])),d=v(()=>a(o)?a(u).bandwidth():a(i).plotWidth),g=v(()=>a(s)?a(h).bandwidth():a(i).plotHeight);Jg(()=>{r(a(d),a(g))});var m=at(),y=Z(m);jt(y,17,()=>a(f),ce,(b,_,k)=>{var A=at(),p=Z(A);jt(p,17,()=>a(c),ce,(S,w,x)=>{var E=zy();U(E,"data-facet-x",k),U(E,"data-facet-y",x);let M;var T=et(E),C=$(T);{let R=v(()=>k===a(f).length-1),P=v(()=>x===a(c).length-1),I=v(()=>!!(k===0||a(l).get(a(f)[k-1])?.get(a(w)))),N=v(()=>!!(x===0||a(l).get(a(_))?.get(a(c)[x-1]))),L=v(()=>!!(k===a(f).length-1||a(l).get(a(f)[k+1])?.get(a(w)))),z=v(()=>!!(x===a(c).length-1||a(l).get(a(_))?.get(a(c)[x+1])));Oy(C,{get fx(){return a(_)},get fy(){return a(w)},left:k===0,get right(){return a(R)},top:x===0,get bottom(){return a(P)},get leftEmpty(){return a(I)},get topEmpty(){return a(N)},get rightEmpty(){return a(L)},get bottomEmpty(){return a(z)},children:(W,j)=>{var H=at(),O=Z(H);Gt(O,()=>e.children),F(W,H)},$$slots:{default:!0}})}it((R,P,I)=>{U(E,"data-facet",k*a(c).length+x),U(E,"transform",`translate(${R??""}, ${P??""})`),M=Lt(E,"",M,I),U(T,"x",a(i).options.marginLeft),U(T,"y",a(i).options.marginTop),U(T,"width",a(d)),U(T,"height",a(g))},[()=>a(o)?a(u)(a(_)):0,()=>a(s)?a(h)(a(w)):0,()=>({display:a(l).get(a(_))?.get(a(w))?"none":"block"})]),F(S,E)}),F(b,A)}),F(t,m),vt()}function Ko(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Fs(t,...e){if(!e.length)return t;const n=e.shift();if(Ko(t)&&Ko(n))for(const r in n)Ko(n[r])?(t[r]?t[r]=Object.assign({},t[r]):Object.assign(t,{[r]:{}}),Fs(t[r],n[r])):n[r]!==null&&Object.assign(t,{[r]:n[r]});return Fs(t,...e)}var lt=1e-6,zh=1e-12,ht=Math.PI,qt=ht/2,ml=ht/4,Pe=ht*2,ue=180/ht,Yt=ht/180,Tt=Math.abs,Vr=Math.atan,Rn=Math.atan2,dt=Math.cos,qh=Math.exp,Ia=Math.log,$o=Math.pow,ct=Math.sin,ze=Math.sign||function(t){return t>0?1:t<0?-1:0},Se=Math.sqrt,Gf=Math.tan;function jh(t){return t>1?0:t<-1?ht:Math.acos(t)}function Ue(t){return t>1?qt:t<-1?-qt:Math.asin(t)}function qe(){}function Oa(t,e){t&&yl.hasOwnProperty(t.type)&&yl[t.type](t,e)}var bl={Feature:function(t,e){Oa(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Oa(n[r].geometry,e)}},yl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ls(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ls(n[r],e,0)},Polygon:function(t,e){_l(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_l(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Oa(n[r],e)}};function Ls(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function _l(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ls(t[n],e,1);e.polygonEnd()}function Er(t,e){t&&bl.hasOwnProperty(t.type)?bl[t.type](t,e):Oa(t,e)}function Rs(t){return[Rn(t[1],t[0]),Ue(t[2])]}function qr(t){var e=t[0],n=t[1],r=dt(n);return[r*dt(e),r*ct(e),ct(n)]}function aa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ya(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Qo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function oa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ds(t){var e=Se(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Is(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Os(t,e){return Tt(t)>ht&&(t-=Math.round(t/Pe)*Pe),[t,e]}Os.invert=Os;function Uh(t,e,n){return(t%=Pe)?e||n?Is(wl(t),Sl(e,n)):wl(t):e||n?Sl(e,n):Os}function xl(t){return function(e,n){return e+=t,Tt(e)>ht&&(e-=Math.round(e/Pe)*Pe),[e,n]}}function wl(t){var e=xl(t);return e.invert=xl(-t),e}function Sl(t,e){var n=dt(t),r=ct(t),i=dt(e),o=ct(e);function s(f,c){var l=dt(c),u=dt(f)*l,h=ct(f)*l,d=ct(c),g=d*n+u*r;return[Rn(h*i-g*o,u*n-d*r),Ue(g*i+h*o)]}return s.invert=function(f,c){var l=dt(c),u=dt(f)*l,h=ct(f)*l,d=ct(c),g=d*i-h*o;return[Rn(h*i+d*o,u*n+g*r),Ue(g*n-u*r)]},s}function jy(t){t=Uh(t[0]*Yt,t[1]*Yt,t.length>2?t[2]*Yt:0);function e(n){return n=t(n[0]*Yt,n[1]*Yt),n[0]*=ue,n[1]*=ue,n}return e.invert=function(n){return n=t.invert(n[0]*Yt,n[1]*Yt),n[0]*=ue,n[1]*=ue,n},e}function Uy(t,e,n,r,i,o){if(n){var s=dt(e),f=ct(e),c=r*n;i==null?(i=e+r*Pe,o=e-c/2):(i=kl(s,i),o=kl(s,o),(r>0?i<o:i>o)&&(i+=r*Pe));for(var l,u=i;r>0?u>o:u<o;u-=c)l=Rs([s,-f*dt(u),-f*ct(u)]),t.point(l[0],l[1])}}function kl(t,e){e=qr(e),e[0]-=t,Ds(e);var n=jh(-e[1]);return((-e[2]<0?-n:n)+Pe-lt)%Pe}function Wh(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:qe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function pa(t,e){return Tt(t[0]-e[0])<lt&&Tt(t[1]-e[1])<lt}function sa(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Bh(t,e,n,r,i){var o=[],s=[],f,c;if(t.forEach(function(m){if(!((y=m.length-1)<=0)){var y,b=m[0],_=m[y],k;if(pa(b,_)){if(!b[2]&&!_[2]){for(i.lineStart(),f=0;f<y;++f)i.point((b=m[f])[0],b[1]);i.lineEnd();return}_[0]+=2*lt}o.push(k=new sa(b,m,null,!0)),s.push(k.o=new sa(b,null,k,!1)),o.push(k=new sa(_,m,null,!1)),s.push(k.o=new sa(_,null,k,!0))}}),!!o.length){for(s.sort(e),Ml(o),Ml(s),f=0,c=s.length;f<c;++f)s[f].e=n=!n;for(var l=o[0],u,h;;){for(var d=l,g=!0;d.v;)if((d=d.n)===l)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(f=0,c=u.length;f<c;++f)i.point((h=u[f])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(g)for(u=d.p.z,f=u.length-1;f>=0;--f)i.point((h=u[f])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,g=!g}while(!d.v);i.lineEnd()}}}function Ml(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Jo(t){return Tt(t[0])<=ht?t[0]:ze(t[0])*((Tt(t[0])+ht)%Pe-ht)}function Wy(t,e){var n=Jo(e),r=e[1],i=ct(r),o=[ct(n),-dt(n),0],s=0,f=0,c=new lr;i===1?r=qt+lt:i===-1&&(r=-qt-lt);for(var l=0,u=t.length;l<u;++l)if(d=(h=t[l]).length)for(var h,d,g=h[d-1],m=Jo(g),y=g[1]/2+ml,b=ct(y),_=dt(y),k=0;k<d;++k,m=p,b=w,_=x,g=A){var A=h[k],p=Jo(A),S=A[1]/2+ml,w=ct(S),x=dt(S),E=p-m,M=E>=0?1:-1,T=M*E,C=T>ht,R=b*w;if(c.add(Rn(R*M*ct(T),_*x+R*dt(T))),s+=C?E+M*Pe:E,C^m>=n^p>=n){var P=Ya(qr(g),qr(A));Ds(P);var I=Ya(o,P);Ds(I);var N=(C^E>=0?-1:1)*Ue(I[2]);(r>N||r===N&&(P[0]||P[1]))&&(f+=C^E>=0?1:-1)}}return(s<-lt||s<lt&&c<-zh)^f&1}function Hh(t,e,n,r){return function(i){var o=e(i),s=Wh(),f=e(s),c=!1,l,u,h,d={point:g,lineStart:y,lineEnd:b,polygonStart:function(){d.point=_,d.lineStart=k,d.lineEnd=A,u=[],l=[]},polygonEnd:function(){d.point=g,d.lineStart=y,d.lineEnd=b,u=vd(u);var p=Wy(l,r);u.length?(c||(i.polygonStart(),c=!0),Bh(u,Hy,p,n,i)):p&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(p,S){t(p,S)&&i.point(p,S)}function m(p,S){o.point(p,S)}function y(){d.point=m,o.lineStart()}function b(){d.point=g,o.lineEnd()}function _(p,S){h.push([p,S]),f.point(p,S)}function k(){f.lineStart(),h=[]}function A(){_(h[0][0],h[0][1]),f.lineEnd();var p=f.clean(),S=s.result(),w,x=S.length,E,M,T;if(h.pop(),l.push(h),h=null,!!x){if(p&1){if(M=S[0],(E=M.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),w=0;w<E;++w)i.point((T=M[w])[0],T[1]);i.lineEnd()}return}x>1&&p&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(By))}}return d}}function By(t){return t.length>1}function Hy(t,e){return((t=t.x)[0]<0?t[1]-qt-lt:qt-t[1])-((e=e.x)[0]<0?e[1]-qt-lt:qt-e[1])}const Tl=Hh(function(){return!0},Gy,Vy,[-ht,-qt]);function Gy(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,s){var f=o>0?ht:-ht,c=Tt(o-e);Tt(c-ht)<lt?(t.point(e,n=(n+s)/2>0?qt:-qt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(o,n),i=0):r!==f&&c>=ht&&(Tt(e-r)<lt&&(e-=r*lt),Tt(o-f)<lt&&(o-=f*lt),n=Xy(e,n,o,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=o,n=s),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Xy(t,e,n,r){var i,o,s=ct(t-n);return Tt(s)>lt?Vr((ct(e)*(o=dt(r))*ct(n)-ct(r)*(i=dt(e))*ct(t))/(i*o*s)):(e+r)/2}function Vy(t,e,n,r){var i;if(t==null)i=n*qt,r.point(-ht,i),r.point(0,i),r.point(ht,i),r.point(ht,0),r.point(ht,-i),r.point(0,-i),r.point(-ht,-i),r.point(-ht,0),r.point(-ht,i);else if(Tt(t[0]-e[0])>lt){var o=t[0]<e[0]?ht:-ht;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Zy(t){var e=dt(t),n=2*Yt,r=e>0,i=Tt(e)>lt;function o(u,h,d,g){Uy(g,t,n,d,u,h)}function s(u,h){return dt(u)*dt(h)>e}function f(u){var h,d,g,m,y;return{lineStart:function(){m=g=!1,y=1},point:function(b,_){var k=[b,_],A,p=s(b,_),S=r?p?0:l(b,_):p?l(b+(b<0?ht:-ht),_):0;if(!h&&(m=g=p)&&u.lineStart(),p!==g&&(A=c(h,k),(!A||pa(h,A)||pa(k,A))&&(k[2]=1)),p!==g)y=0,p?(u.lineStart(),A=c(k,h),u.point(A[0],A[1])):(A=c(h,k),u.point(A[0],A[1],2),u.lineEnd()),h=A;else if(i&&h&&r^p){var w;!(S&d)&&(w=c(k,h,!0))&&(y=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}p&&(!h||!pa(h,k))&&u.point(k[0],k[1]),h=k,g=p,d=S},lineEnd:function(){g&&u.lineEnd(),h=null},clean:function(){return y|(m&&g)<<1}}}function c(u,h,d){var g=qr(u),m=qr(h),y=[1,0,0],b=Ya(g,m),_=aa(b,b),k=b[0],A=_-k*k;if(!A)return!d&&u;var p=e*_/A,S=-e*k/A,w=Ya(y,b),x=oa(y,p),E=oa(b,S);Qo(x,E);var M=w,T=aa(x,M),C=aa(M,M),R=T*T-C*(aa(x,x)-1);if(!(R<0)){var P=Se(R),I=oa(M,(-T-P)/C);if(Qo(I,x),I=Rs(I),!d)return I;var N=u[0],L=h[0],z=u[1],W=h[1],j;L<N&&(j=N,N=L,L=j);var H=L-N,O=Tt(H-ht)<lt,Y=O||H<lt;if(!O&&W<z&&(j=z,z=W,W=j),Y?O?z+W>0^I[1]<(Tt(I[0]-N)<lt?z:W):z<=I[1]&&I[1]<=W:H>ht^(N<=I[0]&&I[0]<=L)){var G=oa(M,(-T+P)/C);return Qo(G,x),[I,Rs(G)]}}}function l(u,h){var d=r?t:ht-t,g=0;return u<-d?g|=1:u>d&&(g|=2),h<-d?g|=4:h>d&&(g|=8),g}return Hh(s,f,o,r?[0,-t]:[-ht,t-ht])}function Ky(t,e,n,r,i,o){var s=t[0],f=t[1],c=e[0],l=e[1],u=0,h=1,d=c-s,g=l-f,m;if(m=n-s,!(!d&&m>0)){if(m/=d,d<0){if(m<u)return;m<h&&(h=m)}else if(d>0){if(m>h)return;m>u&&(u=m)}if(m=i-s,!(!d&&m<0)){if(m/=d,d<0){if(m>h)return;m>u&&(u=m)}else if(d>0){if(m<u)return;m<h&&(h=m)}if(m=r-f,!(!g&&m>0)){if(m/=g,g<0){if(m<u)return;m<h&&(h=m)}else if(g>0){if(m>h)return;m>u&&(u=m)}if(m=o-f,!(!g&&m<0)){if(m/=g,g<0){if(m>h)return;m>u&&(u=m)}else if(g>0){if(m<u)return;m<h&&(h=m)}return u>0&&(t[0]=s+u*d,t[1]=f+u*g),h<1&&(e[0]=s+h*d,e[1]=f+h*g),!0}}}}}var oi=1e9,fa=-oi;function Gh(t,e,n,r){function i(l,u){return t<=l&&l<=n&&e<=u&&u<=r}function o(l,u,h,d){var g=0,m=0;if(l==null||(g=s(l,h))!==(m=s(u,h))||c(l,u)<0^h>0)do d.point(g===0||g===3?t:n,g>1?r:e);while((g=(g+h+4)%4)!==m);else d.point(u[0],u[1])}function s(l,u){return Tt(l[0]-t)<lt?u>0?0:3:Tt(l[0]-n)<lt?u>0?2:1:Tt(l[1]-e)<lt?u>0?1:0:u>0?3:2}function f(l,u){return c(l.x,u.x)}function c(l,u){var h=s(l,1),d=s(u,1);return h!==d?h-d:h===0?u[1]-l[1]:h===1?l[0]-u[0]:h===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,h=Wh(),d,g,m,y,b,_,k,A,p,S,w,x={point:E,lineStart:R,lineEnd:P,polygonStart:T,polygonEnd:C};function E(N,L){i(N,L)&&u.point(N,L)}function M(){for(var N=0,L=0,z=g.length;L<z;++L)for(var W=g[L],j=1,H=W.length,O=W[0],Y,G,Q=O[0],J=O[1];j<H;++j)Y=Q,G=J,O=W[j],Q=O[0],J=O[1],G<=r?J>r&&(Q-Y)*(r-G)>(J-G)*(t-Y)&&++N:J<=r&&(Q-Y)*(r-G)<(J-G)*(t-Y)&&--N;return N}function T(){u=h,d=[],g=[],w=!0}function C(){var N=M(),L=w&&N,z=(d=vd(d)).length;(L||z)&&(l.polygonStart(),L&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),z&&Bh(d,f,N,o,l),l.polygonEnd()),u=l,d=g=m=null}function R(){x.point=I,g&&g.push(m=[]),S=!0,p=!1,k=A=NaN}function P(){d&&(I(y,b),_&&p&&h.rejoin(),d.push(h.result())),x.point=E,p&&u.lineEnd()}function I(N,L){var z=i(N,L);if(g&&m.push([N,L]),S)y=N,b=L,_=z,S=!1,z&&(u.lineStart(),u.point(N,L));else if(z&&p)u.point(N,L);else{var W=[k=Math.max(fa,Math.min(oi,k)),A=Math.max(fa,Math.min(oi,A))],j=[N=Math.max(fa,Math.min(oi,N)),L=Math.max(fa,Math.min(oi,L))];Ky(W,j,t,e,n,r)?(p||(u.lineStart(),u.point(W[0],W[1])),u.point(j[0],j[1]),z||u.lineEnd(),w=!1):z&&(u.lineStart(),u.point(N,L),w=!1)}k=N,A=L,p=z}return x}}const Ys=t=>t;var ts=new lr,zs=new lr,Xh,Vh,qs,js,wn={point:qe,lineStart:qe,lineEnd:qe,polygonStart:function(){wn.lineStart=$y,wn.lineEnd=Jy},polygonEnd:function(){wn.lineStart=wn.lineEnd=wn.point=qe,ts.add(Tt(zs)),zs=new lr},result:function(){var t=ts/2;return ts=new lr,t}};function $y(){wn.point=Qy}function Qy(t,e){wn.point=Zh,Xh=qs=t,Vh=js=e}function Zh(t,e){zs.add(js*t-qs*e),qs=t,js=e}function Jy(){Zh(Xh,Vh)}var jr=1/0,za=jr,Ii=-jr,qa=Ii,ja={point:t_,lineStart:qe,lineEnd:qe,polygonStart:qe,polygonEnd:qe,result:function(){var t=[[jr,za],[Ii,qa]];return Ii=qa=-(za=jr=1/0),t}};function t_(t,e){t<jr&&(jr=t),t>Ii&&(Ii=t),e<za&&(za=e),e>qa&&(qa=e)}var Us=0,Ws=0,si=0,Ua=0,Wa=0,Cr=0,Bs=0,Hs=0,fi=0,Kh,$h,en,nn,Oe={point:vr,lineStart:El,lineEnd:Al,polygonStart:function(){Oe.lineStart=r_,Oe.lineEnd=i_},polygonEnd:function(){Oe.point=vr,Oe.lineStart=El,Oe.lineEnd=Al},result:function(){var t=fi?[Bs/fi,Hs/fi]:Cr?[Ua/Cr,Wa/Cr]:si?[Us/si,Ws/si]:[NaN,NaN];return Us=Ws=si=Ua=Wa=Cr=Bs=Hs=fi=0,t}};function vr(t,e){Us+=t,Ws+=e,++si}function El(){Oe.point=e_}function e_(t,e){Oe.point=n_,vr(en=t,nn=e)}function n_(t,e){var n=t-en,r=e-nn,i=Se(n*n+r*r);Ua+=i*(en+t)/2,Wa+=i*(nn+e)/2,Cr+=i,vr(en=t,nn=e)}function Al(){Oe.point=vr}function r_(){Oe.point=a_}function i_(){Qh(Kh,$h)}function a_(t,e){Oe.point=Qh,vr(Kh=en=t,$h=nn=e)}function Qh(t,e){var n=t-en,r=e-nn,i=Se(n*n+r*r);Ua+=i*(en+t)/2,Wa+=i*(nn+e)/2,Cr+=i,i=nn*t-en*e,Bs+=i*(en+t),Hs+=i*(nn+e),fi+=i*3,vr(en=t,nn=e)}function Jh(t){this._context=t}Jh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pe);break}}},result:qe};var Gs=new lr,es,t0,e0,ci,li,Oi={point:qe,lineStart:function(){Oi.point=o_},lineEnd:function(){es&&n0(t0,e0),Oi.point=qe},polygonStart:function(){es=!0},polygonEnd:function(){es=null},result:function(){var t=+Gs;return Gs=new lr,t}};function o_(t,e){Oi.point=n0,t0=ci=t,e0=li=e}function n0(t,e){ci-=t,li-=e,Gs.add(Se(ci*ci+li*li)),ci=t,li=e}let Nl,Ba,Cl,Pl;class Fl{constructor(e){this._append=e==null?r0:s_(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Cl||this._append!==Ba){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Cl=r,Ba=this._append,Pl=this._,this._=i}this._+=Pl;break}}}result(){const e=this._;return this._="",e.length?e:null}}function r0(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function s_(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return r0;if(e!==Nl){const n=10**e;Nl=e,Ba=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Ba}function i0(t,e){let n=3,r=4.5,i,o;function s(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Er(f,i(o))),o.result()}return s.area=function(f){return Er(f,i(wn)),wn.result()},s.measure=function(f){return Er(f,i(Oi)),Oi.result()},s.bounds=function(f){return Er(f,i(ja)),ja.result()},s.centroid=function(f){return Er(f,i(Oe)),Oe.result()},s.projection=function(f){return arguments.length?(i=f==null?(t=null,Ys):(t=f).stream,s):t},s.context=function(f){return arguments.length?(o=f==null?(e=null,new Fl(n)):new Jh(e=f),typeof r!="function"&&o.pointRadius(r),s):e},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return e===null&&(o=new Fl(n)),s},s.projection(t).digits(n).context(e)}function Xs(t){return{stream:So(t)}}function So(t){return function(e){var n=new Vs;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Vs(){}Vs.prototype={constructor:Vs,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Xf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Er(n,t.stream(ja)),e(ja.result()),r!=null&&t.clipExtent(r),t}function Vf(t,e,n){return Xf(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+e[0][1]+(o-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([f,c])},n)}function a0(t,e,n){return Vf(t,[[0,0],e],n)}function o0(t,e,n){return Xf(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([s,f])},n)}function s0(t,e,n){return Xf(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,f])},n)}var Ll=16,f_=dt(30*Yt);function Rl(t,e){return+e?l_(t,e):c_(t)}function c_(t){return So({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function l_(t,e){function n(r,i,o,s,f,c,l,u,h,d,g,m,y,b){var _=l-r,k=u-i,A=_*_+k*k;if(A>4*e&&y--){var p=s+d,S=f+g,w=c+m,x=Se(p*p+S*S+w*w),E=Ue(w/=x),M=Tt(Tt(w)-1)<lt||Tt(o-h)<lt?(o+h)/2:Rn(S,p),T=t(M,E),C=T[0],R=T[1],P=C-r,I=R-i,N=k*P-_*I;(N*N/A>e||Tt((_*P+k*I)/A-.5)>.3||s*d+f*g+c*m<f_)&&(n(r,i,o,s,f,c,C,R,M,p/=x,S/=x,w,y,b),b.point(C,R),n(C,R,M,p,S,w,l,u,h,d,g,m,y,b))}}return function(r){var i,o,s,f,c,l,u,h,d,g,m,y,b={point:_,lineStart:k,lineEnd:p,polygonStart:function(){r.polygonStart(),b.lineStart=S},polygonEnd:function(){r.polygonEnd(),b.lineStart=k}};function _(E,M){E=t(E,M),r.point(E[0],E[1])}function k(){h=NaN,b.point=A,r.lineStart()}function A(E,M){var T=qr([E,M]),C=t(E,M);n(h,d,u,g,m,y,h=C[0],d=C[1],u=E,g=T[0],m=T[1],y=T[2],Ll,r),r.point(h,d)}function p(){b.point=_,r.lineEnd()}function S(){k(),b.point=w,b.lineEnd=x}function w(E,M){A(i=E,M),o=h,s=d,f=g,c=m,l=y,b.point=A}function x(){n(h,d,u,g,m,y,o,s,i,f,c,l,Ll,r),b.lineEnd=p,p()}return b}}var u_=So({point:function(t,e){this.stream.point(t*Yt,e*Yt)}});function d_(t){return So({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function h_(t,e,n,r,i){function o(s,f){return s*=r,f*=i,[e+t*s,n-t*f]}return o.invert=function(s,f){return[(s-e)/t*r,(n-f)/t*i]},o}function Dl(t,e,n,r,i,o){if(!o)return h_(t,e,n,r,i);var s=dt(o),f=ct(o),c=s*t,l=f*t,u=s/t,h=f/t,d=(f*n-s*e)/t,g=(f*e+s*n)/t;function m(y,b){return y*=r,b*=i,[c*y-l*b+e,n-l*y-c*b]}return m.invert=function(y,b){return[r*(u*y-h*b+d),i*(g-h*y-u*b)]},m}function Jn(t){return f0(function(){return t})()}function f0(t){var e,n=150,r=480,i=250,o=0,s=0,f=0,c=0,l=0,u,h=0,d=1,g=1,m=null,y=Tl,b=null,_,k,A,p=Ys,S=.5,w,x,E,M,T;function C(N){return E(N[0]*Yt,N[1]*Yt)}function R(N){return N=E.invert(N[0],N[1]),N&&[N[0]*ue,N[1]*ue]}C.stream=function(N){return M&&T===N?M:M=u_(d_(u)(y(w(p(T=N)))))},C.preclip=function(N){return arguments.length?(y=N,m=void 0,I()):y},C.postclip=function(N){return arguments.length?(p=N,b=_=k=A=null,I()):p},C.clipAngle=function(N){return arguments.length?(y=+N?Zy(m=N*Yt):(m=null,Tl),I()):m*ue},C.clipExtent=function(N){return arguments.length?(p=N==null?(b=_=k=A=null,Ys):Gh(b=+N[0][0],_=+N[0][1],k=+N[1][0],A=+N[1][1]),I()):b==null?null:[[b,_],[k,A]]},C.scale=function(N){return arguments.length?(n=+N,P()):n},C.translate=function(N){return arguments.length?(r=+N[0],i=+N[1],P()):[r,i]},C.center=function(N){return arguments.length?(o=N[0]%360*Yt,s=N[1]%360*Yt,P()):[o*ue,s*ue]},C.rotate=function(N){return arguments.length?(f=N[0]%360*Yt,c=N[1]%360*Yt,l=N.length>2?N[2]%360*Yt:0,P()):[f*ue,c*ue,l*ue]},C.angle=function(N){return arguments.length?(h=N%360*Yt,P()):h*ue},C.reflectX=function(N){return arguments.length?(d=N?-1:1,P()):d<0},C.reflectY=function(N){return arguments.length?(g=N?-1:1,P()):g<0},C.precision=function(N){return arguments.length?(w=Rl(x,S=N*N),I()):Se(S)},C.fitExtent=function(N,L){return Vf(C,N,L)},C.fitSize=function(N,L){return a0(C,N,L)},C.fitWidth=function(N,L){return o0(C,N,L)},C.fitHeight=function(N,L){return s0(C,N,L)};function P(){var N=Dl(n,0,0,d,g,h).apply(null,e(o,s)),L=Dl(n,r-N[0],i-N[1],d,g,h);return u=Uh(f,c,l),x=Is(e,L),E=Is(u,x),w=Rl(x,S),I()}function I(){return M=T=null,C}return function(){return e=t.apply(this,arguments),C.invert=e.invert&&R,P()}}function Zf(t){var e=0,n=ht/3,r=f0(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*Yt,n=o[1]*Yt):[e*ue,n*ue]},i}function g_(t){var e=dt(t);function n(r,i){return[r*e,ct(i)/e]}return n.invert=function(r,i){return[r/e,Ue(i*e)]},n}function p_(t,e){var n=ct(t),r=(n+ct(e))/2;if(Tt(r)<lt)return g_(t);var i=1+n*(2*r-n),o=Se(i)/r;function s(f,c){var l=Se(i-2*r*ct(c))/r;return[l*ct(f*=r),o-l*dt(f)]}return s.invert=function(f,c){var l=o-c,u=Rn(f,Tt(l))*ze(l);return l*r<0&&(u-=ht*ze(f)*ze(l)),[u/r,Ue((i-(f*f+l*l)*r*r)/(2*r))]},s}function Ha(){return Zf(p_).scale(155.424).center([0,33.6442])}function c0(){return Ha().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function v_(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function m_(){var t,e,n=c0(),r,i=Ha().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=Ha().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,l={point:function(d,g){c=[d,g]}};function u(d){var g=d[0],m=d[1];return c=null,r.point(g,m),c||(o.point(g,m),c)||(f.point(g,m),c)}u.invert=function(d){var g=n.scale(),m=n.translate(),y=(d[0]-m[0])/g,b=(d[1]-m[1])/g;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?i:b>=.166&&b<.234&&y>=-.214&&y<-.115?s:n).invert(d)},u.stream=function(d){return t&&e===d?t:t=v_([n.stream(e=d),i.stream(d),s.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),h()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var g=n.scale(),m=+d[0],y=+d[1];return r=n.translate(d).clipExtent([[m-.455*g,y-.238*g],[m+.455*g,y+.238*g]]).stream(l),o=i.translate([m-.307*g,y+.201*g]).clipExtent([[m-.425*g+lt,y+.12*g+lt],[m-.214*g-lt,y+.234*g-lt]]).stream(l),f=s.translate([m-.205*g,y+.212*g]).clipExtent([[m-.214*g+lt,y+.166*g+lt],[m-.115*g-lt,y+.234*g-lt]]).stream(l),h()},u.fitExtent=function(d,g){return Vf(u,d,g)},u.fitSize=function(d,g){return a0(u,d,g)},u.fitWidth=function(d,g){return o0(u,d,g)},u.fitHeight=function(d,g){return s0(u,d,g)};function h(){return t=e=null,u}return u.scale(1070)}function l0(t){return function(e,n){var r=dt(e),i=dt(n),o=t(r*i);return o===1/0?[2,0]:[o*i*ct(e),o*ct(n)]}}function Ki(t){return function(e,n){var r=Se(e*e+n*n),i=t(r),o=ct(i),s=dt(i);return[Rn(e*o,r*s),Ue(r&&n*o/r)]}}var u0=l0(function(t){return Se(2/(1+t))});u0.invert=Ki(function(t){return 2*Ue(t/2)});function b_(){return Jn(u0).scale(124.75).clipAngle(180-.001)}var d0=l0(function(t){return(t=jh(t))&&t/ct(t)});d0.invert=Ki(function(t){return t});function y_(){return Jn(d0).scale(79.4188).clipAngle(180-.001)}function ko(t,e){return[t,Ia(Gf((qt+e)/2))]}ko.invert=function(t,e){return[t,2*Vr(qh(e))-qt]};function __(){return h0(ko).scale(961/Pe)}function h0(t){var e=Jn(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,s=null,f,c,l;e.scale=function(h){return arguments.length?(r(h),u()):r()},e.translate=function(h){return arguments.length?(i(h),u()):i()},e.center=function(h){return arguments.length?(n(h),u()):n()},e.clipExtent=function(h){return arguments.length?(h==null?s=f=c=l=null:(s=+h[0][0],f=+h[0][1],c=+h[1][0],l=+h[1][1]),u()):s==null?null:[[s,f],[c,l]]};function u(){var h=ht*r(),d=e(jy(e.rotate()).invert([0,0]));return o(s==null?[[d[0]-h,d[1]-h],[d[0]+h,d[1]+h]]:t===ko?[[Math.max(d[0]-h,s),f],[Math.min(d[0]+h,c),l]]:[[s,Math.max(d[1]-h,f)],[c,Math.min(d[1]+h,l)]])}return u()}function ca(t){return Gf((qt+t)/2)}function x_(t,e){var n=dt(t),r=t===e?ct(t):Ia(n/dt(e))/Ia(ca(e)/ca(t)),i=n*$o(ca(t),r)/r;if(!r)return ko;function o(s,f){i>0?f<-qt+lt&&(f=-qt+lt):f>qt-lt&&(f=qt-lt);var c=i/$o(ca(f),r);return[c*ct(r*s),i-c*dt(r*s)]}return o.invert=function(s,f){var c=i-f,l=ze(r)*Se(s*s+c*c),u=Rn(s,Tt(c))*ze(c);return c*r<0&&(u-=ht*ze(s)*ze(c)),[u/r,2*Vr($o(i/l,1/r))-qt]},o}function w_(){return Zf(x_).scale(109.5).parallels([30,30])}function Ga(t,e){return[t,e]}Ga.invert=Ga;function S_(){return Jn(Ga).scale(152.63)}function k_(t,e){var n=dt(t),r=t===e?ct(t):(n-dt(e))/(e-t),i=n/r+t;if(Tt(r)<lt)return Ga;function o(s,f){var c=i-f,l=r*s;return[c*ct(l),i-c*dt(l)]}return o.invert=function(s,f){var c=i-f,l=Rn(s,Tt(c))*ze(c);return c*r<0&&(l-=ht*ze(s)*ze(c)),[l/r,i-ze(r)*Se(s*s+c*c)]},o}function M_(){return Zf(k_).scale(131.154).center([0,13.9389])}var gi=1.340264,pi=-.081106,vi=893e-6,mi=.003796,Xa=Se(3)/2,T_=12;function g0(t,e){var n=Ue(Xa*ct(e)),r=n*n,i=r*r*r;return[t*dt(n)/(Xa*(gi+3*pi*r+i*(7*vi+9*mi*r))),n*(gi+pi*r+i*(vi+mi*r))]}g0.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,s,f,c;o<T_&&(f=n*(gi+pi*r+i*(vi+mi*r))-e,c=gi+3*pi*r+i*(7*vi+9*mi*r),n-=s=f/c,r=n*n,i=r*r*r,!(Tt(s)<zh));++o);return[Xa*t*(gi+3*pi*r+i*(7*vi+9*mi*r))/dt(n),Ue(ct(n)/Xa)]};function E_(){return Jn(g0).scale(177.158)}function p0(t,e){var n=dt(e),r=dt(t)*n;return[n*ct(t)/r,ct(e)/r]}p0.invert=Ki(Vr);function A_(){return Jn(p0).scale(144.049).clipAngle(60)}function v0(t,e){return[dt(e)*ct(t),ct(e)]}v0.invert=Ki(Ue);function N_(){return Jn(v0).scale(249.5).clipAngle(90+lt)}function m0(t,e){var n=dt(e),r=1+dt(t)*n;return[n*ct(t)/r,ct(e)/r]}m0.invert=Ki(function(t){return 2*Vr(t)});function C_(){return Jn(m0).scale(250).clipAngle(142)}function b0(t,e){return[Ia(Gf((qt+e)/2)),-t]}b0.invert=function(t,e){return[-e,2*Vr(qh(t))-qt]};function P_(){var t=h0(b0),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const F_=Hf({stream:t=>t}),L_=.618;function R_({projOptions:t,inset:e=2,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},s){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,l="frame";if(Ns(t)){let M;if({type:t,domain:c,inset:M,insetTop:n=M!==void 0?M:n,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:o=M!==void 0?M:o,clip:l=l,...f}=t,t==null)return}let u=L_;const h=t,{width:d,height:g,marginLeft:m,marginRight:y,marginTop:b,marginBottom:_}=s,k=d-m-y-o-r,A=g-b-_-n-i,p=h?.({width:k,height:A,clip:l,...f});if(p==null)return;l=D_(l,m,b,d-y,g-_);let S=m+o,w=b+n,x,E=M=>M;if(c!=null){const[[M,T],[C,R]]=i0(p).bounds(c),P=Math.min(k/(C-M),A/(R-T));if(u=(R-T)/(C-M),P>0)S-=(P*(M+C)-k)/2,w-=(P*(T+R)-A)/2,x=Xs({point(I,N){this.stream.point(I*P+S,N*P+w)}}),E=([I,N])=>[(I-S)/P,(N-w)/P];else throw new Error("Warning: the projection could not be fit to the specified domain; using the default scale.")}return x??=S===0&&w===0?F_():Xs({point(M,T){this.stream.point(M+S,T+w)}}),E??=([M,T])=>[M-S,T-w],{aspectRatio:u,invert([M,T]){return p.invert(E([M,T]))},stream:M=>p.stream(x.stream(l(M)))}}function D_(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Gh(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}const y0=1e3,_0=y0*60,x0=_0*60,Mo=x0*24,zn=Mo*7,I_=Mo*30,O_=Mo*365,Kf=new Map([["second",y0],["minute",_0],["hour",x0],["day",Mo],["monday",zn],["tuesday",zn],["wednesday",zn],["thursday",zn],["friday",zn],["saturday",zn],["sunday",zn],["week",zn],["month",I_],["year",O_]]),w0=new Map([["second",qn],["minute",ho],["hour",go],["day",Xr],["monday",Fi],["tuesday",Wd],["wednesday",Bd],["thursday",hr],["friday",Hd],["saturday",Gd],["sunday",zr],["week",zr],["month",po],["year",gn]]),S0=new Map([["second",qn],["minute",qd],["hour",jd],["day",Ud],["monday",Li],["tuesday",Xd],["wednesday",Vd],["thursday",gr],["friday",Zd],["saturday",Kd],["sunday",Na],["week",Na],["month",$d],["year",Zn]]),$f=Symbol("intervalDuration"),Qf=Symbol("intervalType");for(const[t,e]of w0)e[$f]=Kf.get(t),e[Qf]="time";for(const[t,e]of S0)e[$f]=Kf.get(t),e[Qf]="utc";function Y_(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(\d+)\s+/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=S0.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function z_(t){return q_(Y_(t),"time")}function q_([t,e],n){let r=w0.get(t);return e>1&&(r=r.every(e),r[$f]=Kf.get(t)*e,r[Qf]=n),r}function Jf(t){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,round:n=>Math.round(n*e)/e,offset:n=>(n*e+1)/e,range:(n,r)=>Pn(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,round:n=>Math.round(n/e)*e,offset:n=>n+e,range:(n,r)=>Pn(Math.ceil(n/e),r/e).map(i=>i*e)}}if(typeof t=="string")return z_(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function To(t,e,n,r,i,o){if(e)return e;if(n){const[s,f]=Vn(r),c=Jf(n);return c.range(s,c.offset(f)).filter(l=>l>=s&&l<=f)}return typeof i.ticks=="function"?i.ticks(o):[]}const me=Symbol("sortKey"),k0=Symbol("isSorted");function Eo({data:t,...e},n={}){if(!Array.isArray(t))return{data:t,...e};if(e.sort){const{sort:r}=e;return Ve(r)&&typeof r.channel=="string"&&r.channel.charAt(0)==="-"&&(r.channel=r.channel.substring(1),r.order="descending"),{data:typeof e.sort=="function"&&e.sort.length!==1?t.toSorted(e.sort):t.map(o=>({...o,[me]:Ut("sort",o,{...e,sort:r})})).map(o=>({...o,[me]:typeof o[me]=="number"&&!Number.isFinite(o[me])?Number.POSITIVE_INFINITY:o[me]})).toSorted((o,s)=>(typeof o[me]=="string"&&typeof s[me]=="string"?o[me].localeCompare(s[me]):o[me]>s[me]?1:o[me]<s[me]?-1:0)*(n.reverse||Ve(r)&&r?.order==="descending"?-1:1)).map(({[me]:o,...s})=>s),...e,[k0]:r,sort:null}}return{data:t,...e}}function Il(t,e,n,r,i,o){const s=mn("x",t.x,i,t,e,n,r,o),f=mn("y",t.y,i,t,e,n,r,o),c=mn("r",t.r,i,t,e,n,r,o),l=mn("color",t.color,i,t,e,n,r,o),u=mn("opacity",t.opacity,i,t,e,n,r,o),h=mn("length",t.length,i,t,e,n,r,o),d=mn("symbol",t.symbol,i,t,e,n,r,o),g=mn("fx",t.fx,i,t,e,n,r,o),m=mn("fy",t.fy,i,t,e,n,r,o),y=t.projection?R_({projOptions:t.projection,inset:t.inset},{width:e,height:n,marginBottom:t.marginBottom,marginLeft:t.marginLeft,marginRight:t.marginRight,marginTop:t.marginTop}):null;return{x:s,y:f,r:c,color:l,opacity:u,length:h,symbol:d,fx:g,fy:m,projection:y}}function mn(t,e,n,r,i,o,s,f){if(!r.implicitScales&&!e.scale){const x=t==="color"?()=>"currentColor":()=>0;return x.range=t==="color"?()=>["currentColor"]:()=>[0],{type:"linear",domain:[0],range:[0],fn:x,skip:new Map,isDummy:!0}}const c=new Set,l=[],u=new Set,h=new Map;let d=0;const g=new Set,m=new Set;let y=r.sortOrdinalDomains??!0;for(const x of n){(t==="x"||t==="y")&&x.options[k0]!=null&&(y=!1);for(const E of x.channels)if(h.has(E)||h.set(E,new Set),x.data.length>0){const M=Ve(x.options[E])?x.options[E]:{value:x.options[E],scale:_e[E]};if(M.scale===t&&(r.implicitScales||e.scale)&&typeof M.value<"u")if(t==="opacity"&&G_(M.value))h.get(E).add(x.id);else{const C=t==="color"?Ey:t==="symbol"?Ty:!1;let R=!!C&&x.data.length>0;if(C)for(const P of x.data){const I=nt(M.value,P);if(R=R&&I!==null&&C(I),!R)break}if(R&&h.get(E).add(x.id),typeof M.value=="string"&&!M0(M.value)&&!M.value.startsWith("__")&&x.data[0][M.value]!==void 0&&g.add(M.value),m.add(M.value),M.value!=null&&!R){d++,u.add(x.type);for(const P of x.data){const I=nt(M.value,P);c.add(I),(t==="color"&&e.type==="quantile"||e.type==="quantile-cont")&&l.push(I)}}}(t==="x"||t==="y")&&x.options[di[t]]&&!x.options[di[t]].startsWith("__")&&g.add(x.options[di[t]])}}(t==="x"||t==="y")&&e.sort&&(y=!0),(t==="x"||t==="y")&&e.sort===!1&&(y=!1);const b=[...c.values(),...e.domain||[]].filter(x=>x!=null),_=e.type==="auto"?U_(t,b,u,e):e.type;if(Go[t]&&!Go[t].has(_))throw new Error(`Invalid scale type ${_} for scale
            ${t}. Valid types are ${[...Go[t]].join(", ")}`);const k=Zs(_);k&&y&&b.sort(Cn);const A=_==="quantile"||_==="quantile-cont"?l.toSorted():b;let p=e.domain?k?e.domain:Vn(e.zero?[0,...e.domain]:e.domain):_==="band"||_==="point"||_==="ordinal"||_==="categorical"||_==="quantile"||_==="quantile-cont"?t==="y"?A.toReversed():A:Vn(e.zero?[0,...A]:A);if(e.interval&&(k?p=j_(p,e.interval,t):u.size>0&&console.error("Setting interval via axis options is only supported for ordinal scales")),!e.scale)throw new Error(`No scale function defined for ${t}`);const S=e.scale({name:t,type:_,domain:p,scaleOptions:e,plotOptions:r,plotWidth:i,plotHeight:o,plotHasFilledDotMarks:s,plotDefaults:f}),w=S.range();return{type:_,domain:p,range:w,fn:S,skip:h,manualActiveMarks:d,uniqueScaleProps:m,autoTitle:_==="time"?null:g.size===1?`${[...g.values()][0]}${_==="log"?" (log)":""}`:null}}function j_(t,e,n){const r=Jf(e),[i,o]=Vn(t),s=r.range(i,r.offset(o));return n==="y"?s.toReversed():s}const Ol={x:new Set(["barY","cell","tickY","waffleY"]),y:new Set(["barX","cell","tickX","waffleX"])};function U_(t,e,n,r={}){if(t==="color")return e.length?e.every(My)||e.every(dl)?"linear":(e.every(hl),"categorical"):"ordinal";if(t==="symbol")return"ordinal";if(t==="x"||t==="y"){if(r.nice||r.zero)return"linear";if(r.domain&&r.domain.length===2){if(r.domain.every(Number.isFinite))return"linear";if(r.domain.every(Vi))return"time"}}return t==="y"&&Array.from(n).some(i=>Ol.y.has(i))||t==="x"&&Array.from(n).some(i=>Ol.x.has(i))?"band":e.length?e.length===1?"point":e.every(ky)?t==="r"?"sqrt":"linear":e.every(dl)?"time":e.every(hl)?"point":"linear":"linear"}const W_=["x","x1","x2","y","y1","y2","r","opacity","fill","fillOpacity","stroke","strokeOpacity","symbol","length"];function B_(t,e,n){return Object.fromEntries(W_.map(r=>{const i=_e[r],o=t.scales[i].skip.get(r)||new Set;return[r,!o.has(n.id)&&Dh(r,e[r]).scale!==null&&!t.scales[i].isDummy]}))}function M0(t){return Number.isFinite(t)||typeof t=="string"&&t.trim().length>0&&Number.isFinite(+t)}function H_(t,e,n){return Number.isFinite(t)&&t>=e&&t<=n}function G_(t){return M0(t)&&H_(+t,0,1)}function tc(t,e,n,r=!0,i=!0){if(t.projection){let o,s;return t.projection.stream({point(c,l){o=c,s=l}}).point(e,n),[o,s]}return[r?T0("x",t,e):e,i?E0("y",t,n):n]}function T0(t,e,n){return e.x.fn(n)+(t==="x"&&e.x.type==="band"?e.x.fn.bandwidth()*.5:t==="x2"&&e.x.type==="band"?e.x.fn.bandwidth():0)}function E0(t,e,n){return e.y.fn(n)+(t==="y"&&e.y.type==="band"?e.y.fn.bandwidth()*.5:t==="y2"&&e.y.type==="band"?e.y.fn.bandwidth():0)}function Zs(t){return t==="band"||t==="point"||t==="ordinal"||t==="categorical"||t==="threshold"}const Ks=Symbol("svelteplot/defaults");function X_(t){const n={...Wt(),...t};ma(Ks,n)}function Wt(){return lc(Ks)?Et(Ks):lc("svelteplot/defaults")?(console.error("svelteplot: Please use new setPlotDefaults hook instead of 'svelteplot/defaults' context"),Et("svelteplot/defaults")):{}}var V_=kt('<div class="plot-header svelte-c5n3b4"><!></div>'),Z_=kt('<div class="plot-underlay svelte-c5n3b4"><!></div>'),K_=kt('<div class="plot-overlay svelte-c5n3b4"><!></div>'),$_=kt('<figcaption class="plot-footer svelte-c5n3b4"><!></figcaption>'),Q_=kt('<figure><!> <div class="plot-body svelte-c5n3b4"><!> <svg fill="currentColor"><!><!></svg> <!></div> <!></figure>');function J_(t,e){pt(e,!0);const n=()=>Ge(c,"$autoMarginLeft",s),r=()=>Ge(l,"$autoMarginRight",s),i=()=>Ge(u,"$autoMarginBottom",s),o=()=>Ge(h,"$autoMarginTop",s),[s,f]=bf();let c=Ji(new ea),l=Ji(new ea),u=Ji(new ea),h=Ji(new ea);ma("svelteplot/autoMargins",{autoMarginLeft:c,autoMarginRight:l,autoMarginBottom:u,autoMarginTop:h});const d=v(()=>Math.max(...n().values())),g=v(()=>Math.max(...r().values())),m=v(()=>Math.max(...i().values())),y=v(()=>Math.max(...o().values())),b=Wt(),_={height:350,initialWidth:500,inset:0,margin:"auto",colorScheme:"turbo",unknown:"#cccccc99",sortOrdinalDomains:!0,categoricalColorScheme:"observable10",pointScaleHeight:20,bandScaleHeight:30,locale:"en-US",numberFormat:{style:"decimal",useGrouping:"min2",compactDisplay:"short"},markerDotRadius:3,...b,axisX:{anchor:"bottom",implicit:!0,...b.axis,...b.axisX},axisY:{anchor:"left",implicit:!0,...b.axis,...b.axisY},gridX:{implicit:!1,...b.grid,...b.gridX},gridY:{implicit:!1,...b.grid,...b.gridY}};let k=Vt(e,"class",3,""),A=Vt(e,"css",19,()=>_.css),p=le(e,["$$slots","$$events","$$legacy","header","footer","overlay","underlay","children","facetAxes","testid","facet","class","css","width"]),S=wt(Ae(_.initialWidth));X_(_);let w=wt([]);const x=v(()=>a(w).filter(X=>!X.options.automatic)),E=v(()=>!!a(x).find(X=>X.type==="axisX")),M=v(()=>!!a(x).find(X=>X.type==="axisY")),T=v(()=>!!a(x).find(X=>X.type==="gridX")),C=v(()=>!!a(x).find(X=>X.type==="gridY")),R=v(()=>new Set(a(x).map(X=>[...X.scales.values()].filter(ft=>Object.entries(_e).filter(([,$t])=>ft===$t).map(([$t])=>$t).find($t=>X.options[$t]!=null))).flat(1))),P=v(()=>new Set(pb.filter(X=>!!p[X]?.domain))),I=v(()=>a(R).has("x")!==a(R).has("y")),N=v(()=>mt(p,{explicitScales:a(R),explicitDomains:a(P),hasProjection:!!e.projection,margin:e.margin,inset:e.inset})),L=v(()=>!!a(x).find(X=>X.type==="dot"&&X.options.fill)),z=v(()=>Il(a(N),a(S),400,a(L),a(w),_)),W=v(()=>!!a(z).projection),j=v(()=>(e.width||a(S))-a(N).marginLeft-a(N).marginRight),H=v(()=>Math.max(1,a(z).fx.domain.length)),O=v(()=>Math.max(1,a(z).fy.domain.length)),Y=v(()=>a(I)&&a(R).has("x")?1:a(z).y.domain.length),G=v(()=>a(R).has("r")&&a(N).r.range?a(N).r.range[1]*2:_.pointScaleHeight),Q=v(()=>typeof a(N).height=="function"?a(N).height(a(j)):hi(a(N).height)===null||a(N).height==="auto"?Math.round(a(z).projection&&a(z).projection.aspectRatio?a(j)*a(z).projection.aspectRatio/a(H)*a(O)+a(N).marginTop+a(N).marginBottom:a(N).aspectRatio?D(a(z).x,a(z).y,a(N).aspectRatio,a(j),a(N).marginTop,a(N).marginBottom):(a(I)&&a(R).has("x")||!a(x).length?a(O)*_.bandScaleHeight:a(z).y.type==="band"?a(O)*a(Y)*_.bandScaleHeight:a(z).y.type==="point"?a(O)*a(Y)*a(G):_.height)+a(N).marginTop+a(N).marginBottom):hi(a(N).height)),J=v(()=>a(Q)-a(N).marginTop-a(N).marginBottom);let K=wt(null),ot=wt(null),Ft=wt(null),q=wt(Ae(B()));ae(()=>{gt(q,B(),!0)});function B(){const X=Il(a(N),a(ot)||a(S),a(Ft)||a(Q),a(L),a(w),_),ft=X.color.uniqueScaleProps?.size===1&&X.symbol.uniqueScaleProps?.size===1&&[...X.color.uniqueScaleProps?.values()][0]===[...X.symbol.uniqueScaleProps?.values()][0];return{options:a(N),width:a(S),height:a(Q),facetWidth:a(ot),facetHeight:a(Ft),plotHeight:a(J),plotWidth:a(j),scales:X,colorSymbolRedundant:ft,hasFilledDotMarks:a(L),body:a(K),css:A()}}ma("svelteplot",{addMark(X){a(w).find(ft=>ft.id===X.id)||gt(w,[...a(w),X])},updateMark(X){},removeMark(X){gt(w,a(w).filter(ft=>ft.id!==X.id))},getPlotState(){return a(q)},getTopLevelFacet(){return e.facet},updateDimensions(X,ft){a(ot)!==X&&gt(ot,X,!0),a(Ft)!==ft&&gt(Ft,ft,!0)},updatePlotState(){gt(q,B(),!0)}});function tt(){return a(S)}function D(X,ft,Nt,$t,We,$e){const Sr=X.type==="band"||X.type==="point"?X.domain.length:Math.abs(X.domain[1]-X.domain[0]),Kr=ft.type==="band"||ft.type==="point"?ft.domain.length:Math.abs(ft.domain[1]-ft.domain[0]);return $t/Sr*Kr/Nt+We+$e}function mt(X,ft){return Fs({},{sortOrdinalDomains:_.sortOrdinalDomains},At(ft),p)}function st(X,ft,Nt,$t){const We=typeof X=="object"&&X[ft]!=null?X[ft]:typeof X=="number"||X==="auto"?X:typeof Nt=="object"&&Nt[ft]!=null?Nt[ft]:typeof Nt=="number"||Nt==="auto"?Nt:"auto";return We==="auto"?$t[ft]:We}function At({explicitScales:X,explicitDomains:ft,hasProjection:Nt,margin:$t}){const We=X.has("x")||ft.has("x"),$e=X.has("y")||ft.has("y"),Sr=We!==$e,Kr=We&&!$e,ng=$e&&!We,$i={left:Nt?0:Math.max(a(d)+1,1),right:Nt||ng?0:Math.max(a(g)+1,4),top:Nt||Kr?0:Math.max(5,a(y)),bottom:Nt?0:Math.max(5,a(m))};return{title:"",subtitle:"",caption:"",height:"auto",marginLeft:st($t,"left",_.margin,$i),marginRight:st($t,"right",_.margin,$i),marginTop:st($t,"top",_.margin,$i),marginBottom:st($t,"bottom",_.margin,$i),inset:Sr?10:_.inset,grid:(_.gridX?.implicit??!1)&&(_.gridY?.implicit??!1),axes:(_.axisX?.implicit??!1)&&(_.axisY?.implicit??!1),frame:_.frame?.implicit??!1,projection:null,aspectRatio:null,facet:{},padding:.1,x:{type:"auto",axis:_.axisX.implicit&&We?_.axisX.anchor:!1,labelAnchor:"auto",reverse:!1,clamp:!1,nice:!1,zero:!1,round:!1,percent:!1,align:.5,tickSpacing:_.axisX.tickSpacing??80,tickFormat:"auto",grid:_.gridX.implicit??!1},y:{type:"auto",axis:_.axisY.implicit&&$e?_.axisY.anchor:!1,labelAnchor:"auto",reverse:!1,clamp:!1,nice:!1,zero:!1,round:!1,percent:!1,align:.5,tickSpacing:_.axisY.tickSpacing??50,tickFormat:"auto",grid:_.gridY.implicit??!1},opacity:{type:"linear",reverse:!1,clamp:!1,nice:!1,zero:!1,round:!1,tickSpacing:0,percent:!1,padding:.1,align:.5},r:{type:"sqrt",reverse:!1,clamp:!1,nice:!1,zero:!0,percent:!1,round:!1,padding:0,align:0},color:{type:"auto",unknown:_.unknown},length:{type:"linear"},symbol:{type:"ordinal"},fx:{type:"band",axis:"top"},fy:{type:"band",axis:"right"},locale:_.locale,css:_.css}}const Mt=v(()=>(X,ft)=>{const[Nt,$t]=tc(a(q).scales,X,ft);return{x:Nt,y:$t}});var _t={getWidth:tt},xt=Q_();let Dt;var Fe=et(xt);{var tr=X=>{var ft=V_(),Nt=et(ft);Gt(Nt,()=>e.header??Ht),F(X,ft)};V(Fe,X=>{e.header&&X(tr)})}var Po=$(Fe,2),ic=et(Po);{var Z1=X=>{var ft=Z_(),Nt=et(ft);Gt(Nt,()=>e.underlay,()=>a(N)),F(X,ft)};V(ic,X=>{e.underlay&&X(Z1)})}var Zr=$(ic,2),ac=et(Zr);Gt(ac,()=>e.facetAxes??Ht);var K1=$(ac);qy(K1,{get marks(){return a(x)},children:(X,ft)=>{var Nt=at(),$t=Z(Nt);{var We=$e=>{var Sr=at(),Kr=Z(Sr);Gt(Kr,()=>e.children,()=>({width:a(S),height:a(Q),options:a(N),scales:a(q).scales,mapXY:a(Mt),hasProjection:a(W),hasExplicitAxisX:a(E),hasExplicitAxisY:a(M),hasExplicitGridX:a(T),hasExplicitGridY:a(C)})),F($e,Sr)};V($t,$e=>{e.children&&$e(We)})}F(X,Nt)},$$slots:{default:!0}});var $1=$(Zr,2);{var Q1=X=>{var ft=K_(),Nt=et(ft);Gt(Nt,()=>e.overlay??Ht,()=>({width:a(S),height:a(Q),options:a(N),scales:a(q).scales,mapXY:a(Mt),hasProjection:a(W),hasExplicitAxisX:a(E),hasExplicitAxisY:a(M),hasExplicitGridX:a(T),hasExplicitGridY:a(C)})),F(X,ft)};V($1,X=>{e.overlay&&X(Q1)})}oo(Po,X=>gt(K,X),()=>a(K));var J1=$(Po,2);{var tg=X=>{var ft=$_(),Nt=et(ft);Gt(Nt,()=>e.footer??Ht),F(X,ft)};V(J1,X=>{e.footer&&X(tg)})}it(()=>{Ot(xt,1,`svelteplot ${k()??""}`,"svelte-c5n3b4"),U(xt,"data-testid",e.testid),Dt=Lt(xt,"",Dt,{"max-width":a(N).maxWidth}),U(Zr,"width",e.width||a(S)),U(Zr,"height",a(Q)),U(Zr,"viewBox",`0 0 ${a(S)??""} ${a(Q)??""}`)}),vs(xt,"clientWidth",X=>gt(S,X)),F(t,xt);var eg=vt(_t);return f(),eg}function t2(){}function Yl(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function zl(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const e2="[object RegExp]",n2="[object String]",r2="[object Number]",i2="[object Boolean]",ql="[object Arguments]",a2="[object Symbol]",o2="[object Date]",s2="[object Map]",f2="[object Set]",c2="[object Array]",l2="[object Function]",u2="[object ArrayBuffer]",ns="[object Object]",d2="[object Error]",h2="[object DataView]",g2="[object Uint8Array]",p2="[object Uint8ClampedArray]",v2="[object Uint16Array]",m2="[object Uint32Array]",b2="[object BigUint64Array]",y2="[object Int8Array]",_2="[object Int16Array]",x2="[object Int32Array]",w2="[object BigInt64Array]",S2="[object Float32Array]",k2="[object Float64Array]";function $s(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function A0(t,e){const n={};for(let r=0;r<e.length;r++){const i=e[r];Object.hasOwn(t,i)&&(n[i]=t[i])}return n}function M2(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function T2(t,e,n){return ui(t,e,void 0,void 0,void 0,void 0,n)}function ui(t,e,n,r,i,o,s){const f=s(t,e,n,r,i,o);if(f!==void 0)return f;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return bi(t,e,o,s)}return bi(t,e,o,s)}function bi(t,e,n,r){if(Object.is(t,e))return!0;let i=zl(t),o=zl(e);if(i===ql&&(i=ns),o===ql&&(o=ns),i!==o)return!1;switch(i){case n2:return t.toString()===e.toString();case r2:{const c=t.valueOf(),l=e.valueOf();return M2(c,l)}case i2:case o2:case a2:return Object.is(t.valueOf(),e.valueOf());case e2:return t.source===e.source&&t.flags===e.flags;case l2:return t===e}n=n??new Map;const s=n.get(t),f=n.get(e);if(s!=null&&f!=null)return s===e;n.set(t,e),n.set(e,t);try{switch(i){case s2:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!ui(l,e.get(c),c,t,e,n,r))return!1;return!0}case f2:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const h=c[u],d=l.findIndex(g=>ui(h,g,void 0,t,e,n,r));if(d===-1)return!1;l.splice(d,1)}return!0}case c2:case g2:case p2:case v2:case m2:case b2:case y2:case _2:case x2:case w2:case S2:case k2:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!ui(t[c],e[c],c,t,e,n,r))return!1;return!0}case u2:return t.byteLength!==e.byteLength?!1:bi(new Uint8Array(t),new Uint8Array(e),n,r);case h2:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:bi(new Uint8Array(t),new Uint8Array(e),n,r);case d2:return t.name===e.name&&t.message===e.message;case ns:{if(!(bi(t.constructor,e.constructor,n,r)||$s(t)&&$s(e)))return!1;const l=[...Object.keys(t),...Yl(t)],u=[...Object.keys(e),...Yl(e)];if(l.length!==u.length)return!1;for(let h=0;h<l.length;h++){const d=l[h],g=t[d];if(!Object.hasOwn(e,d))return!1;const m=e[d];if(!ui(g,m,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function jl(t,e){return T2(t,e,t2)}const E2="__renamed__";function A2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rs,Ul;function N2(){if(Ul)return rs;Ul=1;function t(s,f,c,l,u){for(var h=u+1;l<=u;){var d=l+u>>>1,g=s[d],m=c!==void 0?c(g,f):g-f;m>=0?(h=d,u=d-1):l=d+1}return h}function e(s,f,c,l,u){for(var h=u+1;l<=u;){var d=l+u>>>1,g=s[d],m=c!==void 0?c(g,f):g-f;m>0?(h=d,u=d-1):l=d+1}return h}function n(s,f,c,l,u){for(var h=l-1;l<=u;){var d=l+u>>>1,g=s[d],m=c!==void 0?c(g,f):g-f;m<0?(h=d,l=d+1):u=d-1}return h}function r(s,f,c,l,u){for(var h=l-1;l<=u;){var d=l+u>>>1,g=s[d],m=c!==void 0?c(g,f):g-f;m<=0?(h=d,l=d+1):u=d-1}return h}function i(s,f,c,l,u){for(;l<=u;){var h=l+u>>>1,d=s[h],g=c!==void 0?c(d,f):d-f;if(g===0)return h;g<=0?l=h+1:u=h-1}return-1}function o(s,f,c,l,u,h){return typeof c=="function"?h(s,f,c,l===void 0?0:l|0,u===void 0?s.length-1:u|0):h(s,f,void 0,c===void 0?0:c|0,l===void 0?s.length-1:l|0)}return rs={ge:function(s,f,c,l,u){return o(s,f,c,l,u,t)},gt:function(s,f,c,l,u){return o(s,f,c,l,u,e)},lt:function(s,f,c,l,u){return o(s,f,c,l,u,n)},le:function(s,f,c,l,u){return o(s,f,c,l,u,r)},eq:function(s,f,c,l,u){return o(s,f,c,l,u,i)}},rs}var is,Wl;function C2(){if(Wl)return is;Wl=1;var t=N2(),e=0,n=1,r=2;is=A;function i(p,S,w,x,E){this.mid=p,this.left=S,this.right=w,this.leftPoints=x,this.rightPoints=E,this.count=(S?S.count:0)+(w?w.count:0)+x.length}var o=i.prototype;function s(p,S){p.mid=S.mid,p.left=S.left,p.right=S.right,p.leftPoints=S.leftPoints,p.rightPoints=S.rightPoints,p.count=S.count}function f(p,S){var w=b(S);p.mid=w.mid,p.left=w.left,p.right=w.right,p.leftPoints=w.leftPoints,p.rightPoints=w.rightPoints,p.count=w.count}function c(p,S){var w=p.intervals([]);w.push(S),f(p,w)}function l(p,S){var w=p.intervals([]),x=w.indexOf(S);return x<0?e:(w.splice(x,1),f(p,w),n)}o.intervals=function(p){return p.push.apply(p,this.leftPoints),this.left&&this.left.intervals(p),this.right&&this.right.intervals(p),p},o.insert=function(p){var S=this.count-this.leftPoints.length;if(this.count+=1,p[1]<this.mid)this.left?4*(this.left.count+1)>3*(S+1)?c(this,p):this.left.insert(p):this.left=b([p]);else if(p[0]>this.mid)this.right?4*(this.right.count+1)>3*(S+1)?c(this,p):this.right.insert(p):this.right=b([p]);else{var w=t.ge(this.leftPoints,p,m),x=t.ge(this.rightPoints,p,y);this.leftPoints.splice(w,0,p),this.rightPoints.splice(x,0,p)}},o.remove=function(p){var S=this.count-this.leftPoints;if(p[1]<this.mid){if(!this.left)return e;var w=this.right?this.right.count:0;if(4*w>3*(S-1))return l(this,p);var x=this.left.remove(p);return x===r?(this.left=null,this.count-=1,n):(x===n&&(this.count-=1),x)}else if(p[0]>this.mid){if(!this.right)return e;var E=this.left?this.left.count:0;if(4*E>3*(S-1))return l(this,p);var x=this.right.remove(p);return x===r?(this.right=null,this.count-=1,n):(x===n&&(this.count-=1),x)}else{if(this.count===1)return this.leftPoints[0]===p?r:e;if(this.leftPoints.length===1&&this.leftPoints[0]===p){if(this.left&&this.right){for(var M=this,T=this.left;T.right;)M=T,T=T.right;if(M===this)T.right=this.right;else{var C=this.left,x=this.right;M.count-=T.count,M.right=T.left,T.left=C,T.right=x}s(this,T),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?s(this,this.left):s(this,this.right);return n}for(var C=t.ge(this.leftPoints,p,m);C<this.leftPoints.length&&this.leftPoints[C][0]===p[0];++C)if(this.leftPoints[C]===p){this.count-=1,this.leftPoints.splice(C,1);for(var x=t.ge(this.rightPoints,p,y);x<this.rightPoints.length&&this.rightPoints[x][1]===p[1];++x)if(this.rightPoints[x]===p)return this.rightPoints.splice(x,1),n}return e}};function u(p,S,w){for(var x=0;x<p.length&&p[x][0]<=S;++x){var E=w(p[x]);if(E)return E}}function h(p,S,w){for(var x=p.length-1;x>=0&&p[x][1]>=S;--x){var E=w(p[x]);if(E)return E}}function d(p,S){for(var w=0;w<p.length;++w){var x=S(p[w]);if(x)return x}}o.queryPoint=function(p,S){if(p<this.mid){if(this.left){var w=this.left.queryPoint(p,S);if(w)return w}return u(this.leftPoints,p,S)}else if(p>this.mid){if(this.right){var w=this.right.queryPoint(p,S);if(w)return w}return h(this.rightPoints,p,S)}else return d(this.leftPoints,S)},o.queryInterval=function(p,S,w){if(p<this.mid&&this.left){var x=this.left.queryInterval(p,S,w);if(x)return x}if(S>this.mid&&this.right){var x=this.right.queryInterval(p,S,w);if(x)return x}return S<this.mid?u(this.leftPoints,S,w):p>this.mid?h(this.rightPoints,p,w):d(this.leftPoints,w)};function g(p,S){return p-S}function m(p,S){var w=p[0]-S[0];return w||p[1]-S[1]}function y(p,S){var w=p[1]-S[1];return w||p[0]-S[0]}function b(p){if(p.length===0)return null;for(var S=[],w=0;w<p.length;++w)S.push(p[w][0],p[w][1]);S.sort(g);for(var x=S[S.length>>1],E=[],M=[],T=[],w=0;w<p.length;++w){var C=p[w];C[1]<x?E.push(C):x<C[0]?M.push(C):T.push(C)}var R=T,P=T.slice();return R.sort(m),P.sort(y),new i(x,b(E),b(M),R,P)}function _(p){this.root=p}var k=_.prototype;k.insert=function(p){this.root?this.root.insert(p):this.root=new i(p[0],null,null,[p],[p])},k.remove=function(p){if(this.root){var S=this.root.remove(p);return S===r&&(this.root=null),S!==e}return!1},k.queryPoint=function(p,S){if(this.root)return this.root.queryPoint(p,S)},k.queryInterval=function(p,S,w){if(p<=S&&this.root)return this.root.queryInterval(p,S,w)},Object.defineProperty(k,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(k,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function A(p){return!p||p.length===0?new _(null):new _(b(p))}return is}var P2=C2();const F2=A2(P2);function N0(t,e,n){const r=["fx","fy","z"].map(o=>{const s=o==="z"?e.z?"z":e.fill?"fill":e.stroke?"stroke":!1:e[o]?o:!1;if(s){const f=typeof e[s]=="string"?e[s]:`__group_${s}`;return[s,f,c=>Ut(s,c,e)]}else return[null,null,()=>!0]}),i=bs(t,...r.map(o=>o[2]));for(const[o,s]of i){const f={};r[0][0]!==null&&(f[r[0][1]]=o);for(const[c,l]of s){r[1][0]!==null&&(f[r[1][1]]=c);for(const[u,h]of l)r[2][0]!==null&&(f[r[2][1]]=u),n(h,f)}}return Object.fromEntries(r.filter(([o])=>o!==null).map(([o,s])=>[o,s]))}function L2(t,e){if(!t.dodgeX)return t.data;let{anchor:n="left",padding:r=1,r:i=t.dodgeX.r}=P0(t.dodgeX),o;switch(`${n}`.toLowerCase()){case"left":o=D2;break;case"right":o=I2;break;case"middle":o=O2;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return C0("x","y",o,Number(r),i,t,e)}function R2(t,e){if(!t.dodgeY)return t.data;let{anchor:n="bottom",padding:r=1,r:i=t.dodgeY.r}=P0(t.dodgeY),o;switch(`${n}`.toLowerCase()){case"top":o=Y2;break;case"bottom":o=z2;break;case"middle":o=q2;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return C0("y","x",o,Number(r),i,t,e)}function C0(t,e,n,r,i,{data:o,...s},f){const{fx:c,fy:l}=s;let[u,h]=n(f);const d=u?U2:j2,g=i!==void 0?i:3;return N0(o,{fx:c,fy:l},m=>{const y=F2(),b=m.filter(k=>(typeof k.r!="number"||k.r>=0)&&isFinite(k[e])&&isFinite(k[t])),_=new Float64Array(2*b.length+2);b.forEach((k,A)=>{const p=k.r??i??3,S=u?p+r:0,w=k[e]-p,x=k[e]+p;let E=2;y.queryInterval(w-r,x+r,([,,T])=>{const C=b[T][t]-S,R=k[e]-b[T][e],P=r+(s.r?k.r+b[T].r:2*g),I=Math.sqrt(P*P-R*R);_[E++]=C-I,_[E++]=C+I});let M=_.slice(0,E);u&&(M=M.filter(T=>T>=0));t:for(const T of M.sort(d)){for(let C=0;C<E;C+=2)if(_[C]+1e-6<T&&T<_[C+1]-1e-6)continue t;k[t]=T+S;break}y.insert([w,x,A])}),u||(u=1),b.forEach(k=>k[t]=k[t]*u+h)}),o}function P0(t){return typeof t=="string"?{anchor:t}:t}function D2({options:{marginLeft:t}}){return[1,t]}function I2({facetWidth:t,options:{marginLeft:e}}){return[-1,e+t]}function O2({facetWidth:t,options:{marginLeft:e}}){return[0,e+t/2]}function Y2({options:{marginTop:t}}){return[1,t]}function z2({facetHeight:t}){return[-1,t]}function q2({facetHeight:t,options:{marginTop:e,marginBottom:n}}){return[0,(e+t)/2]}function j2(t,e){return Math.abs(t)-Math.abs(e)}function U2(t,e){return t-e}var W2=rt('<tspan x="0"> </tspan>'),B2=rt('<text transform="translate(10,10)" class="svelte-1vdc81s"></text>');function vn(t,e){pt(e,!0);let n=Vt(e,"data",19,()=>[]),r=Vt(e,"channels",19,()=>[]),i=Vt(e,"required",19,()=>[]),o=Vt(e,"requiredScales",19,()=>({})),s=Vt(e,"defaults",19,()=>({})),f=le(e,["$$slots","$$events","$$legacy","data","children","type","channels","required","requiredScales","defaults"]);const c=v(()=>[...r(),"fx","fy"]),{addMark:l,removeMark:u,getTopLevelFacet:h,getPlotState:d}=Et("svelteplot"),g=v(d),m=v(h),{getFacetState:y}=Et("svelteplot/facet"),b=v(y),_=v(()=>a(b).left),k=v(()=>a(b).top);class A{id;type;#t=wt([]);get channels(){return a(this.#t)}set channels(Y){gt(this.#t,Y)}#e=wt(new Set);get scales(){return a(this.#e)}set scales(Y){gt(this.#e,Y)}#n=wt([]);get data(){return a(this.#n)}set data(Y){gt(this.#n,Y)}#r=wt({});get options(){return a(this.#r)}set options(Y){gt(this.#r,Y)}constructor(Y){this.id=Symbol(),this.type=Y}}const p=new A(e.type);ae(()=>()=>{u(p),x=!1});const S=v(()=>e.facet||"auto"),w=v(()=>({...f,__firstFacet:a(_)&&a(k),...a(m)&&a(m).data&&(a(S)==="auto"&&a(m).data===n()||a(S)==="include")?{fx:a(m).x,fy:a(m).y}:{}}));let x=!1;ae(()=>{const O=ge(()=>p.options);jl(O,a(w))||(p.options=a(w))}),ae(()=>{if(x)return;const O=ge(()=>a(c));p.channels=O,p.scales=new Set(O.filter(Y=>f[Y]!==0).map(Y=>_e[Y])),p.data=ge(()=>n()),p.options=ge(()=>a(w)),l(p),x=!0});const{getTestFacet:E}=Et("svelteplot/facet"),M=v(E),T=v(()=>n().map((O,Y)=>({...O,[zt]:Y})).flatMap((O,Y)=>{const G=f;if(!a(M)(O,G)||!pr(O,G))return[];const Q={datum:O,index:Y};for(const[J]of Object.entries(_e))if(f?.[J]!==void 0&&Q[J]===void 0&&(Q[J]=Ut(J,O,f),f[J]===zt)){const K=a(g).scales[_e[J]];(K.type==="band"||K.type==="point")&&(Q[J]=K.domain[Q[J]%K.domain.length])}return[Q]}));let C=[];ae(()=>{(R(n(),p.data)||R(a(T),C))&&(C=a(T),p.data=n())});function R(O,Y){if(O.length!==Y.length)return!0;for(let G=0;G<O.length;G++)for(const[Q]of Object.entries(_e))if(!jl(O[G][Q],Y[G][Q]))return!0;return!1}const P=v(()=>[...i().filter(O=>f[O]==null).map(O=>`missing channel value for ${p.type} mark: ${O}`),...Object.entries(o()).filter(([O,Y])=>!Y.includes(a(g).scales[O].type)).map(([O,Y])=>`scale type mismatch for ${O} (needs ${Y.join(" or ")})`)]);ae(()=>{for(const O of i())if(f[O]==null)throw new Error(`missing channel value: ${O}`)});const I=v(()=>B_(a(g),a(w),p)),N=v(()=>L(a(T).flatMap(O=>{const Y={datum:O.datum,resolved:O,index:O[zt],valid:!0};if(Y.dx=Number(nt(e.dx,Y.datum,0)),Y.dy=Number(nt(e.dy,Y.datum,0)),a(g).scales.projection&&p.type!=="geo"){for(const G of["","1","2"])if(f?.[`x${G}`]!==void 0&&f?.[`y${G}`]!==void 0){const[Q,J]=p.type==="line"?[O.x,O.y]:tc(a(g).scales,O.x,O.y,a(I).x,a(I).y);Y[`x${G}`]=Q,Y[`y${G}`]=J,Y.valid=Y.valid&&Me(O.x)&&Me(O.y)&&Me(Q)&&Me(J)}}for(const[G,Q]of Object.entries(_e))if(f?.[G]!=null&&Y[G]===void 0){const J=O[G],K=f?.[E2]?.[G]||G,ot=a(I)[G]?Q==="x"?T0(K,a(g).scales,J):Q==="y"?E0(K,a(g).scales,J):Q==="color"&&!Me(J)?a(g).options.color.unknown:a(g).scales[Q].fn(J):J;Y.valid=Y.valid&&(Q==="color"||Me(J)),Y[G]=Number.isFinite(ot)&&(Q==="x"||Q==="y")?ot+(Q==="x"?Y.dx:Y.dy):ot}else s()[G]&&(Y[G]=s()[G]);return[Y]}),f));function L(O,Y){return Y.dodgeX?L2({data:O,...Y},a(g)):Y.dodgeY?R2({data:O,...Y},a(g)):O}var z=at(),W=Z(z);{var j=O=>{var Y=B2();jt(Y,21,()=>a(P),ce,(G,Q,J)=>{var K=W2();U(K,"dy",J?14:0);var ot=et(K);it(()=>Xt(ot,a(Q))),F(G,K)}),F(O,Y)},H=O=>{var Y=at(),G=Z(Y);{var Q=J=>{var K=at(),ot=Z(K);Gt(ot,()=>e.children,()=>({mark:p,usedScales:a(I),scaledData:a(N)})),F(J,K)};V(G,J=>{e.children&&J(Q)},!0)}F(O,Y)};V(W,O=>{a(P).length?O(j):O(H,!1)})}F(t,z),vt()}function H2(t){const e=[];if(!t.length)return t;for(let r=0;r<t.length;r++)e.push({...t[r],text:[]});const n=Math.max(...t.map(r=>r.text.length));for(let r=0;r<n;r++){const i=t.length>1&&t.every(o=>t[0].text[r]===o.text[r]);for(let o=0;o<t.length;o++)!i&&t[o].text[r]!=null&&e[o].text.push(t[o].text[r])}return e}const la={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function G2(t,e={}){let{minCharactersPerLine:n,minLineWidth:r,maxCharactersPerLine:i,maxLineWidth:o,fontSize:s,monospace:f}={fontSize:12,maxCharactersPerLine:10,...e};const c=[],l=t.split(" ");if(l.forEach((m,y)=>{const b=m.split("-"),_=y<l.length-1?" ":"";b.length>1?b.forEach((k,A)=>{const p=A<b.length-1?"-":_;c.push(k+p)}):c.push(m+_)}),o||(o=i*la.a),!r){const m=c.map(k=>k.length).sort((k,A)=>k-A),y=Math.round(c.length/2),b=m[y]??i;r=(n||Math.max(3,Math.min(i*.5,.75*b)))*la.a}const u=[],h=[];let d=0;const g=m=>s/12*(f?la.a:la[m]);return c.forEach(m=>{const y=md(m.split("").map(g));d+y>o&&d>r&&(u.push(h.join("")),h.length=0,d=0),d+=y,h.push(m)}),h.length>0&&u.push(h.join("")),u.filter(m=>m!=="")}var X2=rt("<line></line>"),V2=rt('<tspan x="0"> </tspan>'),Z2=rt("<text><!></text>"),K2=rt("<g><!><!></g>"),$2=rt('<g class="axis-x"></g>');function F0(t,e){pt(e,!0);const n=()=>Ge(k,"$autoMarginLeft",s),r=()=>Ge(A,"$autoMarginRight",s),i=()=>Ge(b,"$autoMarginTop",s),o=()=>Ge(_,"$autoMarginBottom",s),[s,f]=bf();let c=Vt(e,"text",3,!0);const l=v(()=>e.scaleType==="band"),u=v(()=>a(l)?e.scaleFn.bandwidth():0);function h(x){return Array.isArray(x)?x:typeof x=="string"&&a(l)&&e.options.wordwrap!==!1?G2(x,{maxLineWidth:a(u)*.9,minCharactersPerLine:4,fontSize:+nt(e.tickFontSize,{},11),monospace:!1}):[x]}let d=v(()=>e.plot.options.x.tickRotate||0),g=v(()=>e.anchor==="bottom"?e.marginTop+e.height:e.marginTop),m=v(()=>e.scaleType!=="point"&&e.scaleType!=="band");const y=Bf(),{autoMarginTop:b,autoMarginBottom:_,autoMarginLeft:k,autoMarginRight:A}=Et("svelteplot/autoMargins");let p=Ae([]);const S=v(()=>{let x=H2(e.ticks.map((M,T)=>{const C={[Rt]:M,[zt]:T};return{...C,hidden:!1,dx:+nt(e.options.dx,C,0),dy:+nt(e.options.dy,C,0),x:e.scaleFn(M)+(e.scaleType==="band"?e.scaleFn.bandwidth()*.5:0),text:h(e.tickFormat(M,T,e.ticks)),element:null}}));const E=x.length;if(c())for(let M=0;M<E;M++){let T=M;do T--;while(T>=0&&x[T].hidden);if(T>=0){const C=Math.abs(x[M].x-x[T].x);x[M].hidden=C<15}}return x});ae(()=>{ge(()=>n()),ge(()=>r()),n().set(y,5),r().set(y,10)}),ae(()=>{if(ge(()=>[i(),o()]),!c())return;const x=e.anchor==="top"?"end":"start",E=Math.ceil(Ei(a(S).map((M,T)=>nt(e.options.anchor,M,x)!==x||M.hidden||!pr(M,e.options)?0:p[T]?p[T].getBoundingClientRect().height:0)))+Math.max(0,e.tickPadding+e.tickSize)+(e.title?15:0);isNaN(E)||(e.anchor==="top"&&i().get(y)!==E?i().set(y,E):e.anchor==="bottom"&&o().get(y)!==E&&o().set(y,E))}),ae(()=>()=>{o().has(y)&&o().delete(y),i().has(y)&&i().delete(y),n().has(y)&&n().delete(y),r().has(y)&&r().delete(y)});var w=$2();jt(w,23,()=>a(S),x=>x[Rt],(x,E,M)=>{var T=at(),C=Z(T);{var R=P=>{const I=v(()=>nt(e.tickClass,a(E))),N=v(()=>+nt(e.tickFontSize,a(E),10));var L=K2(),z=et(L);{var W=O=>{const Y=v(()=>{const[Q,J]=Ce(e.plot,{datum:a(E)},e.options,"stroke",{x:!0},!0);return{tickLineStyle:Q,tickLineClass:J}});var G=X2();it(()=>{Lt(G,a(Y).tickLineStyle),Ot(G,0,Jt(a(Y).tickLineClass),"svelte-1yg4edo"),U(G,"y2",e.anchor==="bottom"?e.tickSize:-e.tickSize)}),F(O,G)};V(z,O=>{e.tickSize&&O(W)})}var j=$(z);{var H=O=>{const Y=v(()=>a(E).text),G=v(()=>a(M)&&a(S)[a(M)-1].text),Q=v(()=>(e.tickSize+e.tickPadding+(a(d)!==0?a(N)*.35:0))*(e.anchor==="bottom"?1:-1)),J=v(()=>{const[q,B]=Ce(e.plot,{datum:a(E)},{fontVariant:a(m)?"tabular-nums":"normal",...e.options,textAnchor:e.options.textAnchor==="auto"?a(d)<0?"end":a(d)>0?"start":"middle":e.options.textAnchor,fontSize:a(N),stroke:null},"fill",{x:!0},!0);return{textStyle:q,textClass:B}});var K=Z2();U(K,"x",0),U(K,"y",0);var ot=et(K);{var Ft=q=>{var B=at(),tt=Z(B);{var D=st=>{var At=sp();it(()=>Xt(At,a(Y)[0])),F(st,At)},mt=st=>{var At=at(),Mt=Z(At);jt(Mt,17,()=>a(Y),ce,(_t,xt,Dt)=>{var Fe=V2();U(Fe,"dy",Dt?12:0);var tr=et(Fe);it(()=>Xt(tr,!a(G)||a(G)[Dt]!==a(xt)||e.options.removeDuplicateTicks===!1?a(xt):"")),F(_t,Fe)}),F(st,At)};V(tt,st=>{a(Y).length===1?st(D):st(mt,!1)})}F(q,B)};V(ot,q=>{(e.ticks.length>0||a(M)===0||a(M)===e.ticks.length-1)&&q(Ft)})}oo(K,(q,B)=>p[B]=q,q=>p?.[q],()=>[a(M)]),it(()=>{U(K,"transform",`translate(0, ${a(Q)??""})  rotate(${a(d)??""})`),Lt(K,a(J).textStyle),Ot(K,0,Jt(a(J).textClass),"svelte-1yg4edo"),U(K,"dominant-baseline",a(d)!==0?"central":e.anchor==="bottom"?"hanging":"auto")}),F(O,K)};V(j,O=>{c()&&O(H)})}it(()=>{Ot(L,0,`tick ${(a(I)||"")??""}`),U(L,"transform",`translate(${a(E).x+a(E).dx}, ${a(g)+a(E).dy})`),U(L,"text-anchor",a(d)<0?"end":a(d)>0?"start":"middle")}),F(P,L)};V(C,P=>{pr(a(E),e.options)&&!a(E).hidden&&P(R)})}F(x,T)}),F(t,w),vt(),f()}const Q2={hour:"numeric",minute:"numeric",month:"short",day:"numeric"},J2=t=>{const e=new Intl.DateTimeFormat(t,Q2).format;return n=>e(n).replace(", ",`
`)},tx={month:"short",day:"numeric"},ex=t=>{const e=new Intl.DateTimeFormat(t,tx).format;return n=>e(n).replace(" ",`
`)},nx={month:"short",year:"numeric"},rx=t=>{const e=new Intl.DateTimeFormat(t,nx).format;return n=>e(n).replace(" ",`
`)};function L0(t,e,n){const r=(Bl(t.domain[1])-Bl(t.domain[0]))/e/864e5*100,i=r<1?J2(n):r<30?ex(n):rx(n);return o=>i(o).split(`
`)}function Bl(t){return Vi(t)?t.getTime():+t}var ix=rt('<text class="axis-x-title svelte-x6donl"> </text>'),ax=rt("<!><!>",1);function mr(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={tickSize:6,tickPadding:3,tickFontSize:11,titleFontSize:11,textAnchor:"auto",opacity:.8,anchor:"bottom",...Wt().axis,...Wt().axisX},i=v(()=>({...r,...n})),o=v(()=>a(i).ticks),s=v(()=>({data:Array.isArray(a(o))?a(o):[],tickCount:typeof a(o)=="number"?a(o):void 0,interval:typeof a(o)=="string"?a(o):void 0,...r,...n})),f=v(()=>a(s).data),c=v(()=>Ct(a(s).automatic,!1)),l=v(()=>a(s).title),u=v(()=>a(s).anchor),h=v(()=>Ct(a(s).facetAnchor,"auto")),d=v(()=>a(s).interval),g=v(()=>a(s).tickSize),m=v(()=>a(s).tickFontSize),y=v(()=>a(s).tickPadding),b=v(()=>a(s).labelAnchor),_=v(()=>a(s).tickFormat),k=v(()=>a(s).tickClass),A=v(()=>a(s).class),p=v(()=>a(s).tickCount),S=v(()=>a(s).tickSpacing),w=v(()=>Ct(a(s).text,!0)),x=v(()=>Ke(a(s),["data","automatic","title","anchor","facetAnchor","interval","tickSize","tickFontSize","tickPadding","labelAnchor","tickFormat","tickClass","class","tickCount","tickSpacing","text"])),{getPlotState:E}=Et("svelteplot"),M=v(E),T=v(()=>a(p)!=null?a(p):a(S)!=null?Math.max(3,Math.round(a(M).facetWidth/a(S))):Math.max(3,Math.round(a(M).facetWidth/a(M).options.x.tickSpacing))),C=v(()=>a(f).length>0?Array.from(new Set(a(f))):To(a(M).scales.x.type,a(M).options.x.ticks,a(d)||a(M).options.x.interval,a(M).scales.x.domain,a(M).scales.x.fn,a(T))),R=v(()=>{const B=Vn(a(M).scales.x.domain).filter(mt=>typeof mt=="number"&&Number.isFinite(mt))??[];if(B[0]===void 0||B[1]===void 0)return!1;if(B[0]<=0&&B[1]>=0)return!0;const D=B.map(mt=>mt===0?-1/0:Math.floor(Math.log10(Math.abs(mt))));return D[0]!==D[1]}),P=v(()=>a(_)||a(M).options.x.tickFormat),I=v(()=>typeof a(P)=="function"?a(P):a(M).scales.x.type==="band"||a(M).scales.x.type==="point"?B=>B:a(M).scales.x.type==="time"?typeof a(P)=="object"?B=>Intl.DateTimeFormat(a(M).options.locale,a(P)).format(B):L0(a(M).scales.x,a(M).plotWidth,a(M).options.locale):typeof a(P)=="object"?B=>Intl.NumberFormat(a(M).options.locale,a(P)).format(B):B=>Intl.NumberFormat(a(M).options.locale,{...a(R)?{notation:"compact"}:{},...r.numberFormat,style:a(M).options.x.percent?"percent":"decimal"}).format(B)),N=v(()=>a(M).options?.x?.label),L=v(()=>a(M).scales.x.type),z=v(()=>a(L)!=="point"&&a(L)!=="band"),W=v(()=>a(l)!==void 0?a(l)||"":a(N)===null?null:a(N)!==void 0?a(N):a(M).scales.x.autoTitle?a(z)?a(M).options.x?.reverse?`â ${a(M).scales.x.autoTitle}${a(M).options.x.percent?" (%)":""}`:`${a(M).scales.x.autoTitle}${a(M).options.x.percent?" (%)":""} â`:a(M).scales.x.autoTitle:""),j=v(()=>a(b)||a(M).options?.x?.labelAnchor||"auto"),H=v(()=>a(j)==="auto"?a(z)?"right":"center":a(j)),{getFacetState:O}=Et("svelteplot/facet"),Y=v(O),G=v(()=>a(Y).left),Q=v(()=>a(Y).top),J=v(()=>a(Y).bottom),K=v(()=>a(Y).bottomEmpty),ot=v(()=>a(Y).topEmpty),Ft=v(()=>a(h)!=="auto"?a(h):a(u)==="bottom"?"bottom-empty":"top-empty"),q=v(()=>a(Ft)==="top"?a(Q):a(Ft)==="bottom"?a(J):a(Ft)==="top-empty"?a(ot):a(K));{let B=v(()=>a(f).length?a(f).map(tt=>({__x:tt})):[]);vn(t,je({type:"axisX",get data(){return a(B)},channels:["x"]},()=>a(x),{x:"__x",get automatic(){return a(c)},children:(tt,D)=>{var mt=ax(),st=Z(mt);{var At=xt=>{var Dt=ix(),Fe=et(Dt);it(tr=>{Lt(Dt,tr),U(Dt,"x",a(M).options.marginLeft+a(M).plotWidth*(a(H)==="right"?1:a(H)==="center"?.5:0)),U(Dt,"y",a(u)==="top"?(a(x).titleFontSize||11)+5:a(M).height-(a(x).titleFontSize||11)-5),U(Dt,"dominant-baseline",a(u)==="top"?"auto":"hanging"),Xt(Fe,a(W))},[()=>Yh(null,{opacity:.8,...a(x),stroke:null,fontSize:a(x).titleFontSize||11,textAnchor:a(H)==="right"?"end":a(H)==="center"?"middle":"start"},{},a(M),"fill")]),F(xt,Dt)};V(st,xt=>{a(G)&&a(Q)&&a(W)&&xt(At)})}var Mt=$(st);{var _t=xt=>{{let Dt=v(()=>({...a(x),...a(M).options.x}));F0(xt,{get anchor(){return a(u)},get className(){return a(A)},get labelAnchor(){return a(b)},get options(){return a(Dt)},get plot(){return a(M)},get text(){return a(w)},get tickClass(){return a(k)},get tickFontSize(){return a(m)},get tickPadding(){return a(y)},get ticks(){return a(C)},get tickSize(){return a(g)},get height(){return a(M).facetHeight},get marginTop(){return a(M).options.marginTop},get scaleFn(){return a(M).scales.x.fn},get scaleType(){return a(M).scales.x.type},get tickFormat(){return a(I)},get title(){return a(W)}})}};V(Mt,xt=>{a(q)&&xt(_t)})}F(tt,mt)},$$slots:{default:!0}}))}vt()}var ox=rt("<line></line>"),sx=rt("<text> </text>"),fx=rt("<g><!><!></g>"),cx=rt('<g class="axis-y"></g>');function R0(t,e){pt(e,!0);const n=()=>Ge(g,"$autoMarginLeft",o),r=()=>Ge(m,"$autoMarginRight",o),i=()=>Ge(y,"$autoMarginTop",o),[o,s]=bf();let f=Vt(e,"text",3,!0);const c={top:"hanging",center:"middle",bottom:"auto"},l=v(()=>{let _=e.ticks.map((k,A)=>{const p={[Rt]:k,[zt]:A};return{...p,hidden:!1,dx:+nt(e.options.dx,p,0),dy:+nt(e.options.dy,p,0),y:e.scaleFn(k)+(e.scaleType==="band"?e.scaleFn.bandwidth()*.5:0),text:e.tickFormat(k,A,e.ticks),element:null}});if(f()){const k=_.length;for(let A=0;A<k;A++){let p=A;do p--;while(p>=0&&_[p].hidden);if(p>=0){const S=Math.abs(_[A].y-_[p].y);_[A].hidden=S<15}}}return _});let u=Ae([]);const h=v(()=>e.scaleType!=="point"&&e.scaleType!=="band"),d=Bf(),{autoMarginLeft:g,autoMarginRight:m,autoMarginTop:y}=Et("svelteplot/autoMargins");ae(()=>{ge(()=>[n(),r()]);const _=e.anchor==="left"?"end":"start",k=Math.ceil(Ei(a(l).map((A,p)=>nt(e.options.textAnchor,A,_)!==_||A.hidden||!pr(A,e.options)?0:u[p]?u[p].getBoundingClientRect().width:0)))+Math.max(0,e.tickPadding+e.tickSize);isNaN(k)||(e.anchor==="left"&&n().get(d)!==k?n().set(d,k):e.anchor==="right"&&r().get(d)!==k&&r().set(d,k))}),ae(()=>{ge(()=>[i()]),e.title?i().set(d,27):i().delete(d)}),ae(()=>()=>{n().has(d)&&n().delete(d),r().has(d)&&r().delete(d),i().has(d)&&i().delete(d)});var b=cx();jt(b,23,()=>a(l),_=>_[Rt],(_,k,A)=>{var p=at(),S=Z(p);{var w=x=>{const E=v(()=>nt(e.tickClass,a(k))),M=v(()=>{const[N,L]=Ce(e.plot,{datum:a(k)},{fontVariant:a(h)?"tabular-nums":"normal",...e.options,fontSize:e.tickFontSize,stroke:null},"fill",{y:!0},!0);return{textStyle:N,textClass:L}});var T=fx(),C=et(T);{var R=N=>{const L=v(()=>{const[W,j]=Ce(e.plot,{datum:a(k)},e.options,"stroke",{y:!0},!0);return{tickLineStyle:W,tickLineClass:j}});var z=ox();it(()=>{Lt(z,a(L).tickLineStyle),Ot(z,0,Jt(a(L).tickLineClass),"svelte-inyq83"),U(z,"x2",e.anchor==="left"?-e.tickSize:e.tickSize)}),F(N,z)};V(C,N=>{e.tickSize&&N(R)})}var P=$(C);{var I=N=>{var L=sx(),z=et(L);oo(L,(W,j)=>u[j]=W,W=>u?.[W],()=>[a(A)]),it(W=>{Ot(L,0,Jt([a(M).textClass,{"is-left":e.anchor==="left"}]),"svelte-inyq83"),Lt(L,a(M).textStyle),U(L,"x",(e.tickSize+e.tickPadding)*(e.anchor==="left"?-1:1)),U(L,"dominant-baseline",c[e.lineAnchor]),Xt(z,W)},[()=>Array.isArray(a(k).text)?a(k).text.join(" "):a(k).text]),F(N,L)};V(P,N=>{f()&&N(I)})}it(()=>{Ot(T,0,`tick ${(a(E)||"")??""}`),U(T,"transform",`translate(${a(k).dx+e.marginLeft+(e.anchor==="left"?0:e.width)},${a(k).y+a(k).dy})`)}),F(x,T)};V(S,x=>{pr(a(k),e.options)&&!a(k).hidden&&x(w)})}F(_,p)}),F(t,b),vt(),s()}var lx=rt('<text class="axis-y-title svelte-lok93m" dominant-baseline="hanging"> </text>'),ux=rt("<!><!>",1);function Yi(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={tickSize:6,tickPadding:3,tickFontSize:11,opacity:.8,anchor:"left",textAnchor:"auto",...Wt().axis,...Wt().axisY},i=v(()=>({...r,...n})),o=v(()=>a(i).ticks),s=v(()=>({data:Array.isArray(a(o))?a(o):[],tickCount:typeof a(o)=="number"?a(o):void 0,interval:typeof a(o)=="string"?a(o):void 0,...r,...n})),f=v(()=>a(s).data),c=v(()=>Ct(a(s).automatic,!1)),l=v(()=>a(s).title),u=v(()=>Ct(a(s).anchor,"left")),h=v(()=>a(s).class),d=v(()=>Ct(a(s).facetAnchor,"auto")),g=v(()=>a(s).interval),m=v(()=>Ct(a(s).lineAnchor,"center")),y=v(()=>a(s).textAnchor),b=v(()=>a(s).tickSize),_=v(()=>a(s).tickFontSize),k=v(()=>a(s).tickPadding),A=v(()=>a(s).tickFormat),p=v(()=>a(s).tickClass),S=v(()=>a(s).tickCount),w=v(()=>a(s).tickSpacing),x=v(()=>Ct(a(s).text,!0)),E=v(()=>Ke(a(s),["data","automatic","title","anchor","class","facetAnchor","interval","lineAnchor","textAnchor","tickSize","tickFontSize","tickPadding","tickFormat","tickClass","tickCount","tickSpacing","text"])),{getPlotState:M}=Et("svelteplot"),T=v(M),C=v(()=>a(S)!=null?a(S):a(w)!=null?Math.max(3,Math.round(a(T).facetHeight/a(w))):Math.max(2,Math.round(a(T).facetHeight/a(T).options.y.tickSpacing))),R=v(()=>a(f).length>0?a(f):To(a(T).scales.y.type,a(T).options.y.ticks,a(g)||a(T).options.y.interval,a(T).scales.y.domain,a(T).scales.y.fn,a(C))),P=v(()=>{const ot=Vn(a(T).scales.y.domain).filter(B=>typeof B=="number"&&Number.isFinite(B))??[];if(ot[0]===void 0||ot[1]===void 0)return!1;if(ot[0]<=0&&ot[1]>=0)return!0;const q=ot.map(B=>B===0?-1/0:Math.floor(Math.log10(Math.abs(B))));return q[0]!==q[1]}),I=v(()=>a(A)||a(T).options.y.tickFormat),N=v(()=>typeof a(I)=="function"?a(I):a(T).scales.y.type==="band"||a(T).scales.y.type==="point"?ot=>ot:a(T).scales.y.type==="time"?typeof a(I)=="object"?ot=>Intl.DateTimeFormat(a(T).options.locale,a(I)).format(ot):L0(a(T).scales.y,a(T).plotWidth,a(T).options.locale):typeof a(I)=="object"?ot=>Intl.NumberFormat(a(T).options.locale,a(I)).format(ot):ot=>Intl.NumberFormat(a(T).options.locale,{...a(P)?{notation:"compact"}:{},...r.numberFormat,style:a(T).options.y.percent?"percent":"decimal"}).format(ot)),L=v(()=>a(T).options.y.label),z=v(()=>a(l)!==void 0?a(l)||"":a(L)===null?null:a(L)!==void 0?a(L):a(T).scales.y.autoTitle?`â ${a(T).scales.y.autoTitle}${a(T).options.y.percent?" (%)":""}`:""),{getFacetState:W}=Et("svelteplot/facet"),j=v(W),H=v(()=>a(j).left),O=v(()=>a(j).leftEmpty),Y=v(()=>a(j).right),G=v(()=>a(j).rightEmpty),Q=v(()=>a(j).top),J=v(()=>a(d)!=="auto"?a(d):a(u)==="left"?"left-empty":"right-empty"),K=v(()=>a(J)==="left"?a(H):a(J)==="right"?a(Y):a(J)==="left-empty"?a(O):a(G));{let ot=v(()=>a(f).length?a(f).map(q=>({__y:q})):[]),Ft=v(()=>({...a(E),y:"__y"}));vn(t,je({type:"axisY",get data(){return a(ot)},channels:["y"]},()=>a(Ft),{get automatic(){return a(c)},children:(q,B)=>{var tt=ux(),D=Z(tt);{var mt=Mt=>{var _t=lx();U(_t,"y",5);var xt=et(_t);it(Dt=>{Lt(_t,Dt),U(_t,"x",a(u)==="left"?0:a(T).width),Xt(xt,a(z))},[()=>Yh(null,{opacity:.8,...a(E),fontSize:a(E).titleFontSize??11,fill:"currentColor",stroke:null,textAnchor:a(u)==="left"?"start":"end"},{},a(T),"fill")]),F(Mt,_t)};V(D,Mt=>{a(H)&&a(Q)&&a(z)&&Mt(mt)})}var st=$(D);{var At=Mt=>{{let _t=v(()=>({...a(E),textAnchor:a(y)==null||a(y)==="auto"?a(u)==="left"?"end":"start":a(y)}));R0(Mt,{get anchor(){return a(u)},get className(){return a(h)},get lineAnchor(){return a(m)},get options(){return a(_t)},get plot(){return a(T)},get text(){return a(x)},get tickClass(){return a(p)},get tickFontSize(){return a(_)},get tickPadding(){return a(k)},get ticks(){return a(R)},get tickSize(){return a(b)},get marginLeft(){return a(T).options.marginLeft},get scaleFn(){return a(T).scales.y.fn},get scaleType(){return a(T).scales.y.type},get tickFormat(){return a(N)},get title(){return a(z)},get width(){return a(T).facetWidth}})}};V(st,Mt=>{a(K)&&Mt(At)})}F(q,tt)},$$slots:{default:!0}}))}vt()}function dx(t,e,n,r,i={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0}){const o=Math.min(n,r)/2,[s,f,c,l]=(typeof i=="number"?new Array(4).fill(i):[i?.topLeft||0,i?.topRight||0,i?.bottomLeft||0,i?.bottomRight||0]).map(u=>Math.min(u,o));return`
    M ${t+s} ${e}
    H ${t+n-f}
    ${f?`A ${f} ${f} 0 0 1 ${t+n} ${e+f}`:""}
    V ${e+r-l}
    ${l?`A ${l} ${l} 0 0 1 ${t+n-l} ${e+r}`:""}
    H ${t+c}
    ${c?`A ${c} ${c} 0 0 1 ${t} ${e+r-c}`:""}
    V ${e+s}
    ${s?`A ${s} ${s} 0 0 1 ${t+s} ${e}`:""}
    Z
  `}function zi({options:t,datum:e,getPlotState:n}){const r=A0(t,["onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","ontouchcancel","ontouchend","ontouchmove","onwheel"]);return i=>{const o=new Map;for(const[s,f]of Object.entries(r))if(f){const c=l=>{const{scales:u,body:h,options:d}=n();if(l instanceof MouseEvent||l instanceof PointerEvent){let g=l.target;for(;g&&!g.classList.contains("facet")&&g.parentElement&&g.parentElement instanceof SVGElement;)g=g.parentElement;const m=(g?.firstElementChild??h).getBoundingClientRect(),y=l.clientX-m.left+(d.marginLeft??0),b=l.clientY-m.top+(d.marginTop??0);if(u.projection){const[_,k]=u.projection.invert([y,b]);l.dataX=_,l.dataY=k}else l.dataX=Hl(u.x,y),l.dataY=Hl(u.y,b)}f(l,e.hasOwnProperty(Rt)?e[Rt]:e,e[zt])};o.set(s,c),i.addEventListener(s.substring(2),c)}return(r.onclick||r.onmousedown||r.onmouseup)&&i.setAttribute("role","button"),()=>{for(const[s,f]of o.entries())i.removeEventListener(s.substring(2),f)}}}function Hl(t,e){if(t.type==="band"){const n=t.fn.range(),r=t.fn.domain(),i=t.fn.step(),o=n[1]-n[0],s=(e-n[0])*Math.sign(o),f=Math.floor(s/i);return r[f]}return t.fn.invert?t.fn.invert(e):void 0}function D0(t,e){pt(e,!0);let n=Vt(e,"datum",19,()=>({})),r=Vt(e,"options",19,()=>({}));const i=v(()=>nt(r().href,n(),null)),o=v(()=>nt(r().target,n(),null)),s=v(()=>nt(r().rel,n(),null)),f=v(()=>nt(r().type,n(),null)),c=v(()=>nt(r().download,n(),null)),l=v(()=>Object.fromEntries(Object.entries(r()).filter(([m])=>m.startsWith("data-sveltekit-"))));var u=at(),h=Z(u);{var d=m=>{var y=at(),b=Z(y);wp(b,()=>"a",!0,(_,k)=>{ao(_,()=>({href:a(i),target:a(o),rel:a(s),type:a(f),download:a(c),...a(l),"aria-label":"link",xmlns:"http://www.w3.org/2000/svg"}));var A=at(),p=Z(A);Gt(p,()=>e.children??Ht),F(k,A)}),F(m,y)},g=m=>{var y=at(),b=Z(y);Gt(b,()=>e.children??Ht),F(m,y)};V(h,m=>{a(i)?m(d):m(g,!1)})}F(t,u),vt()}var hx=rt("<path></path>"),gx=rt("<rect></rect>");function I0(t,e){pt(e,!0);let n=Vt(e,"class",3,null),r=Vt(e,"useInsetAsFallbackVertically",3,!0),i=Vt(e,"useInsetAsFallbackHorizontally",3,!0);const{getPlotState:o}=Et("svelteplot"),s=v(o),f=v(()=>+nt(e.options.inset,e.datum?.datum,0)),c=v(()=>+nt(e.options.insetLeft,e.datum?.datum,i()?a(f):0)),l=v(()=>+nt(e.options.insetRight,e.datum?.datum,i()?a(f):0)),u=v(()=>+nt(e.options.insetTop,e.datum?.datum,r()?a(f):0)),h=v(()=>+nt(e.options.insetBottom,e.datum?.datum,r()?a(f):0)),d=v(()=>nt(e.options.borderRadius,e.datum?.datum,0)),g=v(()=>typeof a(d)=="number"&&a(d)>0||typeof a(d)=="object"&&Math.max(a(d).topRight??0,a(d).bottomRight??0,a(d).topLeft??0,a(d).bottomLeft??0)>0),m=v(()=>Ce(a(s),e.datum,e.options,e.fallbackStyle?e.fallbackStyle:e.options.stroke&&!e.options.fill?"stroke":"fill",e.usedScales)),y=v(()=>va(a(m),2)),b=v(()=>a(y)[0]),_=v(()=>a(y)[1]);{let k=v(()=>e.datum?.datum);D0(t,{get options(){return e.options},get datum(){return a(k)},children:(A,p)=>{var S=at(),w=Z(S);{var x=M=>{var T=hx();cr(T,()=>zi({getPlotState:o,options:e.options,datum:e.datum?.datum})),it(C=>{U(T,"transform",`translate(${e.x+a(c)},${e.y+a(h)})`),U(T,"d",C),Ot(T,0,Jt([a(_),n()])),Lt(T,a(b))},[()=>dx(0,0,e.width-a(c)-a(l),e.height-a(u)-a(h),a(d))]),F(M,T)},E=M=>{var T=gx();cr(T,()=>zi({getPlotState:o,options:e.options,datum:e.datum?.datum})),it(()=>{U(T,"transform",`translate(${e.x+a(c)},${e.y+a(h)})`),U(T,"width",e.width-a(c)-a(l)),U(T,"height",e.height-a(u)-a(h)),Ot(T,0,Jt([a(_),n()])),Lt(T,a(b))}),F(M,T)};V(w,M=>{a(g)?M(x):M(E,!1)})}F(A,S)},$$slots:{default:!0}})}vt()}function Qs(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={fill:void 0,class:"frame",stroke:void 0,fillOpacity:1,strokeOpacity:1,...Wt().frame},i=v(()=>({...r,...n})),o=v(()=>a(i).automatic),s=v(()=>a(i).class),f=v(()=>a(i).fill),c=v(()=>a(i).stroke),l=v(()=>a(i).opacity),u=v(()=>a(i).fillOpacity),h=v(()=>a(i).strokeOpacity),d=v(()=>Ke(a(i),["automatic","class","fill","stroke","opacity","fillOpacity","strokeOpacity"])),g=v(()=>nt(a(d).dx,null,0)||0),m=v(()=>nt(a(d).dy,null,0)||0),{getPlotState:y}=Et("svelteplot"),b=v(y);vn(t,{type:"frame",get automatic(){return a(o)},children:(k,A)=>{let p=()=>A?.().usedScales;{let S=v(()=>({fill:a(f),stroke:a(c),fillOpacity:a(u),strokeOpacity:a(h),opacity:a(l),datum:{},valid:!0})),w=v(()=>a(b).options.marginLeft+a(g)),x=v(()=>a(b).options.marginTop+a(m)),E=v(()=>a(f)==null||a(f)==="none"?"stroke":"fill"),M=v(()=>({...a(d),fill:a(f),stroke:a(c),fillOpacity:a(u),opacity:a(l),strokeOpacity:a(h)}));I0(k,{get class(){return a(s)},get datum(){return a(S)},get x(){return a(w)},get y(){return a(x)},get width(){return a(b).facetWidth},get height(){return a(b).facetHeight},get usedScales(){return p()},get fallbackStyle(){return a(E)},get options(){return a(M)}})}},$$slots:{default:!0}}),vt()}var px=kt('<div class="title svelte-1269hcs"><!></div>'),vx=rt('<path transform="translate(7.5,7.5)" class="svelte-1269hcs"></path>'),mx=rt('<rect width="15" height="15"></rect>'),bx=kt('<div class="item svelte-1269hcs"><div class="swatch svelte-1269hcs"><svg width="15" height="15"><!></svg></div> <span class="item-label svelte-1269hcs"> </span></div>'),yx=rt("<stop></stop><stop></stop>",1),_x=rt('<defs><linearGradient x2="1"><stop offset="0%"></stop><!><stop offset="100%"></stop></linearGradient></defs><!><!>',1),xx=rt("<stop></stop>"),wx=rt('<defs><linearGradient x2="1"></linearGradient></defs><!><!>',1),Sx=kt("<div><!> <!></div>");function kx(t,e){pt(e,!0);let n=Vt(e,"class",3,null);const{getPlotState:r}=Et("svelteplot"),i=v(r),o=Wt(),s=v(()=>a(i).options.color.label),f=v(()=>a(i).scales.color.type),c=v(()=>typeof a(i).options.color?.tickFormat=="function"?a(i).options.color.tickFormat:Intl.NumberFormat(a(i).options.locale,a(i).options.color.tickFormat||{...o.numberFormat,notation:"compact"}).format),l=Math.round(Math.random()*1e6).toFixed(32);var u=at(),h=Z(u);{var d=g=>{var m=Sx(),y=et(m);{var b=p=>{var S=px(),w=et(S);xp(w,()=>a(s)),F(p,S)};V(y,p=>{a(s)&&p(b)})}var _=$(y,2);{var k=p=>{var S=at(),w=Z(S);jt(w,16,()=>a(i).scales.color.domain,x=>x,(x,E)=>{const M=v(()=>a(i).scales.symbol.fn(E)),T=v(()=>wo(a(M)));var C=bx(),R=et(C),P=et(R),I=et(P);{var N=j=>{var H=vx();let O;it((Y,G)=>{U(H,"d",Y),O=Lt(H,"",O,G)},[()=>yo(a(T),40)(),()=>({fill:a(i).hasFilledDotMarks?a(i).scales.color.fn(E):"none",stroke:a(i).hasFilledDotMarks?null:a(i).scales.color.fn(E)})]),F(j,H)},L=j=>{var H=mx();let O;it(Y=>O=Lt(H,"",O,Y),[()=>({fill:a(i).scales.color.fn(E)})]),F(j,H)};V(I,j=>{a(i).colorSymbolRedundant?j(N):j(L,!1)})}var z=$(R,2),W=et(z);it(()=>Xt(W,E)),F(x,C)}),F(p,S)},A=p=>{var S=at(),w=Z(S);{var x=M=>{const T=v(()=>Vn(a(i).scales.color.fn.domain())),C=v(()=>a(i).scales.color.range),R=v(()=>a(f)==="quantile"?a(i).scales.color.fn.quantiles():a(f)==="quantize"?a(i).scales.color.fn.thresholds():a(i).scales.color.fn.domain()),P=v(()=>Pn(a(T)[0],a(T)[1],(a(T)[1]-a(T)[0])/a(C).length).slice(1));{let I=v(()=>({domain:a(T),ticks:a(P)}));qi(M,{maxWidth:"240px",margin:1,marginLeft:1,marginRight:1,marginTop:6,marginBottom:20,height:38,inset:0,get x(){return a(I)},children:(N,L)=>{var z=_x(),W=Z(z),j=et(W),H=et(j),O=$(H);jt(O,17,()=>a(P),ce,(J,K,ot)=>{const Ft=v(()=>100*(a(K)-a(T)[0])/(a(T)[1]-a(T)[0]));var q=yx(),B=Z(q),tt=$(B);it((D,mt)=>{U(B,"offset",`${a(Ft)-.001}%`),U(B,"stop-color",D),U(tt,"offset",`${a(Ft)??""}%`),U(tt,"stop-color",mt)},[()=>a(i).scales.color.fn(a(R)[ot]-.1),()=>a(i).scales.color.fn(a(R)[ot])]),F(J,q)});var Y=$(O),G=$(W);Qs(G,{dy:-5,stroke:null,get fill(){return`url(#gradient-${l??""})`}});var Q=$(G);mr(Q,{tickSize:18,dy:-17,tickFormat:(J,K)=>a(c)(a(R)[K])}),it(J=>{U(j,"id",`gradient-${l??""}`),U(H,"stop-color",a(C)[0]),U(Y,"stop-color",J)},[()=>a(C).at(-1)]),F(N,z)},$$slots:{default:!0}})}},E=M=>{const T=v(()=>Vn(a(i).scales.color.domain)),C=v(()=>Pn(a(T)[0],a(T)[1],(a(T)[1]-a(T)[0])/7).slice(1));{let R=v(()=>({domain:a(T),tickSpacing:30,tickFormat:a(c)}));qi(M,{maxWidth:"240px",margin:1,marginLeft:10,marginRight:10,marginTop:6,marginBottom:20,height:38,inset:0,get x(){return a(R)},children:(P,I)=>{var N=wx(),L=Z(N),z=et(L);jt(z,20,()=>a(C),H=>H,(H,O)=>{var Y=xx();it(G=>{U(Y,"offset",`${100*(O-a(T)[0])/(a(T)[1]-a(T)[0])}%`),U(Y,"stop-color",G)},[()=>a(i).scales.color.fn(O)]),F(H,Y)});var W=$(L);Qs(W,{dy:-5,stroke:null,get fill(){return`url(#gradient-${l??""})`}});var j=$(W);mr(j,{tickSize:18,dy:-17}),it(()=>U(z,"id",`gradient-${l??""}`)),F(P,N)},$$slots:{default:!0}})}};V(w,M=>{a(f)==="quantile"||a(f)==="quantize"||a(f)==="threshold"?M(x):M(E,!1)},!0)}F(p,S)};V(_,p=>{a(f)==="ordinal"||a(f)==="categorical"?p(k):p(A,!1)})}it(()=>Ot(m,1,`color-legend ${(n()||"")??""}`,"svelte-1269hcs")),F(g,m)};V(h,g=>{a(i).scales.color.manualActiveMarks>0&&g(d)})}F(t,u),vt()}var Mx=rt("<line></line>"),Tx=rt('<g class="grid-x"></g>');function ec(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={...Wt().grid,...Wt().gridX},i=v(()=>({...r,...n})),o=v(()=>Ct(a(i).data,()=>[],!0)),s=v(()=>Ct(a(i).automatic,!1)),f=v(()=>Ke(a(i),["data","automatic"])),{getPlotState:c}=Et("svelteplot"),l=v(c),u=v(()=>Math.max(3,Math.round(a(l).facetWidth/a(l).options.x.tickSpacing))),h=v(()=>(a(o).length>0?a(o):To(a(l).scales.x.type,a(l).options.x.ticks,a(l).options.x.interval,a(l).scales.x.domain,a(l).scales.x.fn,a(u))).map((d,g)=>Ve(d)?{...d,[zt]:g}:{[Rt]:d,[zt]:g}));{const d=(y,b)=>{let _=()=>b?.().usedScales;var k=Tx();jt(k,21,()=>a(h),ce,(A,p)=>{var S=at(),w=Z(S);{var x=E=>{const M=v(()=>a(l).scales.x.fn(a(p)[Rt])+(a(l).scales.x.type==="band"?a(l).scales.x.fn.bandwidth()*.5:0)),T=v(()=>Ut("y1",a(p),a(f))),C=v(()=>Ut("y2",a(p),a(f))),R=v(()=>+nt(a(f)?.dx,a(p),0)),P=v(()=>+nt(a(f)?.dy,a(p),0)),I=v(()=>a(f).y1!=null?a(l).scales.y.fn(a(T)):a(l).options.marginTop),N=v(()=>a(f).y2!=null?a(l).scales.y.fn(a(C)):a(l).options.marginTop+a(l).facetHeight),L=v(()=>{const[W,j]=Ce(a(l),{datum:a(p)},a(f),"stroke",_(),!0);return{style:W,styleClass:j}});var z=Mx();it(()=>{Ot(z,0,Jt(a(L).styleClass),"svelte-75g6py"),U(z,"transform",`translate(${a(M)+a(R)},${a(P)??""})`),Lt(z,a(L).style),U(z,"y1",a(I)),U(z,"y2",a(N))}),F(E,z)};V(w,E=>{pr(a(p),a(f))&&E(x)})}F(A,S)}),F(y,k)};let g=v(()=>a(o).length?a(o).map(y=>({[Rt]:y})):[]),m=v(()=>({...a(f),x:Rt}));vn(t,je({type:"gridX",get data(){return a(g)},channels:["y1","y2","x","stroke","strokeOpacity"]},()=>a(m),{get automatic(){return a(s)},children:d,$$slots:{default:!0}}))}vt()}var Ex=rt("<line></line>"),Ax=rt('<g class="grid-y"></g>');function Ao(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={...Wt().grid,...Wt().gridY},i=v(()=>({...r,...n})),o=v(()=>Ct(a(i).data,()=>[],!0)),s=v(()=>Ct(a(i).automatic,!1)),f=v(()=>Ke(a(i),["data","automatic"])),{getPlotState:c}=Et("svelteplot"),l=v(c),u=v(()=>Math.max(2,Math.round(a(l).facetHeight/a(l).options.y.tickSpacing))),h=v(()=>a(o).length>0?a(o):To(a(l).scales.y.type,a(l).options.y.ticks,a(l).options.y.interval,a(l).scales.y.domain,a(l).scales.y.fn,a(u)));{const d=(y,b)=>{let _=()=>b?.().usedScales;var k=Ax();jt(k,21,()=>a(h),ce,(A,p)=>{var S=at(),w=Z(S);{var x=E=>{const M=v(()=>a(l).scales.y.fn(a(p))+(a(l).scales.y.type==="band"?a(l).scales.y.fn.bandwidth()*.5:0)),T=v(()=>Ut("x1",a(p),a(f))),C=v(()=>Ut("x2",a(p),a(f))),R=v(()=>a(f).x1!=null?a(l).scales.x.fn(a(T)):a(l).options.marginLeft),P=v(()=>a(f).x2!=null?a(l).scales.x.fn(a(C)):a(l).options.marginLeft+a(l).facetWidth),I=v(()=>+nt(a(f)?.dx,a(p),0)),N=v(()=>+nt(a(f)?.dy,a(p),0)),L=v(()=>{const[W,j]=Ce(a(l),{datum:{[Rt]:a(p)}},a(f),"stroke",_(),!0);return{style:W,styleClass:j}});var z=Ex();it(()=>{Lt(z,a(L).style),Ot(z,0,Jt(a(L).styleClass),"svelte-ykw1ch"),U(z,"transform",`translate(${a(I)??""},${a(M)+a(N)})`),U(z,"x1",a(R)),U(z,"x2",a(P))}),F(E,z)};V(w,E=>{pr(a(p),a(f))&&E(x)})}F(A,S)}),F(y,k)};let g=v(()=>a(o).length?a(o).map(y=>({[Rt]:y})):[]),m=v(()=>({...a(f),y:Rt}));vn(t,je({type:"gridY",get data(){return a(g)},channels:["x1","x2","y","stroke","strokeOpacity"]},()=>a(m),{get automatic(){return a(s)},children:d,$$slots:{default:!0}}))}vt()}var Nx=kt('<div class="item svelte-1vze4d"><div class="swatch svelte-1vze4d"><svg width="15" height="15"><path transform="translate(7.5,7.5)" class="svelte-1vze4d"></path></svg></div> <span class="item-label svelte-1vze4d"> </span></div>'),Cx=kt('<div class="symbol-legend svelte-1vze4d"></div>');function Px(t,e){pt(e,!0);const{getPlotState:n}=Et("svelteplot");let r=v(n);var i=at(),o=Z(i);{var s=f=>{var c=Cx();jt(c,20,()=>a(r).scales.color.domain,l=>l,(l,u)=>{const h=v(()=>a(r).scales.symbol.fn(u)),d=v(()=>wo(a(h))),g=v(()=>a(r).colorSymbolRedundant?a(r).scales.color.fn(u):"currentColor");var m=Nx(),y=et(m),b=et(y),_=et(b);let k;var A=$(y,2),p=et(A);it(S=>{U(_,"d",S),k=Lt(_,"",k,{fill:a(r).hasFilledDotMarks?a(g):"none",stroke:a(r).hasFilledDotMarks?null:a(g)}),Xt(p,u)},[()=>yo(a(d),40)()]),F(l,m)}),F(f,c)};V(o,f=>{a(r).scales.color.manualActiveMarks>0&&f(s)})}F(t,i),vt()}var Fx=rt("<g><!></g>"),Lx=rt("<g><!></g>"),Rx=rt("<!><!>",1);function Dx(t,e){pt(e,!0);const{getPlotState:n}=Et("svelteplot"),r=v(n),i=v(()=>a(r).scales.fx.domain.length>0),o=v(()=>a(r).scales.fy.domain.length>0),s=v(()=>a(i)?a(r).scales.fx.domain:[!0]),f=v(()=>a(o)?a(r).scales.fy.domain:[!0]),c=v(()=>ur().paddingInner(.1).domain(a(s)).rangeRound([0,a(r).plotWidth])),l=v(()=>ur().paddingInner(.1).domain(a(f)).rangeRound([0,a(r).plotHeight]));var u=Rx(),h=Z(u);{var d=y=>{var b=Fx(),_=et(b);{let k=v(()=>a(r).options.fx.tickFormat||(p=>p)),A=v(()=>a(r).options.fx.axisOptions||{});F0(_,je({get scaleFn(){return a(c)},scaleType:"band",get ticks(){return a(s)},get tickFormat(){return a(k)},tickFontSize:11,tickSize:0,tickPadding:5,get anchor(){return a(r).options.fx.axis},get options(){return a(A)}},()=>a(r).options.fx.axisProps||{},{get height(){return a(r).plotHeight},get marginTop(){return a(r).options.marginTop},get plot(){return a(r)}}))}it(()=>U(b,"transform",`translate(${a(r).options.marginLeft??""}, 0)`)),F(y,b)};V(h,y=>{a(s).length>1&&a(r).options.fx.axis&&y(d)})}var g=$(h);{var m=y=>{var b=Lx(),_=et(b);{let k=v(()=>a(r).options.fy.tickFormat||(p=>p)),A=v(()=>a(r).options.fy.axisOptions||{});R0(_,je({get scaleFn(){return a(l)},scaleType:"band",get ticks(){return a(f)},get tickFormat(){return a(k)},tickFontSize:11,tickSize:0,tickPadding:5,get anchor(){return a(r).options.fy.axis},lineAnchor:"center",get options(){return a(A)}},()=>a(r).options.fy.axisProps||{},{get width(){return a(r).plotWidth},get marginLeft(){return a(r).options.marginLeft},get plot(){return a(r)}}))}it(()=>U(b,"transform",`translate(0, ${a(r).options.marginTop??""})`)),F(y,b)};V(g,y=>{a(f).length>1&&a(r).options.fy.axis&&y(m)})}F(t,u),vt()}function ut(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Ix=ut("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ox=ut("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Yx=ut("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),zx=ut("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),qx=ut("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),jx=ut("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ux=ut("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Wx=ut("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Bx=ut("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Hx=ut("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Pt=t=>Mv(t[t.length-1]);var O0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ut);const Y0=Pt(O0);var z0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ut);const q0=Pt(z0);var j0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ut);const U0=Pt(j0);var W0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ut);const B0=Pt(W0);var Js=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ut);const Va=Pt(Js);var H0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ut);const G0=Pt(H0);var tf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ut);const Za=Pt(tf);var X0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ut);const V0=Pt(X0);var Z0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ut);const K0=Pt(Z0);var $0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ut);const Q0=Pt($0);var J0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ut);const t1=Pt(J0);var e1=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ut);const n1=Pt(e1);var r1=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ut);const i1=Pt(r1);var a1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ut);const o1=Pt(a1);var s1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ut);const f1=Pt(s1);var c1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ut);const l1=Pt(c1);var u1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ut);const d1=Pt(u1);var h1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ut);const g1=Pt(h1);var p1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ut);const v1=Pt(p1);var m1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ut);const b1=Pt(m1);var y1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ut);const _1=Pt(y1);var x1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ut);const w1=Pt(x1);var S1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ut);const k1=Pt(S1);var ef=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ut);const Ka=Pt(ef);var M1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ut);const T1=Pt(M1);var E1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ut);const A1=Pt(E1);var N1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ut);const C1=Pt(N1);function P1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const F1=kf(hn(300,.5,0),hn(-240,.5,1));var L1=kf(hn(-100,.75,.35),hn(80,1.5,.8)),R1=kf(hn(260,.75,.35),hn(80,1.5,.8)),ua=hn();function D1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ua.h=360*t-100,ua.s=1.5-1.5*e,ua.l=.8-.9*e,ua+""}var da=Ni(),Gx=Math.PI/3,Xx=Math.PI*2/3;function I1(t){var e;return t=(.5-t)*Math.PI,da.r=255*(e=Math.sin(t))*e,da.g=255*(e=Math.sin(t+Gx))*e,da.b=255*(e=Math.sin(t+Xx))*e,da+""}function O1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function No(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Y1=No(ut("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var z1=No(ut("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q1=No(ut("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),j1=No(ut("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Vx=["#4269d0","#efb118","#ff725c","#6cc5b0","#3ca951","#ff8ab7","#a463f2","#97bbf5","#9c6b4e","#9498a0"],U1=new Map([["accent",Ox],["category10",Ix],["dark2",Yx],["observable10",Vx],["paired",zx],["pastel1",qx],["pastel2",jx],["set1",Ux],["set2",Wx],["set3",Bx],["tableau10",Hx]]);function Zx(t){return t!=null&&U1.has(`${t}`.toLowerCase())}const nf=new Map([["brbg",bn(O0,Y0)],["prgn",bn(z0,q0)],["piyg",bn(j0,U0)],["puor",bn(W0,B0)],["rdbu",bn(Js,Va)],["rdgy",bn(H0,G0)],["rdylbu",bn(tf,Za)],["rdylgn",bn(X0,V0)],["spectral",bn(Z0,K0)],["burd",Gl(Js,Va)],["buylrd",Gl(tf,Za)],["blues",Bt(x1,w1)],["greens",Bt(S1,k1)],["grays",Bt(ef,Ka)],["greys",Bt(ef,Ka)],["oranges",Bt(N1,C1)],["purples",Bt(M1,T1)],["reds",Bt(E1,A1)],["turbo",yn(O1)],["viridis",yn(Y1)],["magma",yn(z1)],["inferno",yn(q1)],["plasma",yn(j1)],["cividis",yn(P1)],["cubehelix",yn(F1)],["warm",yn(L1)],["cool",yn(R1)],["bugn",Bt($0,Q0)],["bupu",Bt(J0,t1)],["gnbu",Bt(e1,n1)],["orrd",Bt(r1,i1)],["pubu",Bt(s1,f1)],["pubugn",Bt(a1,o1)],["purd",Bt(c1,l1)],["rdpu",Bt(u1,d1)],["ylgn",Bt(p1,v1)],["ylgnbu",Bt(h1,g1)],["ylorbr",Bt(m1,b1)],["ylorrd",Bt(y1,_1)],["rainbow",Xl(D1)],["sinebow",Xl(I1)]]);function Kx(t){return nf.has(`${t}`.toLowerCase())}function Bt(t,e){return n=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Gi(e,n):t[n])}function bn(t,e){return n=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Gi(e,n):t[n])}function Gl(t,e){return n=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Gi(r=>e(1-r),n):t[n].slice().reverse())}function yn(t){return e=>Gi(t,Math.max(2,Math.floor(e)))}function Xl(t){return e=>Gi(t,Math.floor(e)+1).slice(0,-1)}function Vl(t){const e=`${t}`.toLowerCase();if(!nf.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return nf.get(e)}const rf=new Map([["brbg",Y0],["prgn",q0],["piyg",U0],["puor",B0],["rdbu",Va],["rdgy",G0],["rdylbu",Za],["rdylgn",V0],["spectral",K0],["burd",t=>Va(1-t)],["buylrd",t=>Za(1-t)],["blues",w1],["greens",k1],["grays",Ka],["greys",Ka],["purples",T1],["reds",A1],["oranges",C1],["turbo",O1],["viridis",Y1],["magma",z1],["inferno",q1],["plasma",j1],["cividis",P1],["cubehelix",F1],["warm",L1],["cool",R1],["bugn",Q0],["bupu",t1],["gnbu",n1],["orrd",i1],["pubugn",o1],["pubu",f1],["purd",l1],["rdpu",d1],["ylgnbu",g1],["ylgn",v1],["ylorbr",b1],["ylorrd",_1],["rainbow",D1],["sinebow",I1]]);function $x(t){return rf.has(String(t).toLowerCase())}function Zl(t){const e=`${t}`.toLowerCase();if(!rf.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return rf.get(e)}const Qx=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Jx(t){return t!=null&&Qx.has(`${t}`.toLowerCase())}function W1(t,e,n={}){const r=t(...e);for(const[i,o]of Object.entries(n)){if(typeof r[i]!="function")throw new Error(`function ${i} does not exist`);r[i](o)}return r}function af(t,e=6){const n=t[0]<0&&t[1]<0;n&&(t=[t[0]*-1,t[1]*-1]);const r=t[1]<t[0];if(r&&(t=t.slice(0).reverse()),t[0]<0||t[1]<0)return[];if(t[0]===0)return Ti(t[0],t[1],e-2);let i=1;e+=2;let o=Kl(t,i);if(o[0].num>e)for(;o[0].num>e;)i*=10,o=Kl(t,i);else if(o[o.length-1].num<e){const f=Ti(t[0],t[1],e-2);return r&&f.reverse(),f}e-=2;const s=o.map(f=>({...f,ticks:f.ticks.filter(c=>c>=t[0]&&c<=t[1])})).map(f=>({...f,diff:Math.abs(f.ticks.length-e)})).sort((f,c)=>f.diff-c.diff)[0].ticks;return r&&s.reverse(),n?s.map(f=>f*-1):s}const t3=[[10],[5,4,5],[3,10/3],[2,2.5,2],[1.5,2,5/3,2]];function Kl(t,e=1){return t3.map(n=>{let r=Math.pow(10,Math.floor(Math.log10(t[0]))),i=0;const o=[r];for(;r<t[1]&&o.length<50;)r*=n[i]*e,o.push(r),i=(i+1)%n.length;return{ticks:o,num:o.length}})}const e3={point:rv,band:ur,linear:Ea,time:db,sqrt:am,pow:Pf,log:Af,symlog:Id,ordinal:so,sequential:Rf,diverging:If},as={linear:Rf,log:ih,symlog:ah,pow:Df,sqrt:hb,"quantile-cont":oh},os={diverging:If,"diverging-log":sh,"diverging-symlog":fh,"diverging-pow":Of,"diverging-sqrt":gb},$l={threshold:zd,quantize:Yd,quantile:Od};function n3({name:t,type:e,domain:n,scaleOptions:r,plotOptions:i,plotWidth:o,plotHeight:s,plotHasFilledDotMarks:f,plotDefaults:c}){let l,u;u=r?.range||i3(t,r,i,o,s,f),r.reverse&&u.reverse();const h=t==="x"||t==="y"?Math.round(Math.abs(u[0]-u[1])/r.tickSpacing):void 0,d={domain:n,range:u,...(e==="linear"||e==="log")&&r.nice?{nice:r.nice?h:!0}:{},...e==="linear"?{clamp:r.clamp,...r.round?{interpolate:lo}:{}}:{},...e==="log"?{base:r.base||10}:{},...e==="symlog"?{constant:r.constant||1}:{},...e==="band"||e==="point"?{align:r.align,...e==="point"?{padding:hi(Zo(r.padding,i.padding,.15))}:{paddingInner:hi(Zo(r.paddingInner,r.padding,i.padding,.15)),paddingOuter:hi(Zo(r.paddingOuter,r.padding,i.padding,.15))}}:{}};if(l=W1(e3[e],[],d),(e==="band"||e==="point")&&(l.ticks=()=>n),e==="log")l.ticks=g=>af(n,g);else if(e==="symlog"){const g=Math.max(Math.abs(n[0]),Math.abs(n[1]));l.ticks=m=>{const y=af([d.constant+1,g],m/2);return[...y.map(b=>-b).reverse(),0,...y]}}return l}function r3({type:t,domain:e,scaleOptions:n,plotOptions:r,plotWidth:i,plotHeight:o,plotHasFilledDotMarks:s,plotDefaults:f}){let c,l;const{scheme:u,interpolate:h,pivot:d,n:g=t==="threshold"?e.length+1:9,unknown:m=f.unknown}=n;if(t==="categorical"||t==="ordinal"){let y=u||f.categoricalColorScheme;if($s(y)){const b=Object.values(y),_=Object.keys(y);for(const k of e)y[k]==null&&(_.push(k),b.push(m));e=_,y=b}l=Array.isArray(y)?y:Zx(y)?U1.get(y):Vl(y)(e.length),c=so().domain(e).range(l)}else if($l[t]){const y=u||f.colorScheme;if(l=Array.isArray(y)&&(n.n==null||n.n===y.length)?y.slice(0):Array.isArray(y)?Pn(g).map(b=>b/(g-1)).map(Ea(y.map((b,_)=>_/(y.length-1)),y).interpolate(Oc)):h?Pn(g).map(b=>h(b/(g-1))):Kx(y)?Vl(y)(g):null,l==null)throw new Error("unknown ordinal scheme "+y);n.reverse&&(l=l.toReversed()),c=$l[t]().domain(e).range(l)}else if(as[t]||os[t]){const y=as[t]||os[t],b=u||f.colorScheme;if(h)c=y(e,h);else if(Array.isArray(b)){const _=1/(b.length-1);c=y(e,(t==="linear"?Ea:Af)(Pn(0,1+_/2,_),b).interpolate(Oc))}else if(os[t]||n.type==="auto"&&Jx(b)){const _=Math.max(Math.abs(e[0]),Math.abs(e[1])),k=d!=null?[e[0],d,e[1]]:[-_,0,_];c=y(k,Zl(b))}else(as[t]||n.type==="auto"&&$x(b))&&(c=y(e,Zl(b)));t==="log"&&(c.ticks=_=>af(e,_))}return c||(console.error("color problem",t),c=()=>"red",c.range=()=>["red"]),c}function i3(t,e,n,r,i,o){const{marginTop:s,marginLeft:f,inset:c}=n,{insetLeft:l,insetRight:u,insetTop:h,insetBottom:d}=e;return t==="opacity"?[0,1]:t==="length"?[0,20]:t==="x"?[f+(l||c||0),f+r-(u||c||0)]:t==="y"?[i+s-(d||c||0),s+(h||c||0)]:t==="r"?[0,10]:t==="symbol"?o?["circle","cross","diamond","square","star","triangle","wye"]:["circle","plus","times","triangle2","asterisk","square2","diamond2"]:[]}const a3=Hf({stream:t=>t}),o3=Hf({...Xs({point(t,e){this.stream.point(t,-e)}}),invert(t,e){return[t,-e]}}),B1=Math.PI,_n=2*B1;function s3(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Be(m_,.7463,.4673);case"albers":return ha(c0,.7463,.4673);case"azimuthal-equal-area":return Be(b_,4,4);case"azimuthal-equidistant":return Be(y_,_n,_n);case"conic-conformal":return ha(w_,_n,_n);case"conic-equal-area":return ha(Ha,6.1702,2.9781);case"conic-equidistant":return ha(M_,7.312,3.6282);case"equal-earth":return Be(E_,5.4133,2.6347);case"equirectangular":return Be(S_,_n,B1);case"gnomonic":return Be(A_,3.4641,3.4641);case"identity":return{type:a3};case"reflect-y":return{type:o3};case"mercator":return Be(__,_n,_n);case"orthographic":return Be(N_,2,2);case"stereographic":return Be(C_,2,2);case"transverse-mercator":return Be(P_,_n,_n);default:throw new Error(`unknown projection type: ${t}`)}}function Be(t,e,n){return{type:({width:r,height:i,rotate:o,precision:s=.15,clip:f})=>{const c=t();return s!=null&&c.precision?.(s),o!=null&&c.rotate?.(o),typeof f=="number"&&c.clipAngle?.(f),c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/e}}function ha(t,e,n){const{type:r,aspectRatio:i}=Be(t,e,n);return{type:o=>{const{parallels:s,domain:f,width:c,height:l}=o,u=r(o);return s!=null&&(u.parallels(s),f===void 0&&u.fitSize([c,l],{type:"Sphere"})),u},aspectRatio:i}}var f3=kt("<h2> </h2>"),c3=kt("<h3> </h3>"),l3=kt("<!> <!> <!> <!> <!>",1),u3=kt("<div> </div>"),d3=kt("<!> <!>",1),h3=kt('<div class="error svelte-1j5ln2u"> </div>'),g3=rt('<tspan x="0"> </tspan>'),p3=rt('<text class="error svelte-1j5ln2u" transform="translate(10,10)"></text>'),v3=kt("<!> <!>",1),m3=kt("<!> <!>",1),b3=kt("<!> <!> <!> <!> <!> <!>",1);function qi(t,e){pt(e,!0);const n=u=>{var h=l3(),d=Z(h);{var g=w=>{var x=f3(),E=et(x);it(()=>Xt(E,e.title)),F(w,x)};V(d,w=>{e.title&&w(g)})}var m=$(d,2);{var y=w=>{var x=c3(),E=et(x);it(()=>Xt(E,e.subtitle)),F(w,x)};V(m,w=>{e.subtitle&&w(y)})}var b=$(m,2);{var _=w=>{var x=at(),E=Z(x);Gt(E,()=>e.header??Ht),F(w,x)};V(b,w=>{e.header&&w(_)})}var k=$(b,2);{var A=w=>{kx(w,{})};V(k,w=>{e.color?.legend&&w(A)})}var p=$(k,2);{var S=w=>{Px(w,{})};V(p,w=>{e.symbol?.legend&&w(S)})}F(u,h)},r=u=>{var h=d3(),d=Z(h);{var g=b=>{var _=u3(),k=et(_);it(()=>Xt(k,e.caption)),F(b,_)};V(d,b=>{e.caption&&b(g)})}var m=$(d,2);{var y=b=>{var _=at(),k=Z(_);Gt(k,()=>e.footer??Ht),F(b,_)};V(m,b=>{e.footer&&b(y)})}F(u,h)};let i=le(e,["$$slots","$$events","$$legacy","header","footer","overlay","underlay","children","testid","facet","projection"]);const o=v(()=>{if(e.projection&&typeof e.projection!="function"&&typeof e.projection?.type!="function"){const{type:u,aspectRatio:h}=s3(Ns(e.projection)?e.projection.type:e.projection);return{...Ns(e.projection)?e.projection:{},type:u,aspectRatio:h}}return e.projection}),s=v(()=>Object.fromEntries(["x","y","r","color","opacity","symbol","length","fx","fy"].map(u=>{const h=f(i[u]),d=h.scale||(u==="color"?r3:n3);return[u,{...h,scale:d}]})));function f(u){return u===!1?{axis:!1}:Array.isArray(u)?{domain:u}:u||{}}var c=at(),l=Z(c);ls(l,{failed:(h,d=Ht)=>{var g=h3(),m=et(g);it(()=>Xt(m,`Error: ${d().message??""}`)),F(h,g)}},h=>{{const d=(b,_)=>{let k=()=>_?.().hasProjection,A=()=>_?.().hasExplicitAxisX,p=()=>_?.().hasExplicitAxisY,S=()=>_?.().hasExplicitGridX,w=()=>_?.().hasExplicitGridY,x=()=>_?.().options,E=()=>_?.().scales,M=()=>Ke(_?.(),["hasProjection","hasExplicitAxisX","hasExplicitAxisY","hasExplicitGridX","hasExplicitGridY","options","scales"]);var T=at(),C=Z(T);ls(C,{onerror:P=>console.error(P),failed:(P,I=Ht,N=Ht)=>{var L=p3();jt(L,21,()=>I().message.split(`
`),ce,(z,W,j)=>{var H=g3();U(H,"dy",j?14:0);var O=et(H);it(()=>Xt(O,a(W))),F(z,H)}),F(P,L)}},P=>{var I=b3(),N=Z(I);{var L=K=>{var ot=v3(),Ft=Z(ot);{var q=D=>{mr(D,{anchor:"top",automatic:!0})};V(Ft,D=>{x().axes&&(x().x.axis==="top"||x().x.axis==="both")&&D(q)})}var B=$(Ft,2);{var tt=D=>{mr(D,{anchor:"bottom",automatic:!0})};V(B,D=>{x().axes&&(x().x.axis==="bottom"||x().x.axis==="both")&&D(tt)})}F(K,ot)};V(N,K=>{!k()&&!A()&&K(L)})}var z=$(N,2);{var W=K=>{var ot=m3(),Ft=Z(ot);{var q=D=>{Yi(D,{anchor:"left",automatic:!0})};V(Ft,D=>{x().axes&&(x().y.axis==="left"||x().y.axis==="both")&&D(q)})}var B=$(Ft,2);{var tt=D=>{Yi(D,{anchor:"right",automatic:!0})};V(B,D=>{x().axes&&(x().y.axis==="right"||x().y.axis==="both")&&D(tt)})}F(K,ot)};V(z,K=>{!k()&&!p()&&K(W)})}var j=$(z,2);{var H=K=>{ec(K,{automatic:!0})};V(j,K=>{!S()&&(x().grid||x().x.grid)&&K(H)})}var O=$(j,2);{var Y=K=>{Ao(K,{automatic:!0})};V(O,K=>{!w()&&(x().grid||x().y.grid)&&K(Y)})}var G=$(O,2);{var Q=K=>{Qs(K,{automatic:!0})};V(G,K=>{x().frame&&K(Q)})}var J=$(G,2);{let K=v(()=>({options:x(),scales:E(),...M()}));Gt(J,()=>e.children??Ht,()=>a(K))}F(P,I)}),F(b,T)},g=b=>{Dx(b,{})};let m=v(()=>e.header||e.title||e.subtitle||e.color?.legend||e.symbol?.legend?n:null),y=v(()=>e.footer||e?.caption?r:null);J_(h,je({get overlay(){return e.overlay},get underlay(){return e.underlay}},()=>i,{get header(){return a(m)},get footer(){return a(y)},get projection(){return a(o)},implicitScales:!0},()=>a(s),{children:d,facetAxes:g,$$slots:{default:!0,facetAxes:!0}}))}}),F(t,c),vt()}var y3=rt("<g><!></g>");function Co(t,e){let n=Vt(e,"length",3,1),r=Vt(e,"class",3,null),i=le(e,["$$slots","$$events","$$legacy","length","children","class"]);var o=at(),s=Z(o);{var f=l=>{var u=y3();ao(u,()=>({class:r(),...i}));var h=et(u);Gt(h,()=>e.children),F(l,u)},c=l=>{var u=at(),h=Z(u);Gt(h,()=>e.children),F(l,u)};V(s,l=>{n()>1||r()?l(f):l(c,!1)})}F(t,o)}const _3=new Map([["basis",Xb],["basis-closed",Vb],["basis-open",Zb],["bundle",Kb],["bump-x",Tb],["bump-y",Eb],["cardinal",$b],["cardinal-closed",Qb],["cardinal-open",Jb],["catmull-rom",ty],["catmull-rom-closed",ey],["catmull-rom-open",ny],["linear",zf],["linear-closed",ry],["monotone-x",iy],["monotone-y",ay],["natural",oy],["step",sy],["step-after",cy],["step-before",fy]]);function x3(t=zf,e){if(typeof t=="function")return t;const n=_3.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}const sn=new class{#t=Fn(window.devicePixelRatio);#e(){const e=nd(window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),"change",()=>{gt(this.#t,window.devicePixelRatio),e(),this.#e()})}constructor(){this.#e()}get current(){return a(this.#t),window.devicePixelRatio}};var w3=kt("<canvas></canvas>"),S3=rt('<foreignObject x="0" y="0" class="svelte-zr9o7x"><!></foreignObject>');function H1(t,e){pt(e,!0);const n=new Op("prefers-color-scheme: dark");let r=wt(void 0);const i=u=>{const h=u.ownerDocument.documentElement,d=new MutationObserver(()=>{gt(r,getComputedStyle(h).colorScheme,!0)});return d.observe(h,{attributes:!0}),()=>{d.disconnect()}};let o=le(e,["$$slots","$$events","$$legacy"]);const{getPlotState:s}=Et("svelteplot"),f=v(s);var c=S3(),l=et(c);mp(l,()=>[a(r),n.current],u=>{var h=w3();ao(h,()=>({xmlns:"http://www.w3.org/1999/xhtml",...o,width:a(f).width*(sn.current??1),height:a(f).height*(sn.current??1),style:`width: ${a(f).width??""}px; height: ${a(f).height??""}px;`}),void 0,void 0,void 0,"svelte-zr9o7x"),F(u,h)}),cr(c,()=>i),it(()=>{U(c,"width",a(f).width),U(c,"height",a(f).height)}),F(t,c),vt()}function ji(t,e){if(`${t}`.toLowerCase()==="currentcolor"&&(t=getComputedStyle(e?.parentElement?.parentElement).getPropertyValue("color")),Ca.test(t)&&(t=getComputedStyle(e).getPropertyValue(t.slice(4,-1))),ch.test(t)){const r=t.match(/^url\((#[^)]+)\)/)[1],i=e.ownerDocument.querySelector(r);if(i&&i.nodeName.toLowerCase()==="lineargradient"){const o=+i.getAttribute("x1"),s=+i.getAttribute("x2"),f=+i.getAttribute("y1"),c=+i.getAttribute("y2"),l=e.getContext("2d").createLinearGradient(o,f,s,c);for(const u of i.querySelectorAll("stop")){const h=+u.getAttribute("offset"),d=ji(u.getAttribute("stop-color"),e);l.addColorStop(Math.min(1,Math.max(0,h)),d)}return l}}return t}const Qe={x:Symbol("x"),x1:Symbol("x1"),x2:Symbol("x2"),y:Symbol("y"),y1:Symbol("y1"),y2:Symbol("y2")},ga=Symbol("group"),Ql=Symbol("facet"),Jl={order:null,offset:null,reverse:!1},k3={none:Di,sum:by,appearance:Nh,"inside-out":yy},tu={none:null,diverging:gy,wiggle:vy,center:py,normalize:hy};function M3(t,e,n,r){if(r===!1)return{data:e,...n};const i=[n.fx!=null?"fx":null,n.fy!=null?"fy":null].filter(l=>l!==null),o=n.z?"z":n.fill?"fill":n.stroke?"stroke":!0,s=n.x1!=null?"x1":"x",f=`${t}1`,c=`${t}2`;if(n[t]!=null&&n[`${f}`]===void 0&&n[`${c}`]===void 0){const l=Zi(e).map((d,g)=>({...Ve(d)?d:{[Rt]:d},[Qe[s]]:Ut(s,d,n),[ga]:o===!0?"G":Ut(o,d,n),[Ql]:i.length>0?i.map(m=>String(Ut(m,d,n))).join("---"):"F",[Qe[t]]:Ut(t,d,n)})),u=[],h=bs(l,d=>d[Ql]);for(const[,d]of h){let g;const m=bs(d,p=>p[Qe[s]]);let y;const b=o!==!0&&m.every(([,p])=>new Set(p.map(w=>w[ga])).size===p.length);if(o===!0||!b){let p=0;y=m.map(([S,w])=>{const x=w.map(E=>({i:E[zt],v:E[Qe[t]]}));return x.length>p&&(p=x.length),x}),g=Pn(p)}else{const p=new Set(d.map(S=>S[ga]));y=m.map(([S,w])=>{const x={};return w.forEach(E=>{const M=E[ga];x[M]==null?x[M]={i:E[zt],v:E[Qe[t]]}:x[M]={i:E[zt],v:x[M].v+E[Qe[t]]}}),x}),g=Array.from(p)}const _=p=>{const S=k3[r.order||"none"];return r.reverse?S(p).reverse():S(p)},A=dy().order(_).offset(o===!0&&r.offset==="wiggle"?tu.center:tu[r.offset]).keys(g).value((p,S,w,x)=>p[S]?.v==null?void 0:p[S]?.v)(y).flatMap(p=>p.map(S=>[S[0],S[1],S.data[p.key]?.i])).filter(p=>p[2]!==void 0).map(p=>({[Qe[f]]:p[0],[Qe[c]]:p[1],...l[p[2]]}));u.push(...A)}return{data:u.sort((d,g)=>d[zt]-g[zt]),...n,[t]:void 0,...typeof n[t]=="string"&&!n[di[t]]?{[di[t]]:n[t]}:{},[f]:Qe[f],[c]:Qe[c]}}return{data:e,...n}}function T3({data:t,...e},n={}){return M3("y",t,e,E3(n))}function E3(t){return t===!1?!1:t.offset==="wiggle"&&t.order===void 0?{...Jl,order:"inside-out",...t}:{...Jl,...t}}function A3(t,e){pt(e,!0);const{getPlotState:n}=Et("svelteplot"),r=v(n),i={...Wt().bar,...Wt().barY};let o=le(e,["$$slots","$$events","$$legacy"]);const s=v(()=>({...i,...o})),f=v(()=>Ct(a(s).data,()=>[{}],!0)),c=v(()=>Ct(a(s).class,null)),l=v(()=>a(s).stack),u=v(()=>Ke(a(s),["data","class","stack"])),h=v(()=>T3(R3(Eo(Dy({data:a(f),...a(u)})),{plot:a(r)}),a(l)));vn(t,je({type:"barY",requiredScales:{x:["band"]},channels:["x","y1","y2","fill","stroke","opacity","fillOpacity","strokeOpacity"]},()=>a(h),{children:(g,m)=>{let y=()=>m?.().scaledData,b=()=>m?.().usedScales;Co(g,{class:"bar-y",get length(){return y().length},children:(_,k)=>{var A=at(),p=Z(A);jt(p,17,y,ce,(S,w)=>{const x=v(()=>a(r).scales.x.fn.bandwidth()),E=v(()=>Math.min(a(w).y1,a(w).y2)),M=v(()=>Math.max(a(w).y1,a(w).y2));var T=at(),C=Z(T);{var R=P=>{{let I=v(()=>a(w).x-a(x)*.5),N=v(()=>a(M)-a(E));I0(P,{get x(){return a(I)},get y(){return a(E)},get options(){return a(h)},get class(){return a(c)},get width(){return a(x)},get height(){return a(N)},get datum(){return a(w)},get usedScales(){return b()},useInsetAsFallbackVertically:!1})}};V(C,P=>{a(w).valid&&P(R)})}F(S,T)}),F(_,A)},$$slots:{default:!0}})},$$slots:{default:!0}})),vt()}function N3(t,e){pt(e,!0);const{getPlotState:n}=Et("svelteplot"),r=v(n);function i(f,c,l){return yo(wo(f),c).context(l)()}let o=Ae(e.mark.options);const s=f=>{const c=f.getContext("2d");ae(()=>{if(c){c.resetTransform(),c.scale(sn.current??1,sn.current??1);for(const l of e.data)if(l.valid){let{fill:u,stroke:h}=l;if(u=ji(u,f),h=ji(h,f),h&&h!=="none"){const b=nt(o.strokeWidth,l.datum,1.6);c.lineWidth=b}c.fillStyle=u||"none",c.strokeStyle=h||"none",c.translate(l.x,l.y);const d=l.r*l.r*Math.PI;c.beginPath(),i(l.symbol,d,c),c.closePath();const{opacity:g=1,fillOpacity:m=1,strokeOpacity:y=1}=l;g!=null&&(c.globalAlpha=g??1),m!=null&&(c.globalAlpha=(g??1)*m),u&&u!=="none"&&c.fill(),y!=null&&(c.globalAlpha=(g??1)*y),h&&h!=="none"&&c.stroke(),c.translate(-l.x,-l.y)}}return()=>{c?.clearRect(0,0,a(r).width*(sn.current??1),a(r).height*(sn.current??1))}})};H1(t,{[ad()]:s}),vt()}var C3=rt("<path></path>"),P3=rt("<g><!></g>");function of(t,e){pt(e,!0);const n={...Wt().dot};let r=le(e,["$$slots","$$events","$$legacy"]);const i=v(()=>({...n,...r})),o=v(()=>Ct(a(i).data,()=>[{}],!0)),s=v(()=>Ct(a(i).canvas,!1)),f=v(()=>Ct(a(i).class,"")),c=v(()=>Ct(a(i).dotClass,null)),l=v(()=>Ke(a(i),["data","canvas","class","dotClass"])),{getPlotState:u}=Et("svelteplot"),h=v(u);function d(m,y){return yo(wo(m),y)()}const g=v(()=>Eo(Rh({data:a(o),...a(l).r&&!Zs(a(h).scales.x.type)&&!Zs(a(h).scales.y.type)?{sort:{channel:"-r"}}:{},...a(l),...a(l).fill===!0?{fill:"currentColor"}:{}})));vn(t,je({type:"dot",required:["x","y"],channels:["x","y","r","symbol","fill","opacity","stroke","fillOpacity","strokeOpacity"],defaults:{x:0,y:0,r:3,symbol:"circle"}},()=>a(g),{children:(y,b)=>{let _=()=>b?.().mark,k=()=>b?.().usedScales,A=()=>b?.().scaledData;var p=P3(),S=et(p);{var w=E=>{N3(E,{get data(){return A()},get mark(){return _()}})},x=E=>{var M=at(),T=Z(M);jt(T,17,A,ce,(C,R)=>{var P=at(),I=Z(P);{var N=L=>{const z=v(()=>{const[W,j]=Ce(a(h),a(R),{strokeWidth:1.6,...a(g)},"stroke",k());return{style:W,styleClass:j}});D0(L,{get options(){return a(l)},get datum(){return a(R).datum},children:(W,j)=>{var H=C3();cr(H,()=>zi({getPlotState:u,options:a(g),datum:a(R)?.datum})),it((O,Y)=>{U(H,"transform",`translate(${a(R).x??""}, ${a(R).y??""})`),U(H,"d",O),Ot(H,0,Y),Lt(H,a(z).style)},[()=>d(a(R).symbol,a(R).r**2*Math.PI),()=>Jt([a(c)?nt(a(c),a(R).datum,null):null,a(z).styleClass])]),F(W,H)},$$slots:{default:!0}})};V(I,L=>{a(R).valid&&Me(a(R).r)&&L(N)})}F(C,P)}),F(E,M)};V(S,E=>{a(s)?E(w):E(x,!1)})}it(()=>Ot(p,0,`dot ${(a(f)||"")??""}`)),F(y,p)},$$slots:{default:!0}})),vt()}const F3={count:t=>Array.from(t).length,min:xs,max:Ei,mode:nv,sum:md,mean:Jp,median:tv,identity:t=>t,variance:hd,deviation:Up,first:t=>t[0],last:t=>t.at(-1),difference:t=>t.at(-1)-t[0],ratio:t=>t.at(-1)/t[0]};new Proxy(F3,{get(t,e){if(String(e).charAt(0)==="p"&&String(e).length===3){const n=+String(e).slice(1)/100;return L3(n)}return Reflect.get(t,e)},has(t,e){return String(e).charAt(0)==="p"&&String(e).length===3?!0:Reflect.has(t,e)}});function L3(t){return(e,n)=>_f(e,t,n)}function R3(t,{plot:e}){return D3("y",e,t)}function D3(t,e,{data:n,...r}){if(r.interval&&r[t]&&r[`${t}1`]==null&&r[`${t}2`]==null){const i=Jf(r.interval,e.scales[t].type);return{data:n.map(s=>{const f=Ut(t,s,r);return{...s,[`__${t}1`]:i.floor(f),[`__${t}2`]:i.offset(i.floor(f))}}),insetBottom:1,...r,[`${t}1`]:`__${t}1`,[`${t}2`]:`__${t}2`}}return{data:n,...r}}var I3=rt("<circle></circle>"),O3=rt("<path></path>"),Y3=rt("<marker><!></marker>");function z3(t,e){pt(e,!0);const n=u=>({viewBox:"-3 -3 6 6",path:"M0,-3v6",width:6,height:6,orient:u,color:"stroke"}),r={circle:{width:6.67,height:6.67,orient:0,color:"fill",bg:"stroke"},dot:{width:6.67,height:6.67,orient:0,color:"fill"},"circle-stroke":{width:6.67,height:6.67,orient:0,color:"stroke",bg:"fill"},tick:n("auto"),"tick-x":n(90),"tick-y":n(0),arrow:{path:"M-1.5,-3l3,3l-3,3",width:6.67,height:6.67,orient:"auto",color:"stroke"},"arrow-reverse":{path:"M1.5,-3l-3,3l3,3",width:6.67,height:6.67,orient:"auto",color:"stroke"}},i=Wt().markerDotRadius,o=v(()=>({fill:"none",[r[e.shape].color]:e.color,...r[e.shape].bg?{[r[e.shape].bg]:"var(--svelteplot-bg)"}:{}}));var s=Y3();ao(s,()=>({id:e.id,viewBox:r[e.shape].viewBox||"-5 -5 10 10",markerWidth:r[e.shape].width,orient:r[e.shape].orient,markerHeight:r[e.shape].height,"stroke-width":"1.5",...a(o)}));var f=et(s);{var c=u=>{var h=I3();it(()=>U(h,"r",i)),F(u,h)},l=u=>{var h=O3();it(()=>U(h,"d",r[e.shape].path)),F(u,h)};V(f,u=>{e.shape==="dot"||e.shape==="circle"||e.shape==="circle-stroke"?u(c):u(l,!1)})}F(t,s),vt()}var q3=rt("<path></path>"),j3=rt('<path stroke="none" fill="none"></path><text dy="-3"><textPath> </textPath></text>',1),U3=rt("<g><!><!><path></path><!></g>");function W3(t,e){pt(e,!0);let n=Vt(e,"class",3,null),r=Vt(e,"textStyleClass",3,null);const i=Bf(),{getPlotState:o}=Et("svelteplot"),s=v(()=>e.text&&e.d!=null?e.d.split(/[LMC]/).slice(1):[]),f=v(()=>a(s).length>0),c=v(()=>e.text&&a(f)?a(s).at(0).split(",").map(Number):[]),l=v(()=>e.text&&a(f)?a(s).at(-1).split(",").map(Number):[]),u=v(()=>e.text&&a(f)?a(c)[0]<a(l).at(-2):!0),h=v(()=>!e.text||a(u)?e.d:e.dInv),d=v(()=>nt(e.strokeWidth,e.datum,1.4));var g=U3(),m=et(g);jt(m,17,()=>Object.entries({start:e.markerStart,mid:e.markerMid,end:e.markerEnd,all:e.marker}),([p,S])=>p,(p,S,w,x)=>{var E=v(()=>va(a(S),2));let M=()=>a(E)[0],T=()=>a(E)[1];const C=v(()=>`marker-${M()==="all"?"":`${M()}-`}${i}`);var R=at(),P=Z(R);{var I=L=>{var z=at(),W=Z(z);Gt(W,T,()=>a(C),()=>e.color),F(L,z)},N=L=>{var z=at(),W=Z(z);{var j=H=>{{let O=v(()=>T()===!0?"circle":nt(T(),e.datum));z3(H,{get id(){return a(C)},get shape(){return a(O)},get color(){return e.color}})}};V(W,H=>{T()&&H(j)},!0)}F(L,z)};V(P,L=>{Ay(T())?L(I):L(N,!1)})}F(p,R)});var y=$(m);{var b=p=>{var S=q3();it(()=>{U(S,"d",e.d),Lt(S,`fill:none;stroke-width: ${(e.strokeWidth||1)+10}; stroke: transparent; stroke-opacity:0`)}),F(p,S)};V(y,p=>{(e.mark.options.onmouseenter||e.mark.options.onclick)&&p(b)})}var _=$(y);cr(_,()=>zi({getPlotState:o,options:e.mark.options,datum:e.datum}));var k=$(_);{var A=p=>{var S=j3(),w=Z(S),x=$(w),E=et(x),M=et(E);it(()=>{U(w,"d",a(h)),U(w,"id",i),Lt(x,e.textStyle),Ot(x,0,Jt(r()),"svelte-12l946b"),U(E,"startOffset",e.startOffset),U(E,"href",`#${i??""}`),Xt(M,e.text)}),F(p,S)};V(k,p=>{e.text&&p(A)})}cr(g,()=>zi({getPlotState:o,options:e.mark.options,datum:e.datum})),it(()=>{U(g,"transform",e.transform),Ot(g,0,Jt(n())),U(g,"stroke-width",a(d)),U(_,"marker-start",e.markerStart||e.marker?`url(#marker-${e.markerStart?"start-":""}${i})`:null),U(_,"marker-mid",e.markerMid||e.marker?`url(#marker-${e.markerMid?"mid-":""}${i})`:null),U(_,"marker-end",e.markerEnd||e.marker?`url(#marker-${e.markerEnd?"end-":""}${i})`:null),U(_,"d",e.d),Lt(_,e.style)}),F(t,g),vt()}function B3(t,e){pt(e,!0);const{getPlotState:n}=Et("svelteplot"),r=v(n);function i(s){return s==null?1:+s}const o=s=>{const f=s.getContext("2d");ae(()=>{if(f){e.linePath.context(f),f.resetTransform(),f.scale(sn.current??1,sn.current??1),f.lineJoin="round",f.lineCap="round";for(const c of e.groupedLineData){if(c.length<2)continue;const l=c[0];if(!l||!l.valid)continue;let{stroke:u,...h}=Oh(l.datum,e.mark.options,e.usedScales,a(r),"stroke");const d=i(h.opacity),g=i(h["stroke-opacity"]),m=nt(e.mark.options.strokeWidth,l.datum,1.4);if(e.mark.options.outlineStroke){const y=ji(e.mark.options.outlineStroke,s),b=e.mark.options.outlineStrokeWidth??m+2,_=e.mark.options.outlineStrokeOpacity??1;f.lineWidth=b,f.strokeStyle=y,f.globalAlpha=d*_,f.beginPath(),e.linePath(c),f.stroke()}u=ji(u,s),u&&u!=="none"&&(f.lineWidth=m??1.4),f.strokeStyle=u||"currentColor",f.globalAlpha=d*g,f.beginPath(),e.linePath(c),f.stroke()}e.linePath.context(null)}return()=>{f?.clearRect(0,0,a(r).width*(sn.current??1),a(r).height*(sn.current??1))}})};H1(t,{[ad()]:o}),vt()}var H3=rt("<path></path>"),G3=rt("<!><!>",1),X3=rt("<g></g>");function V3(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={curve:"auto",tension:0,canvas:!1,class:null,lineClass:null,...Wt().line},i=v(()=>({...r,...n})),o=v(()=>Ct(a(i).data,()=>[{}],!0)),s=v(()=>a(i).curve),f=v(()=>a(i).tension),c=v(()=>a(i).text),l=v(()=>a(i).canvas),u=v(()=>a(i).class),h=v(()=>a(i).lineClass),d=v(()=>Ke(a(i),["data","curve","tension","text","canvas","class","lineClass"])),g=v(()=>Eo(Rh({data:a(o),...a(d)})));function m(p,S){if(!S)return[p];let w=[];const x=[w];let E;for(const M of p){const T=nt(S,M.datum);T===E?w.push(M):(w=[M],x.push(w),E=T)}return x}const y=v(()=>a(g).z||a(g).stroke),{getPlotState:b}=Et("svelteplot"),_=v(b),k=v(()=>a(_).scales.projection&&a(s)==="auto"?A(a(_).scales.projection):W1(Mb,[],{curve:x3(a(s)==="auto"?"linear":a(s),a(f)),x:p=>p.x,y:p=>p.y,defined:p=>Me(p.x)&&Me(p.y)}));function A(p){const S=i0(p),w=x=>{let E=[];const M=[E];for(const{x:T,y:C}of x)!Me(T)||!Me(C)?(E=[],M.push(E)):E.push([T,C]);return S({type:"MultiLineString",coordinates:M})};return w.context=S.context,w}vn(t,je({type:"line",channels:["x","y","opacity","stroke","strokeOpacity"],required:["x","y"]},()=>a(g),{children:(S,w)=>{let x=()=>w?.().mark,E=()=>w?.().usedScales,M=()=>w?.().scaledData;var T=at(),C=Z(T);{var R=P=>{const I=v(()=>m(M(),a(y)));var N=at(),L=Z(N);{var z=j=>{B3(j,{get groupedLineData(){return a(I)},get mark(){return x()},get usedScales(){return E()},get linePath(){return a(k)},get groupByKey(){return a(y)}})},W=j=>{var H=X3();jt(H,21,()=>a(I),ce,(O,Y)=>{const G=v(()=>a(k)(a(Y)));var Q=at(),J=Z(Q);{var K=ot=>{{let Ft=v(()=>nt(a(h),a(Y)[0]));Co(ot,{get class(){return a(Ft)},children:(q,B)=>{const tt=v(()=>{const[_t,xt]=Ce(a(_),a(Y)[0],{strokeWidth:1.4,strokeLinejoin:"round",...a(g),stroke:a(Y)[0].stroke},"stroke",E());return{style:_t,styleClass:xt}}),D=v(()=>{const[_t,xt]=Ce(a(_),a(Y)[0],{textAnchor:"middle",...A0(a(g),["fontSize","fontWeight","fontStyle","textAnchor"]),strokeWidth:a(g).textStrokeWidth?a(g).textStrokeWidth:a(g).textStroke?2:0,fill:a(g).textFill||a(Y)[0].stroke,stroke:a(g).textStroke},"fill",E(),!0);return{textStyle:_t,textStyleClass:xt}});var mt=G3(),st=Z(mt);{var At=_t=>{const xt=v(()=>{const[Fe,tr]=Ce(a(_),{...a(Y)[0],stroke:a(d).outlineStroke},{strokeLinejoin:"round",...a(g),stroke:a(d).outlineStroke,strokeOpacity:a(d).outlineStrokeOpacity??1,strokeWidth:a(d).outlineStrokeWidth||nt(a(d).strokeWidth,a(Y)[0].datum,1.4)+2},"stroke",E());return{outlineStyle:Fe,outlineStyleClass:tr}});var Dt=H3();it(()=>{U(Dt,"d",a(G)),Lt(Dt,a(xt).outlineStyle),Ot(Dt,0,Jt(["is-outline",a(xt).outlineStyleClass]))}),F(_t,Dt)};V(st,_t=>{a(d).outlineStroke&&_t(At)})}var Mt=$(st);{let _t=v(()=>a(c)?a(k)(a(Y).toReversed()):null),xt=v(()=>a(Y)[0].stroke||"currentColor"),Dt=v(()=>a(c)?nt(a(c),a(Y)[0].datum):null),Fe=v(()=>nt(a(g).textStartOffset,a(Y)[0].datum,"50%"));W3(Mt,{get mark(){return x()},get scales(){return a(_).scales},get markerStart(){return a(g).markerStart},get markerMid(){return a(g).markerMid},get markerEnd(){return a(g).markerEnd},get marker(){return a(g).marker},get strokeWidth(){return a(g).strokeWidth},get datum(){return a(Y)[0].datum},get d(){return a(G)},get dInv(){return a(_t)},get color(){return a(xt)},get style(){return a(tt).style},get class(){return a(tt).styleClass},get text(){return a(Dt)},get startOffset(){return a(Fe)},get textStyle(){return a(D).textStyle},get textStyleClass(){return a(D).textStyleClass}})}F(q,mt)},$$slots:{default:!0}})}};V(J,ot=>{a(G)&&ot(K)})}F(O,Q)}),it(()=>Ot(H,0,Jt(["lines",a(u)]))),F(j,H)};V(L,j=>{a(l)?j(z):j(W,!1)})}F(P,N)};V(C,P=>{M().length>0&&P(R)})}F(S,T)},$$slots:{default:!0}})),vt()}function Z3(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return G1(this.cover(e,n),e,n,t)}function G1(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,s={data:r},f=t._x0,c=t._y0,l=t._x1,u=t._y1,h,d,g,m,y,b,_,k;if(!o)return t._root=s,t;for(;o.length;)if((y=e>=(h=(f+l)/2))?f=h:l=h,(b=n>=(d=(c+u)/2))?c=d:u=d,i=o,!(o=o[_=b<<1|y]))return i[_]=s,t;if(g=+t._x.call(null,o.data),m=+t._y.call(null,o.data),e===g&&n===m)return s.next=o,i?i[_]=s:t._root=s,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(y=e>=(h=(f+l)/2))?f=h:l=h,(b=n>=(d=(c+u)/2))?c=d:u=d;while((_=b<<1|y)===(k=(m>=d)<<1|g>=h));return i[k]=o,i[_]=s,t}function K3(t){var e,n,r=t.length,i,o,s=new Array(r),f=new Array(r),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=i,f[n]=o,i<c&&(c=i),i>u&&(u=i),o<l&&(l=o),o>h&&(h=o));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<r;++n)G1(this,s[n],f[n],t[n]);return this}function $3(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s=i-n||1,f=this._root,c,l;n>t||t>=i||r>e||e>=o;)switch(l=(e<r)<<1|t<n,c=new Array(4),c[l]=f,f=c,s*=2,l){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=f)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Q3(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function J3(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function he(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function t6(t,e,n){var r,i=this._x0,o=this._y0,s,f,c,l,u=this._x1,h=this._y1,d=[],g=this._root,m,y;for(g&&d.push(new he(g,i,o,u,h)),n==null?n=1/0:(i=t-n,o=e-n,u=t+n,h=e+n,n*=n);m=d.pop();)if(!(!(g=m.node)||(s=m.x0)>u||(f=m.y0)>h||(c=m.x1)<i||(l=m.y1)<o))if(g.length){var b=(s+c)/2,_=(f+l)/2;d.push(new he(g[3],b,_,c,l),new he(g[2],s,_,b,l),new he(g[1],b,f,c,_),new he(g[0],s,f,b,_)),(y=(e>=_)<<1|t>=b)&&(m=d[d.length-1],d[d.length-1]=d[d.length-1-y],d[d.length-1-y]=m)}else{var k=t-+this._x.call(null,g.data),A=e-+this._y.call(null,g.data),p=k*k+A*A;if(p<n){var S=Math.sqrt(n=p);i=t-S,o=e-S,u=t+S,h=e+S,r=g.data}}return r}function e6(t){if(isNaN(u=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,s=this._x0,f=this._y0,c=this._x1,l=this._y1,u,h,d,g,m,y,b,_;if(!n)return this;if(n.length)for(;;){if((m=u>=(d=(s+c)/2))?s=d:c=d,(y=h>=(g=(f+l)/2))?f=g:l=g,e=n,!(n=n[b=y<<1|m]))return this;if(!n.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(r=e,_=b)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[b]=o:delete e[b],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=o,this)}function n6(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function r6(){return this._root}function i6(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function a6(t){var e=[],n,r=this._root,i,o,s,f,c;for(r&&e.push(new he(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,s=n.y0,f=n.x1,c=n.y1)&&r.length){var l=(o+f)/2,u=(s+c)/2;(i=r[3])&&e.push(new he(i,l,u,f,c)),(i=r[2])&&e.push(new he(i,o,u,l,c)),(i=r[1])&&e.push(new he(i,l,s,f,u)),(i=r[0])&&e.push(new he(i,o,s,l,u))}return this}function o6(t){var e=[],n=[],r;for(this._root&&e.push(new he(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,s=r.x0,f=r.y0,c=r.x1,l=r.y1,u=(s+c)/2,h=(f+l)/2;(o=i[0])&&e.push(new he(o,s,f,u,h)),(o=i[1])&&e.push(new he(o,u,f,c,h)),(o=i[2])&&e.push(new he(o,s,h,u,l)),(o=i[3])&&e.push(new he(o,u,h,c,l))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function s6(t){return t[0]}function f6(t){return arguments.length?(this._x=t,this):this._x}function c6(t){return t[1]}function l6(t){return arguments.length?(this._y=t,this):this._y}function X1(t,e,n){var r=new nc(e??s6,n??c6,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function nc(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function eu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ve=X1.prototype=nc.prototype;ve.copy=function(){var t=new nc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=eu(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=eu(r));return t};ve.add=Z3;ve.addAll=K3;ve.cover=$3;ve.data=Q3;ve.extent=J3;ve.find=t6;ve.remove=e6;ve.removeAll=n6;ve.root=r6;ve.size=i6;ve.visit=a6;ve.visitAfter=o6;ve.x=f6;ve.y=l6;var u6=rt('<g class="pointer"><!></g>');function V1(t,e){pt(e,!0);const{getPlotState:n}=Et("svelteplot"),r=v(n),i=Symbol("pointerX"),o=Symbol("pointerY");let s=le(e,["$$slots","$$events","$$legacy"]);const f={...Wt().pointer},c=v(()=>({...f,...s})),l=v(()=>Ct(a(c).data,()=>[{}],!0)),u=v(()=>a(c).children),h=v(()=>a(c).x),d=v(()=>a(c).y),g=v(()=>a(c).z),m=v(()=>a(c).fx),y=v(()=>a(c).fy),b=v(()=>Ct(a(c).maxDistance,15)),_=v(()=>Ct(a(c).tolerance,()=>Number.NEGATIVE_INFINITY,!0)),k=v(()=>Ct(a(c).onupdate,null));let A=wt(Ae([]));function p(R){let P=R.target;for(;P&&!P.classList.contains("facet");)P=P.parentElement;const I=(P?.firstChild??a(r).body).getBoundingClientRect(),N=R.clientX-I.left+(a(r).options.marginLeft??0),L=R.clientY-I.top+(a(r).options.marginTop??0);w(N,L)}function S(){gt(A,[],!0),a(k)&&a(k)(a(A))}function w(R,P){const I=a(E).map(L=>L.find(a(h)!=null?R:0,a(d)!=null?P:0,a(b))),N=a(E).flatMap((L,z)=>L.data().filter(W=>W!==I[z]).filter(W=>(!isFinite(W[i])||Math.abs(W[i]-I[z]?.[i])<a(_))&&(!isFinite(W[o])||Math.abs(W[o]-I[z]?.[o])<a(_))));gt(A,[...I,...N].filter(L=>L!=null),!0),a(k)&&a(k)(a(A))}ae(()=>(a(r).body?.addEventListener("pointermove",p),a(r).body?.addEventListener("pointerleave",S),()=>{a(r).body?.removeEventListener("pointermove",p),a(r).body?.removeEventListener("pointerleave",S)}));const x=v(()=>{const R=[];return N0(Zi(a(l)),{x:a(h),y:a(d),z:a(g),fx:a(m),fy:a(y)},P=>R.push(P)),R}),E=v(()=>a(x).map(R=>X1().x(a(h)!=null?P=>P[i]:()=>0).y(a(d)!=null?P=>P[o]:()=>0).addAll(R?.map(P=>{const[I,N]=tc(a(r).scales,Ut("x",P,{x:a(h)}),Ut("y",P,{y:a(d)}),!0,!0);return{...Ve(P)?P:{[Rt]:P},[i]:I,[o]:N}})??[])));var M=at(),T=Z(M);{var C=R=>{var P=u6(),I=et(P);Gt(I,()=>a(u),()=>({data:a(A)})),F(R,P)};V(T,R=>{a(u)&&R(C)})}F(t,M),vt()}var d6=rt("<line></line>");function h6(t,e){pt(e,!0);let n=le(e,["$$slots","$$events","$$legacy"]);const r={...Wt().rule,...Wt().ruleX},i=v(()=>({...r,...n})),o=v(()=>Ct(a(i).data,()=>[{}],!0)),s=v(()=>Ct(a(i).class,"")),f=v(()=>Ke(a(i),["data","class"])),{getPlotState:c}=Et("svelteplot"),l=v(c),u=v(()=>Ry({data:a(o),...a(f)},{withIndex:!1}));vn(t,je({type:"ruleX",channels:["x","y1","y2","stroke","opacity","strokeOpacity"]},()=>n,()=>a(u),{children:(d,g)=>{let m=()=>g?.().scaledData,y=()=>g?.().usedScales;{let b=v(()=>a(s)||""),_=v(()=>a(s)?2:m().length);Co(d,{get class(){return`rule-x ${a(b)??""}`},get length(){return a(_)},children:(k,A)=>{var p=at(),S=Z(p);jt(S,17,m,ce,(w,x)=>{const E=v(()=>nt(a(u).inset,a(x).datum,0)),M=v(()=>nt(a(u).insetTop,a(x).datum,0)),T=v(()=>nt(a(u).insetBottom,a(x).datum,0)),C=v(()=>{const[P,I]=Ce(a(l),a(x),a(u),"stroke",y());return{style:P,styleClass:I}});var R=d6();it(()=>{U(R,"transform",`translate(${a(x).x??""}, 0)`),Lt(R,a(C).style),Ot(R,0,Jt([a(C).styleClass])),U(R,"y1",(a(E)||a(M))+(a(x).y1!=null?a(x).y1:a(l).options.marginTop+a(x).dy)),U(R,"y2",(a(x).y2!=null?a(x).y2:a(l).facetHeight+a(l).options.marginTop+a(x).dy)-(a(E)||a(T)))}),F(w,R)}),F(k,p)},$$slots:{default:!0}})}},$$slots:{default:!0}})),vt()}var g6=rt('<tspan x="0"> </tspan>'),p6=rt("<title> </title>"),v6=rt("<text><!><!></text>"),m6=rt("<title> </title>"),b6=rt("<text> <!></text>");function y6(t,e){pt(e,!0);const n={bottom:"auto",middle:"central",top:"hanging"},{getPlotState:r}=Et("svelteplot"),i=v(r),o=v(()=>nt(e.args.title,e.d.datum,"")),s=v(()=>nt(e.args.frameAnchor,e.d.datum)),f=v(()=>a(s)==="left"||a(s)==="top-left"||a(s)==="bottom-left"),c=v(()=>a(s)==="right"||a(s)==="top-right"||a(s)==="bottom-right"),l=v(()=>a(s)==="top"||a(s)==="top-left"||a(s)==="top-right"),u=v(()=>a(s)==="bottom"||a(s)==="bottom-left"||a(s)==="bottom-right"),h=v(()=>nt(e.args.lineAnchor,e.d.datum,e.args.y!=null?"middle":a(l)?"top":a(u)?"bottom":"middle")),d=v(()=>nt(e.args.textClass,e.d.datum,null)),g=v(()=>e.args.x!=null&&e.args.y!=null?[e.d.x,e.d.y]:[e.args.x!=null?e.d.x:(a(f)?a(i).options.marginLeft:a(c)?a(i).options.marginLeft+a(i).facetWidth:a(i).options.marginLeft+a(i).facetWidth*.5)+(e.d.dx??0),e.args.y!=null?e.d.y:(a(l)?a(i).options.marginTop:a(u)?a(i).options.marginTop+a(i).facetHeight:a(i).options.marginTop+a(i).facetHeight*.5)+(e.d.dy??0)]),m=v(()=>va(a(g),2)),y=v(()=>a(m)[0]),b=v(()=>a(m)[1]),_=v(()=>Ce(a(i),{...e.d,__tspanIndex:0},{fontSize:12,fontWeight:500,strokeWidth:1.6,textAnchor:a(f)?"start":a(c)?"end":"middle",...e.args},"fill",e.usedScales)),k=v(()=>va(a(_),2)),A=v(()=>a(k)[0]),p=v(()=>a(k)[1]),S=v(()=>e.textLines.length>1?nt(e.args.fontSize,e.d.datum)??12:0);let w=wt(null);const x=v(()=>a(w)?.ownerDocument?.documentElement&&e.textLines.length>1?gl(getComputedStyle(a(w).ownerDocument.documentElement).fontSize):14),E=v(()=>a(w)&&e.textLines.length>1&&Ca.test(a(S))?Ly(gl(getComputedStyle(a(w)).getPropertyValue(`--${a(S).match(Ca)[1]}`)),a(x)):a(S)),M=v(()=>e.textLines.length>1?nt(e.args.lineHeight,e.d.datum)??1.2:0),T=v(()=>+nt(e.args.rotate,e.d.datum,0));var C=at(),R=Z(C);{var P=N=>{var L=v6(),z=et(L);jt(z,17,()=>e.textLines,ce,(H,O,Y)=>{var G=g6(),Q=et(G);it(()=>{U(G,"dy",Y?a(E)*a(M):0),Ot(G,0,Jt(a(p))),Lt(G,a(A)),Xt(Q,a(O))}),F(H,G)});var W=$(z);{var j=H=>{var O=p6(),Y=et(O);it(()=>Xt(Y,a(o))),F(H,O)};V(W,H=>{a(o)&&H(j)})}oo(L,H=>gt(w,H),()=>a(w)),it((H,O)=>{Ot(L,0,Jt([a(d)]),"svelte-1n4f8aw"),U(L,"dominant-baseline",n[a(h)]),U(L,"transform",`translate(${H??""},${O??""}) rotate(${a(T)??""})`)},[()=>Math.round(a(y)),()=>Math.round(a(b)-(a(h)==="bottom"?e.textLines.length-1:a(h)==="middle"?(e.textLines.length-1)*.5:0)*a(E)*a(M))]),F(N,L)},I=N=>{var L=b6(),z=et(L),W=$(z);{var j=H=>{var O=m6(),Y=et(O);it(()=>Xt(Y,a(o))),F(H,O)};V(W,H=>{a(o)&&H(j)})}it((H,O)=>{Ot(L,0,Jt([a(d),a(p)]),"svelte-1n4f8aw"),U(L,"dominant-baseline",n[a(h)]),U(L,"transform",`translate(${H??""},${O??""}) rotate(${a(T)??""})`),Lt(L,a(A)),Xt(z,e.textLines[0])},[()=>Math.round(a(y)),()=>Math.round(a(b))]),F(N,L)};V(R,N=>{e.textLines.length>1?N(P):N(I,!1)})}F(t,C),vt()}function $a(t,e){pt(e,!0);const n={fontSize:12,c:500,strokeWidth:1.6,frameAnchor:"middle",lineHeight:1.1,rotate:0,...Wt().text};let r=le(e,["$$slots","$$events","$$legacy"]);const i=v(()=>({...n,...r})),o=v(()=>Ct(a(i).data,()=>[{}],!0)),s=v(()=>Ct(a(i).class,"")),f=v(()=>Ke(a(i),["data","class"])),c=v(()=>Eo({data:Zi(a(o)),...a(f)}));vn(t,je({type:"text",channels:["x","y","r","symbol","fill","stroke","opacity","strokeOpacity","fillOpacity"],required:[]},()=>a(c),{children:(u,h)=>{let d=()=>h?.().scaledData,g=()=>h?.().usedScales;{let m=v(()=>a(s)?2:a(c).data.length);Co(u,{get class(){return`text ${a(s)??""}`},get length(){return a(m)},children:(y,b)=>{var _=at(),k=Z(_);jt(k,17,d,ce,(A,p)=>{var S=at(),w=Z(S);{var x=E=>{const M=v(()=>String(nt(a(c).text,a(p).datum,"")).split(`
`));y6(E,{get textLines(){return a(M)},get d(){return a(p)},get args(){return a(c)},get usedScales(){return g()}})};V(w,E=>{a(p).valid&&E(x)})}F(A,S)}),F(y,_)},$$slots:{default:!0}})}},$$slots:{default:!0}})),vt()}var _6=kt("<span>Not enough space to display chart.</span>"),x6=kt('<div class="bases-charts-plot-grid-item svelte-1mcxnz1"><!></div>');function w6(t,e){pt(e,!0);let n=wt(0),r=wt(0),i=v(()=>a(n)>100&&a(r)>100),o=wt(Ae([]));function s(d){gt(o,d,!0)}function f(d){if(a(o).length<1)return;const g=d.ctrlKey||d.metaKey,m=a(o)[0].file;e.view.openFile(m,g)}var c=x6();c.__click=f;var l=et(c);{var u=d=>{var g=at(),m=Z(g);{let y=v(()=>({...e.chartProps,width:a(n),height:a(r),setHoveredData:s}));Gt(m,()=>e.chartSnippet,()=>a(y))}F(d,g)},h=d=>{var g=_6();F(d,g)};V(l,d=>{a(i)?d(u):d(h,!1)})}vs(c,"clientWidth",d=>gt(n,d)),vs(c,"clientHeight",d=>gt(r,d)),F(t,c),vt()}rd(["click"]);var S6=kt('<div class="bases-charts-plot-legend-item svelte-1kge2v8"><div class="bases-charts-plot-legend-color svelte-1kge2v8"></div> <span class="bases-charts-plot-legend-label"> </span></div>'),k6=kt("<p>No properties selected</p>"),M6=kt("<p>No data to display</p>"),T6=kt('<div class="bases-charts-plot-legend svelte-1kge2v8"><!></div> <div class="bases-charts-plot-grid svelte-1kge2v8"><!></div>',1);function rc(t,e){pt(e,!0);let n=wt(null),r=wt(""),i=v(()=>a(n)?.hasMultipleGroups()??!1),o=v(()=>a(n)?.getChartGroupIdentifier()??ru);function s(){const y=e.view.config?.getAsPropertyId(ee.X);gt(r,y?`${e.view.config.getDisplayName(y)} â`:"",!0),gt(n,e.view.processData(),!0)}id(()=>(e.view.events.on("data-updated",s),()=>{e.view.events.off("data-updated",s)}));var f=T6(),c=Z(f),l=et(c);{var u=y=>{var b=at(),_=Z(b);jt(_,17,()=>a(n).getGroupIdentifiers(),ce,(k,A,p)=>{var S=S6(),w=et(S),x=$(w,2),E=et(x);it((M,T)=>{Lt(w,`--color: ${M??""}`),Xt(E,T)},[()=>a(n).getColorFromGroupIndex(p),()=>a(n).getGroupName(p)]),F(k,S)}),F(y,b)};V(l,y=>{a(n)&&y(u)})}var h=$(c,2),d=et(h);{var g=y=>{var b=at(),_=Z(b);jt(_,17,()=>a(n).getChartIdentifiers(),ce,(k,A,p)=>{{let S=v(()=>({data:a(n),chartIndex:p,xName:a(r),isGrouped:a(i),groupFn:a(o)}));w6(k,{get view(){return e.view},get chartSnippet(){return e.chartSnippet},get chartProps(){return a(S)}})}},k=>{var A=k6();F(k,A)}),F(y,b)},m=y=>{var b=M6();F(y,b)};V(d,y=>{a(n)?y(g):y(m,!1)})}F(t,f),vt()}var E6=kt("<!> <!> <!> <!> <!>",1);function A6(t,e){pt(e,!0);let n=wt(!0),r=wt(!1);function i(){gt(n,!!(e.view.config?.get(ee.SHOW_LABELS)??!0),!0),gt(r,!!(e.view.config?.get(ee.SHOW_PERCENTAGES)??!1),!0)}id(()=>(e.view.events.on("data-updated",i),()=>{e.view.events.off("data-updated",i)})),rc(t,{get view(){return e.view},chartSnippet:(s,f)=>{let c=()=>f?.().data,l=()=>f?.().chartIndex,u=()=>f?.().xName,h=()=>f?.().groupFn,d=()=>f?.().height;{let g=v(()=>({label:u(),type:"band"})),m=v(()=>({label:`â ${c().getChartName(l())}`,tickFormat:a(r)?y=>`${String(y)}%`:y=>wi(y)}));qi(s,{get x(){return a(g)},get y(){return a(m)},get height(){return d()},class:"bases-charts-plot",children:(y,b)=>{var _=E6(),k=Z(_);mr(k,{fill:"var(--bases-charts-text)",stroke:"var(--bases-charts-text)",opacity:1,removeDuplicateTicks:!0});var A=$(k,2);Yi(A,{fill:"var(--bases-charts-text)",stroke:"var(--bases-charts-text)",opacity:1});var p=$(A,2);Ao(p,{stroke:"var(--bases-charts-grid)",strokeOpacity:1});var S=$(p,2);{let E=v(()=>c().getFlat(l()));A3(S,{get data(){return a(E)},x:"x",y:"y",get fill(){return h()}})}var w=$(S,2);{var x=E=>{{let M=v(()=>c().getStacked(l()));$a(E,{get data(){return a(M)},x:"x",y:"y",fill:"var(--bases-charts-text)",text:T=>a(r)?`${T.y.toFixed(1)}%`:wi(T.y),lineAnchor:"bottom",dy:-5})}};V(w,E=>{a(n)&&E(x)})}F(y,_)},$$slots:{default:!0}})}},$$slots:{chartSnippet:!0}}),vt()}var N6=kt("<!> <!> <!>",1),C6=kt("<!> <!> <!> <!> <!> <!>",1);function P6(t,e){pt(e,!0),rc(t,{get view(){return e.view},chartSnippet:(r,i)=>{let o=()=>i?.().data,s=()=>i?.().chartIndex,f=()=>i?.().xName,c=()=>i?.().groupFn,l=()=>i?.().height,u=()=>i?.().setHoveredData;const h=v(()=>o().getFlat(s(),!0));{let d=v(()=>({label:f()})),g=v(()=>({label:`â ${o().getChartName(s())}`,domain:o().getYDomainForChart(s())}));qi(r,{grid:!0,get x(){return a(d)},get y(){return a(g)},get height(){return l()},class:"bases-charts-plot",children:(m,y)=>{var b=C6(),_=Z(b);mr(_,{fill:"var(--bases-charts-text)",stroke:"var(--bases-charts-text)",opacity:1,removeDuplicateTicks:!0});var k=$(_,2);Yi(k,{fill:"var(--bases-charts-text)",stroke:"var(--bases-charts-text)",opacity:1});var A=$(k,2);ec(A,{stroke:"var(--bases-charts-grid)",strokeOpacity:1});var p=$(A,2);Ao(p,{stroke:"var(--bases-charts-grid)",strokeOpacity:1});var S=$(p,2);V3(S,{get data(){return a(h)},x:"x",y:"y",get stroke(){return c()}});var w=$(S,2);V1(w,{get data(){return a(h)},x:"x",get z(){return c()},maxDistance:50,get onupdate(){return u()},children:(E,M)=>{let T=()=>M?.().data;var C=N6(),R=Z(C);h6(R,{get data(){return T()},x:"x",stroke:"var(--bases-charts-grid-hover)"});var P=$(R,2);$a(P,{get data(){return T()},x:"x",y:"y",fill:"var(--bases-charts-text)",text:N=>wi(N.y),lineAnchor:"bottom",dy:-10});var I=$(P,2);of(I,{get data(){return T()},x:"x",y:"y",stroke:"var(--bases-charts-text)"}),F(E,C)},$$slots:{default:!0}}),F(m,b)},$$slots:{default:!0}})}},$$slots:{chartSnippet:!0}}),vt()}var F6=kt("<!> <!> <!>",1),L6=kt("<!> <!> <!> <!> <!> <!>",1);function R6(t,e){pt(e,!0),rc(t,{get view(){return e.view},chartSnippet:(r,i)=>{let o=()=>i?.().data,s=()=>i?.().chartIndex,f=()=>i?.().xName,c=()=>i?.().groupFn,l=()=>i?.().height,u=()=>i?.().setHoveredData;const h=v(()=>o().getFlat(s()));{let d=v(()=>({label:f()})),g=v(()=>({label:`â ${o().getChartName(s())}`,domain:o().getYDomainForChart(s())}));qi(r,{grid:!0,get x(){return a(d)},get y(){return a(g)},get height(){return l()},class:"bases-charts-plot",children:(m,y)=>{var b=L6(),_=Z(b);mr(_,{fill:"var(--bases-charts-text)",stroke:"var(--bases-charts-text)",opacity:1,removeDuplicateTicks:!0});var k=$(_,2);Yi(k,{fill:"var(--bases-charts-text)",stroke:"var(--bases-charts-text)",opacity:1});var A=$(k,2);ec(A,{stroke:"var(--bases-charts-grid)",strokeOpacity:1});var p=$(A,2);Ao(p,{stroke:"var(--bases-charts-grid)",strokeOpacity:1});var S=$(p,2);of(S,{get data(){return a(h)},x:"x",y:"y",get stroke(){return c()}});var w=$(S,2);V1(w,{get data(){return a(h)},x:"x",y:"y",maxDistance:50,get onupdate(){return u()},children:(E,M)=>{let T=()=>M?.().data;var C=F6(),R=Z(C);$a(R,{get data(){return T()},x:"x",y:"y",fill:"var(--bases-charts-text)",text:N=>wi(N.y),lineAnchor:"bottom",dy:-10});var P=$(R,2);$a(P,{get data(){return T()},x:"x",y:"y",fill:"var(--bases-charts-text)",text:N=>wi(N.label),lineAnchor:"bottom",dy:-25});var I=$(P,2);of(I,{get data(){return T()},x:"x",y:"y",get fill(){return c()},stroke:"var(--bases-charts-text)"}),F(E,C)},$$slots:{default:!0}}),F(m,b)},$$slots:{default:!0}})}},$$slots:{chartSnippet:!0}}),vt()}const yi="chart-scatter",_i="chart-line",xi="chart-bar",ee={X:"x",SHOW_PERCENTAGES:"show-percentages",SHOW_LABELS:"show-labels",MULTI_CHART:"multi-chart-mode",SYNC_Y_AXES:"sync-y-axes",MIN_Y_OVERRIDE:"min-y-override",MAX_Y_OVERRIDE:"max-y-override",LABEL_PROP:"label-property"};function nu(t){if(typeof t=="number")return t;if(typeof t=="string"){if(t.trim()==="")return null;const e=Number(t);if(!isNaN(e))return e}return null}class Te extends jn.BasesView{type;scrollEl;events;svelteComponent=null;constructor(e,n,r){super(n),this.type=e,this.scrollEl=r,this.events=new jn.Events}onload(){this.scrollEl.addClass("bases-chart-view"),this.type===yi?this.svelteComponent=Fo(R6,{target:this.scrollEl,props:{view:this}}):this.type===_i?this.svelteComponent=Fo(P6,{target:this.scrollEl,props:{view:this}}):this.type===xi&&(this.svelteComponent=Fo(A6,{target:this.scrollEl,props:{view:this}}))}onunload(){this.svelteComponent&&vp(this.svelteComponent)}onDataUpdated(){this.events.trigger("data-updated")}processData(){const e=this.config.getAsPropertyId(ee.X),n=this.config.get(ee.MULTI_CHART)??"Separate by property",r=this.config.getOrder();if(n!=="Separate by group"&&n!=="Separate by property")return console.warn(`Invalid multi chart mode: ${n}`),sc(this);if(!e)return sc(this);const i=[],o=this.data.groupedData.map(s=>s.key?.toString()).filter(s=>s!=null);for(const s of this.data?.groupedData??[]){const f=s.key?.toString();let c;f==null?c=0:c=o.indexOf(f);for(const l of s.entries){const u=this.processEntry(l,e,r,c,n);i.push(...u)}}return n==="Separate by group"?new au(this,i,o):new ag(this,i,o)}processEntry(e,n,r,i,o){try{const s=e.getValue(n),f=ig(s),c=this.config.getAsPropertyId(ee.LABEL_PROP);if(f===null)return[];const l=[];let u=0;for(const h of r){const d=rg(e.getValue(h)),g=c?e.getValue(c)?.toString():void 0;f!==null&&d!==null&&l.push({x:f,y:d,groupIndex:o==="Separate by group"?u:i,chartIndex:o==="Separate by group"?i:u,file:e.file.path,label:g}),u++}return l}catch(s){console.warn("Error processing entry",e,s)}return[]}getYDomainOverrides(){const e=this.config.get(ee.MIN_Y_OVERRIDE),n=this.config.get(ee.MAX_Y_OVERRIDE),r=!!this.config.get(ee.SYNC_Y_AXES);return{min:nu(e),max:nu(n),synced:r}}async openFile(e,n){const r=this.app.vault.getFileByPath(e);if(!r)return;const i=this.app.workspace.getLeaf(n?"tab":!1);i&&await i.openFile(r,{state:{mode:"source"}})}static getViewOptions(e){return e===yi?Te.scatterViewOptions():e===_i?Te.lineViewOptions():e===xi?Te.barViewOptions():[]}static commonViewOptions(){return[{displayName:"Multi chart mode",type:"dropdown",key:ee.MULTI_CHART,options:{"Separate by group":"Separate by group","Separate by property":"Separate by property"},default:"Separate by property"},{displayName:"X axis",type:"property",key:ee.X,filter:e=>!e.startsWith("file."),placeholder:"Property"},{displayName:"Sync Y axes",type:"toggle",key:ee.SYNC_Y_AXES,default:!1},{displayName:"Min Y override",type:"text",key:ee.MIN_Y_OVERRIDE,placeholder:"Leave empty to disable",default:""},{displayName:"Max Y override",type:"text",key:ee.MAX_Y_OVERRIDE,placeholder:"Leave empty to disable",default:""}]}static scatterViewOptions(){return[...Te.commonViewOptions(),{displayName:"Label property",type:"property",key:ee.LABEL_PROP,placeholder:"Property"}]}static lineViewOptions(){return[...Te.commonViewOptions()]}static barViewOptions(){return[...Te.commonViewOptions(),{displayName:"Show labels",type:"toggle",key:ee.SHOW_LABELS,default:!0},{displayName:"Show as percentages",type:"toggle",key:ee.SHOW_PERCENTAGES,default:!1}]}}class D6 extends jn.Plugin{onload(){this.registerBasesView(yi,{name:"Scatter Chart",icon:"lucide-chart-scatter",factory:(e,n)=>new Te(yi,e,n),options:()=>Te.getViewOptions(yi)}),this.registerBasesView(_i,{name:"Line Chart",icon:"lucide-chart-line",factory:(e,n)=>new Te(_i,e,n),options:()=>Te.getViewOptions(_i)}),this.registerBasesView(xi,{name:"Bar Chart",icon:"lucide-chart-column",factory:(e,n)=>new Te(xi,e,n),options:()=>Te.getViewOptions(xi)})}onunload(){}}module.exports=D6;
